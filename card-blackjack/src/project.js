window.__require=function e(t,o,n){function r(c,i){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return r(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({AddScore:[function(e,t,o){"use strict";cc._RF.push(t,"9bcf5nexZpAP6Go/ST9BBLs","AddScore");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/Utils"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.addSign=null,t.scoreLabel=null,t}return n(t,e),t.prototype.SetNumber=function(e,t){void 0===t&&(t=5),this.scoreLabel.string=e.toString(),this.scheduleOnce(function(){a.default.CenteredUi(t,this.addSign,this.scoreLabel.node)},0)},r([s(cc.Node)],t.prototype,"addSign",void 0),r([s(cc.Label)],t.prototype,"scoreLabel",void 0),t=r([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../ToolScripts/Utils":"Utils"}],AdjusWithHeight:[function(e,t,o){"use strict";cc._RF.push(t,"65ec14JyoVCQIhjo5XlJHPN","AdjusWithHeight");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Enum({TOP:0,BOTTOM:1}),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.TOP,t.offset=0,t}return n(t,e),t.prototype.onLoad=function(){var e=0;e=this.type==a.TOP?cc.winSize.height/2:-cc.winSize.height/2,this.node.y=e+this.offset},r([s({type:cc.Enum(a),displayName:"AdjustType"})],t.prototype,"type",void 0),r([s],t.prototype,"offset",void 0),t=r([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],AnimNumberLabel:[function(e,t,o){"use strict";cc._RF.push(t,"688c8EkAQVI8JZ5OcYb5ZJs","AnimNumberLabel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberLabel=null,t.currentNumber=0,t.targetNumber=0,t.numberDValue=0,t.numberChangeTime=.2,t.numberChangeMode=0,t}return n(t,e),t.prototype.onLoad=function(){this.numberLabel=this.node.getComponent(cc.Label)},t.prototype.update=function(e){null!=this.numberLabel&&0!=this.numberChangeMode&&(1==this.numberChangeMode?(this.currentNumber+=this.numberDValue*e/this.numberChangeTime,this.currentNumber>=this.targetNumber&&(this.currentNumber=this.targetNumber,this.numberChangeMode=0)):-1==this.numberChangeMode&&(this.currentNumber-=this.numberDValue*e/this.numberChangeTime,this.currentNumber<=this.targetNumber&&(this.currentNumber=this.targetNumber,this.numberChangeMode=0)),this.numberLabel.string=Math.floor(this.currentNumber).toString())},t.prototype.SetNumber=function(e){this.currentNumber=e,this.targetNumber=e,this.numberChangeMode=0,this.numberLabel.string=this.currentNumber.toString()},t.prototype.FadeNumber=function(e,t){if(this.currentNumber==e)return this.targetNumber=e,void(this.numberChangeMode=0);this.targetNumber=e,this.currentNumber!=this.targetNumber&&(this.targetNumber=e,this.numberChangeMode=Math.floor(this.targetNumber-this.currentNumber)/(this.targetNumber-this.currentNumber),this.numberDValue=Math.floor(this.targetNumber-this.currentNumber),this.numberChangeTime=t)},t=r([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],AudioController:[function(e,t,o){"use strict";cc._RF.push(t,"34bb1qDfJNDjLSrhMYuHwJE","AudioController");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadMusicPath="Resource",t.bgm=null,t.allAudio=[],t.audioMap=null,t.bgmId=0,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){null!=o.Instance&&o.Instance.isValid&&o.Instance.destroy(),o.Instance=this,this.audioMap=new Map;for(var e=0;e<this.allAudio.length;e++){var t=this.allAudio[e].name;this.audioMap.set(t,this.allAudio[e])}cc.log(this.audioMap)},t.prototype.PlayBgm=function(e){this.bgmId=cc.audioEngine.play(this.bgm,!0,e)},t.prototype.StopBgm=function(){cc.audioEngine.stop(this.bgmId)},t.Play=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=1);var r=o.Instance;if(r.audioMap.has(e)){var a=r.audioMap.get(e);return cc.audioEngine.play(a,t,n)}},t.Pause=function(e){cc.audioEngine.pause(e)},t.PauseAll=function(){cc.audioEngine.pauseAll()},t.Resume=function(e){cc.audioEngine.resume(e)},t.ResumeAll=function(){cc.audioEngine.resumeAll()},t.Stop=function(e){cc.audioEngine.stop(e)},t.StopAll=function(){cc.audioEngine.stopAll()},t.Instance=null,r([i],t.prototype,"loadMusicPath",void 0),r([i({type:cc.AudioClip})],t.prototype,"bgm",void 0),r([i({type:cc.AudioClip})],t.prototype,"allAudio",void 0),t=o=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],CardDeadParticleLuncher:[function(e,t,o){"use strict";cc._RF.push(t,"99570YP01ZNgYiiNUCQxd6l","CardDeadParticleLuncher");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/EffectSprite"),c=e("../ToolScripts/PoolManager"),i=e("../ToolScripts/ReusableNode"),s=e("../ToolScripts/SpriteManager"),l=e("../ToolScripts/Utils"),u=cc._decorator,d=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPlay=!1,t.moveSpeed=0,t.targetMoveLength=0,t.currentMoveLength=0,t.createTicker=0,t.createInterval=.02,t.createWidth=105,t.createHeight=20,t.partiParent=null,t}return n(t,e),t.prototype.update=function(e){if(this.isPlay)if(this.createTicker<this.createInterval?this.createTicker+=e:(this.createTicker=0,this.CreateParti(),cc.log("\u64ad\u653e")),this.currentMoveLength<this.targetMoveLength){var t=e*this.moveSpeed;this.node.y+=t,this.currentMoveLength+=t}else this.currentMoveLength=this.targetMoveLength,this.isPlay=!1,c.default.Despawn("cardDeadParticleLuncher",this.node)},t.prototype.Play=function(e,t,o){t<=0&&(t=1e-7),this.targetMoveLength=e,this.currentMoveLength=0,this.moveSpeed=this.targetMoveLength/t,this.createTicker=0,this.partiParent=o,this.isPlay=!0},t.prototype.CreateParti=function(){for(var e=0;e<8;e++){var t=c.default.Spawn("EffectSprite");t.parent=this.partiParent;var o=t.getComponent(a.default);o.SetSprite(s.default.GetSpriteFrame("ball"),new cc.Vec2(26,26));var n=[new cc.Color(0,0,0),new cc.Color(56,62,79),new cc.Color(78,71,102)];o.node.color=n[l.default.RandomInteger(0,n.length)];var r=l.default.ConvertPosition(this.node,this.partiParent),i=.5*this.createWidth;r.x+=l.default.Random(-i,i);var u=.5*this.createHeight;r.y+=l.default.Random(-u,u)+20,t.setPosition(r),t.setScale(l.default.RandomInteger(3,7)/10),t.opacity=0;var d=cc.v2(0,0);d.x=l.default.Random(-50,50),d.y=-100;t.runAction(cc.sequence(cc.fadeIn(.01),cc.moveBy(.5,d),cc.callFunc(function(e){c.default.Despawn("EffectSprite",e)},this))),t.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.2,.3)))}},t=r([d],t)}(i.default));o.default=p,cc._RF.pop()},{"../ToolScripts/EffectSprite":"EffectSprite","../ToolScripts/PoolManager":"PoolManager","../ToolScripts/ReusableNode":"ReusableNode","../ToolScripts/SpriteManager":"SpriteManager","../ToolScripts/Utils":"Utils"}],CardDeck:[function(e,t,o){"use strict";cc._RF.push(t,"84222MvijFKkbPIx2ZfaArr","CardDeck");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../CoreScripts/EffectCenter"),c=e("../CoreScripts/GameController"),i=e("../ToolScripts/AnimNumberLabel"),s=e("../ToolScripts/AudioController"),l=e("../ToolScripts/EffectSprite"),u=e("../ToolScripts/PoolManager"),d=e("../ToolScripts/SpriteManager"),p=e("../ToolScripts/Utils"),h=e("./Card"),f=e("./CardDeadParticleLuncher"),g=cc._decorator,m=g.ccclass,y=g.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardValueLabel=null,t.cardParent=null,t.cardMask=null,t.cardBlackMask=null,t.tipClickNode=null,t.arrow=null,t.indexPos=new cc.Vec2(0,0),t.cards=[],t.id=0,t}return n(t,e),t.prototype.start=function(){},t.prototype.update=function(e){},t.prototype.InitCard=function(e){for(var t=0;t<e.length;t++){var o=u.default.Spawn("card");o.parent=this.cardParent;var n=o.getComponent(h.default);n.SetId(e[t]),this.cards.push(n);var r=-50;this.cards.length>7&&(r=-300/this.cards.length);var a=new cc.Vec2(0,t*r-.5*c.default.Instance.cardSize.height);o.setPosition(a)}var i=0;for(t=0;t<this.cards.length;t++)i+=this.cards[t].cardId;this.cardValueLabel.SetNumber(i)},t.prototype.AddCard=function(e){var t=this;s.default.Play("dealCards",!1,.5),this.cards.push(e);var o=p.default.ConvertPosition(e.node,c.default.Instance.showParent);e.node.parent=c.default.Instance.showParent,e.node.setPosition(o);var n=-50;this.cards.length>7&&(n=-300/this.cards.length);var r=new cc.Vec2(0,(this.cards.length-1)*n-.5*c.default.Instance.cardSize.height),a=p.default.ConvertPosition(this.cardParent,e.node.parent).add(r);if(cc.tween(e.node).to(.23,{position:a}).call(function(){var o=p.default.ConvertPosition(e.node,t.cardParent);e.node.parent=t.cardParent,e.node.setPosition(o),s.default.Play("selectCard",!1,.5)}).start(),cc.tween(e.node).by(.23,{angle:-360}).start(),-50!=n)for(var i=0;i<this.cards.length-1;i++){var l=new cc.Vec2(0,i*n-.5*c.default.Instance.cardSize.height),u=this.cards[i].node;cc.tween(u).to(.2,{position:l}).call(function(){}).start()}var d=0;for(i=0;i<this.cards.length;i++)d+=this.cards[i].cardId;cc.tween(this.node).delay(.25).call(function(){t.cardValueLabel.FadeNumber(d,.18),21==d?t.Win():d>21?t.Lose():c.default.Instance.RecoveryClick()}).call(function(){}).start()},t.prototype.Win=function(){var e=this,t=.08*this.cards.length+.16;this.cards.reverse();for(var o=function(t){var o=.08*t,r=n.cards[t].node,i=t>6?6:t+1;t==n.cards.length-1?cc.tween(r).delay(o).to(.08,{scale:1.1}).call(function(){a.default.Instance.CardCollideEffect(r,c.default.Instance.showParent),u.default.Despawn("card",r),e.AddScoreEFF(),c.default.Instance.AddScore(null,30),s.default.Play("combo"+i,!1,.3),c.default.Instance.heartCount<3&&c.default.Instance.RecoveryHeart()}).start():cc.tween(r).delay(o).to(.08,{scale:1.1}).call(function(){a.default.Instance.CardCollideEffect(r,c.default.Instance.showParent),u.default.Despawn("card",r),s.default.Play("combo"+i,!1,.3)}).start()},n=this,r=0;r<this.cards.length;r++)o(r);this.cards=[],this.cardValueLabel.FadeNumber(0,.2),cc.tween(this.node).delay(t).call(function(){c.default.Instance.RecoveryClick()}).start()},t.prototype.Lose=function(){var e=this,t=this.cards[this.cards.length-1],o=-1*(t.node.y-.5*t.CardSize.height);this.cardMask.enabled=!0,this.cardMask.node.height=o,this.cardBlackMask.active=!0,this.cardBlackMask.opacity=0,this.cardBlackMask.y=t.node.y-.5*t.CardSize.height,this.cardBlackMask.height=o,this.cardBlackMask.setSiblingIndex(this.cardParent.childrenCount-1);var n=t.node.y-.5*t.CardSize.height;cc.tween(this.node).delay(.1).call(function(){cc.tween(e.cardBlackMask).to(.16,{opacity:180}).start()}).delay(.2).call(function(){s.default.Play("BurntFast",!1,.38),c.default.Instance.RemoveHeart();var t=u.default.Spawn("cardDeadParticleLuncher");t.parent=e.cardParent,t.setPosition(new cc.Vec2(0,n)),t.getComponent(f.default).Play(o,.5,c.default.Instance.showParent),cc.tween(e.cardMask.node).to(.5,{height:0}).start()}).delay(.6).call(function(){for(var t=0;t<e.cards.length;t++)u.default.Despawn("card",e.cards[t].node);e.cards=[],e.cardValueLabel.FadeNumber(0,.2),e.cardMask.node.height=510,e.cardBlackMask.active=!1,c.default.Instance.heartCount>0?c.default.Instance.RecoveryClick():c.default.Instance.GameOver(1)}).start()},t.prototype.AddScoreEFF=function(){var e=new cc.Vec2(85,-120),t=u.default.Spawn("EffectSprite");t.parent=c.default.Instance.showParent,t.getComponent(l.default).SetSprite(d.default.GetSpriteFrame("addScoreSprite"));var o=p.default.ConvertPosition(this.node,t.parent);t.scale=.1,t.opacity=255,t.setPosition(o.add(e).add(new cc.Vec2(0,-100)));cc.tween(t).parallel(cc.tween().to(.4,{scale:1.15}),cc.tween().delay(.1).by(.4,{position:new cc.Vec2(0,100)},{easing:"easeIn"}).delay(.1).to(.2,{opacity:0}).call(function(){u.default.Despawn("EffectSprite",t)})).start()},t.prototype.OnClick=function(e){c.default.Instance.ClickDeck(this)},t.prototype.SwitchControll=function(e){e?this.node.on(cc.Node.EventType.TOUCH_START,this.OnClick,this):this.node.off(cc.Node.EventType.TOUCH_START,this.OnClick,this)},t.prototype.SwtichClickTip=function(e){var t=this;this.tipClickNode.active=!0,this.tipClickNode.stopAllActions();var o=cc.tween().to(.32,{opacity:220}).to(.32,{opacity:0}).start();e?(this.tipClickNode.opacity=0,cc.tween(this.tipClickNode).then(o).repeatForever().start()):cc.tween(this.tipClickNode).to(.16,{opacity:0}).call(function(){t.tipClickNode.active=!1}).start()},r([y(i.default)],t.prototype,"cardValueLabel",void 0),r([y(cc.Node)],t.prototype,"cardParent",void 0),r([y(cc.Mask)],t.prototype,"cardMask",void 0),r([y(cc.Node)],t.prototype,"cardBlackMask",void 0),r([y(cc.Node)],t.prototype,"tipClickNode",void 0),r([y(cc.Node)],t.prototype,"arrow",void 0),t=r([m],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../CoreScripts/EffectCenter":"EffectCenter","../CoreScripts/GameController":"GameController","../ToolScripts/AnimNumberLabel":"AnimNumberLabel","../ToolScripts/AudioController":"AudioController","../ToolScripts/EffectSprite":"EffectSprite","../ToolScripts/PoolManager":"PoolManager","../ToolScripts/SpriteManager":"SpriteManager","../ToolScripts/Utils":"Utils","./Card":"Card","./CardDeadParticleLuncher":"CardDeadParticleLuncher"}],CardLuncher:[function(e,t,o){"use strict";cc._RF.push(t,"952b504CwVHvKWo/MA5Mx6s","CardLuncher");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/PoolManager"),c=e("../ToolScripts/Utils"),i=e("./Card"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.waitCardParent=null,t.cards=[],t.waitCardPos=[new cc.Vec2(0,0),new cc.Vec2(-70,-8.15),new cc.Vec2(-130,-16.3),new cc.Vec2(-140,0)],t.waitCardScale=[1,.9,.8,.8],t.cardIdArr=[],t}return n(t,e),t.prototype.Init=function(e){void 0===e&&(e=null);for(var t=2;t>=0;t--){var o=a.default.Spawn("card");o.parent=this.waitCardParent,o.setPosition(this.waitCardPos[t]),o.scale=this.waitCardScale[t];var n=o.getComponent(i.default);this.cards.push(n)}if(this.cards.reverse(),null!=e)for(t=0;t<this.cards.length;t++)this.cards[t].SetId(e[t]);else for(t=0;t<this.cards.length;t++)this.cards[t].SetId(this.GetCardId())},t.prototype.LunchCard=function(){return this.cards.shift()},t.prototype.SupplementCard=function(){var e=a.default.Spawn("card");e.parent=this.waitCardParent,e.setSiblingIndex(0),e.setPosition(this.waitCardPos[2]),e.setScale(this.waitCardScale[2]);var t=e.getComponent(i.default);this.cardIdArr.length>0?t.SetId(this.cardIdArr.shift()):t.SetId(this.GetCardId()),this.cards.push(t);for(var o=0;o<this.cards.length;o++){var n=this.waitCardPos[o],r=this.waitCardScale[o],c=this.cards[o].node;cc.tween(c).to(.18,{position:n}).start(),cc.tween(c).to(.18,{scale:r}).start()}},t.prototype.GetCardId=function(){return c.default.RandomInteger(1,11)},r([u(cc.Node)],t.prototype,"waitCardParent",void 0),t=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../ToolScripts/PoolManager":"PoolManager","../ToolScripts/Utils":"Utils","./Card":"Card"}],Card:[function(e,t,o){"use strict";cc._RF.push(t,"6ea9bFoJ19KM4SFQ/PjbAqo","Card");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/SpriteManager"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardId=0,t.cardRendererNode=null,t.cardSprite=null,t.mCardSize=new cc.Size(0,0),t}return n(t,e),Object.defineProperty(t.prototype,"CardSize",{get:function(){return this.mCardSize},set:function(e){this.mCardSize=e,this.node.setContentSize(this.mCardSize.width,this.mCardSize.height),this.cardRendererNode.setContentSize(this.mCardSize.width,this.mCardSize.height),this.cardSprite.node.setContentSize(this.mCardSize.width,this.mCardSize.height)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this.CardSize=this.mCardSize},t.prototype.SetId=function(e){this.CardSize=new cc.Size(120,163),this.cardId=e;var t=a.default.GetSpriteFrame("card"+this.cardId);this.cardSprite.spriteFrame=t,this.cardSprite.node.setContentSize(this.mCardSize)},r([s(cc.Node)],t.prototype,"cardRendererNode",void 0),r([s(cc.Sprite)],t.prototype,"cardSprite",void 0),r([s(cc.Size)],t.prototype,"mCardSize",void 0),t=r([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../ToolScripts/SpriteManager":"SpriteManager"}],DataManager:[function(e,t,o){"use strict";cc._RF.push(t,"db452LScOBGsoJQcYLAutus","DataManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(){return function(){this.isFirstPlay=!0,this.isFinishGuide=!1,this.score=0,this.highScore=0,this.playLevel=1}}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameName="DefaultName",t.playerData=null,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){null!=o.Instance&&o.Instance.isValid&&o.Instance.destroy(),o.Instance=this,o.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(this.gameName+"playerData")),null==this.playerData&&(this.playerData=new s,o.Save())},t.GetPlayerData=function(){return o.Instance.playerData},t.SetLevel=function(e){o.Instance.playerData.playLevel=e,o.Save()},t.GetLevel=function(){return o.Instance.playerData.playLevel},t.SetFirstPlay=function(e){o.Instance.playerData.isFirstPlay=e,o.Save()},t.GetFirstPlay=function(){return o.Instance.playerData.isFirstPlay},t.SetPlayerScore=function(e){o.Instance.playerData.score=e,o.Save()},t.GetPlayerScore=function(){return o.Instance.playerData.score},t.SetPlayerHighScore=function(e){o.Instance.playerData.highScore=e,o.Save()},t.GetPlayerHighScore=function(){return o.Instance.playerData.highScore},t.Load=function(){o.Instance.playerData=JSON.parse(cc.sys.localStorage.getItem(o.Instance.gameName+"playerData"))},t.Save=function(){cc.sys.localStorage.setItem(o.Instance.gameName+"playerData",JSON.stringify(o.Instance.playerData))},t.Instance=null,r([i(cc.String)],t.prototype,"gameName",void 0),t=o=r([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],EffectCenter:[function(e,t,o){"use strict";cc._RF.push(t,"a84fbjlZYNIA7M91eaQLH50","EffectCenter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/PoolManager"),c=e("../ToolScripts/SpriteManager"),i=e("../ToolScripts/Utils"),s=e("./GameController"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainCamera=null,t.gameLayerFrontEffectParent=null,t.gameLayerMidEffectParent=null,t.gameLayerBackEffectParent=null,t.creamColor=["#ffffff","#f281ff","#c3ff64","#ffba68","#a9d4ff","#fff089","#bc6d44","#ff3e3e"],t.downPartiColor=[new cc.Color(136,88,62),new cc.Color(81,52,36)],t}var o;return n(t,e),o=t,Object.defineProperty(t,"Instance",{get:function(){return o.mInstance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){null!=o.mInstance&&o.mInstance.destroy(),o.mInstance=this},t.prototype.start=function(){},t.prototype.AddScoreEffect=function(e,t,o){void 0===o&&(o=null);var n=a.default.Spawn("addScore");n.parent=this.gameLayerFrontEffectParent,null!=o&&(n.parent=o),n.getComponent("AddScore").SetNumber(e,0),n.scale=.1,n.opacity=255,n.setPosition(t.add(new cc.Vec2(0,5)));cc.tween(n).parallel(cc.tween().to(.4,{scale:1.5}),cc.tween().delay(.1).by(.4,{position:new cc.Vec2(0,100)},{easing:"easeIn"}).delay(.1).to(.2,{opacity:0}).call(function(){a.default.Despawn("addScore",n)})).start()},t.prototype.BoomEffect=function(e,t,o,n,r){void 0===r&&(r=null);for(var c,s,l,u,d,p,h,f,g=function(t){var g=i.default.GetEffectSprite(m.gameLayerFrontEffectParent),y=new cc.Vec2(0,1).rotate(i.default.AngleToRadian(i.default.Random(0,360))),v=(y.mul(i.default.Random(0,o)),n);g.SetSprite(v,r),g.node.scale=i.default.Random(.5,1),g.node.setPosition(e.add(y.mul(i.default.Random(0,20)))),null!=r&&g.SetSprite(v,r);g.node,c=70+100*Math.random(),s=400+.1*g.node.y,l=550+.1*g.node.y,u=g.node.x+Math.random()*s-s/2,d=g.node.y-Math.random()*(l/2);var S=new cc.Vec2(u,d);.65,cc.scaleBy(0,.8),p=cc.jumpTo(.65,S.x,S.y,c,1),h=300*Math.random(),Math.random()<.5&&(h*=-1),g.node.runAction(cc.rotateBy(.65,h)),f=cc.sequence(cc.callFunc(function(){}),cc.spawn(p,cc.callFunc(function(){},m)),cc.callFunc(function(e){a.default.Despawn("EffectSprite",g.node)},m,m)),g.node.runAction(f)},m=this,y=0;y<t;y++)g()},t.prototype.DessertDead=function(e,t){},t.prototype.BlockDead=function(e,t){for(var o=i.default.RandomInteger(0,0),n=0;n<o;n++);var r=i.default.Random(25,40);for(n=0;n<r;n++){var s=i.default.GetEffectSprite(this.gameLayerFrontEffectParent);s.node.setPosition(e.add(cc.v2(i.default.Random(.5*-t,.5*t),i.default.Random(.5*-t,.5*t))));var l=c.default.GetSpriteFrame("blockParti"+i.default.RandomInteger(1,3));s.SetSprite(l),s.node.scale=i.default.Random(.6,1.2);var u=360*Math.random()*Math.PI/180,d=20+100*Math.random(),p=cc.v2(Math.sin(u)*d,Math.cos(u)*d),h=2*p.x,f=i.default.Random(80,120),g=-cc.winSize.height,m=i.default.Random(1.04,1.44),y=cc.spawn(cc.moveBy(.5*m,p).easing(cc.easeExponentialOut()),cc.moveBy(m,cc.v2(h,0)),cc.moveBy(.5*m,cc.v2(0,f)).easing(cc.easeCubicActionOut()),cc.moveBy(m,cc.v2(0,g)).easing(cc.easeCubicActionIn()),cc.rotateBy(m,Math.random()>.5?1:-1*i.default.Random(300,700)),cc.sequence(cc.delayTime(m*i.default.Random(.5,.7)),cc.fadeOut(.1*m)));s.node.runAction(cc.sequence(y.clone(),cc.callFunc(function(e){a.default.Despawn("EffectSprite",e)},this)))}},t.prototype.MakePetal1=function(e,t){for(var o=0;o<1;o++);for(o=0;o<25;o++){var n=a.default.Spawn("snowParti");n.stopAllActions(),n.parent=this.gameLayerFrontEffectParent;var r=i.default.Random(.7,1.2);n.scale=r,n.opacity=i.default.Random(255,255);var s=e,l=i.default.RandomInteger(0,360),u=new cc.Vec2(1,0).rotate(i.default.AngleToRadian(l)),d=i.default.RandomInteger(0,80),p=i.default.RandomInteger(0,160),h=200;n.angle=l,n.children[1].color=(new cc.Color).fromHEX(this.creamColor[t-1]),n.setPosition(new cc.Vec2(s.x+u.x*d,s.y+u.y*d)),n.runAction(cc.sequence(cc.spawn(cc.moveBy(p/h,cc.v2(u.x*p,u.y*p)).easing(cc.easeOut(2)),cc.scaleTo(p/h,i.default.Random(.2,.2)),cc.rotateBy(p/h,100*i.default.GetRandomDir())),cc.callFunc(function(e){a.default.Despawn("snowParti",e)},this)))}for(o=0;o<16;o++){var f=i.default.GetEffectSprite(this.gameLayerFrontEffectParent);f.SetSprite(c.default.GetSpriteFrame("coneFragment"+i.default.RandomInteger(1,3)),new cc.Vec2(26,26)),f.node.scale=i.default.Random(.3,1),f.node.opacity=i.default.Random(200,240);s=e,l=i.default.RandomInteger(0,360),u=new cc.Vec2(1,0).rotate(i.default.AngleToRadian(l)),d=i.default.RandomInteger(0,80),p=i.default.RandomInteger(0,160),h=200;f.node.angle=l,f.node.setPosition(new cc.Vec2(s.x+u.x*d,s.y+u.y*d)),f.node.runAction(cc.sequence(cc.spawn(cc.moveBy(p/h,cc.v2(u.x*p,u.y*p)).easing(cc.easeOut(2)),cc.scaleTo(p/h,i.default.Random(.2,.4)),cc.rotateBy(p/h,100*i.default.GetRandomDir())),cc.callFunc(function(e){a.default.Despawn("EffectSprite",e)},this))),f.node.runAction(cc.sequence(cc.delayTime(p/h*.5),cc.fadeOut(p/h*.3)))}},t.prototype.EliminationEffect=function(e,t){var o=this,n=i.default.GetEffectSprite(this.gameLayerMidEffectParent);n.node.setPosition(e),n.node.opacity=255,n.node.scale=0,n.SetSprite(c.default.GetSpriteFrame("lightCircle")),cc.tween(n.node).to(.4,{scale:1.6},{easing:"expoOut"}).start(),cc.tween(n.node).delay(.25).to(.15,{opacity:30}).call(function(){a.default.Despawn("EffectSprite",n.node)}).start();var r=i.default.GetEffectSprite(this.gameLayerMidEffectParent);r.node.setPosition(e),r.node.opacity=255,r.node.scale=0,r.node.angle=i.default.Random(0,360),r.SetSprite(c.default.GetSpriteFrame("rotateStar")),cc.tween(r.node).by(.6,{angle:160}).start(),cc.tween(r.node).to(.3,{scale:1}).to(.3,{scale:0}).call(function(){a.default.Despawn("EffectSprite",r.node)}).start(),cc.tween(this.node).delay(.15).call(function(){o.MakePetal1(e,t)}).start()},t.prototype.EliminationEffect2=function(e,t){var n=a.default.Spawn("EffectSprite");n.parent=o.Instance.gameLayerFrontEffectParent,n.setPosition(e);var r=n.getComponent("EffectSprite");r.SetSprite(c.default.GetSpriteFrame("cream")),r.node.color=(new cc.Color).fromHEX(this.creamColor[t-1]),r.node.scale=0,r.node.angle=i.default.Random(0,360);var s=i.default.Random(.6,1.2);cc.tween(r.node).by(.14,{y:30}).start(),cc.tween(r.node).to(.14,{scale:s},{easing:"expoOut"}).delay(.5).to(.3,{opacity:0}).start();for(var l=i.default.RandomInteger(10,16),u=0;u<l;u++){var d=a.default.Spawn("EffectSprite");d.parent=o.Instance.gameLayerFrontEffectParent;var p=d.getComponent("EffectSprite");p.SetSprite(c.default.GetSpriteFrame("creamPoint"+i.default.RandomInteger(1,3))),p.node.color=(new cc.Color).fromHEX(this.creamColor[t-1]),d.setPosition(e),d.setScale(i.default.Random(.5,1)),d.opacity=255;var h=cc.misc.degreesToRadians(i.default.RandomInteger(0,360)),f=i.default.RandomInteger(80,160),g=cc.v2(e.x+f*Math.cos(h),e.y+f*Math.sin(h));d.runAction(cc.sequence(cc.jumpTo(.4,g,i.default.RandomInteger(100,200),1),cc.spawn(cc.rotateBy(.5,i.default.RandomInteger(0,180)),cc.moveBy(.5,cc.v2(0,i.default.RandomInteger(-200,0))),cc.sequence(cc.delayTime(.3),cc.fadeOut(.2))),cc.callFunc(function(e){a.default.Despawn("EffectSprite",e)},this)))}},t.prototype.Camera=function(){var e=this;this.mainCamera.node.stopAllActions(),this.mainCamera.node.setPosition(0,0);var t=this.mainCamera.node.x,o=this.mainCamera.node.y,n=cc.repeatForever(cc.sequence(cc.moveTo(.018,cc.v2(t+6,o+8)),cc.moveTo(.018,cc.v2(t-7,o+Math.pow(8,1))),cc.moveTo(.018,cc.v2(t-14,o+4)),cc.moveTo(.018,cc.v2(t+4,o-7)),cc.moveTo(.018,cc.v2(t-6,o+6)),cc.moveTo(.018,cc.v2(t+3,o-9)),cc.moveTo(.018,cc.v2(t-9,o-11)),cc.moveTo(.018,cc.v2(t+4,o+11)),cc.moveTo(.018,cc.v2(t+1,o+1))));this.mainCamera.node.runAction(n),setTimeout(function(){e.mainCamera.node.stopAction(n),e.mainCamera.node.x=t,e.mainCamera.node.y=o},30)},t.prototype.CardCollideEffect=function(e,t){void 0===t&&(t=null);for(var o=i.default.RandomInteger(16,19),n=0;n<o;n++){var r=i.default.GetEffectSprite(null);null==t?(r.node.parent=this.gameLayerFrontEffectParent,t=this.gameLayerFrontEffectParent):r.node.parent=t,r.SetSprite(c.default.GetSpriteFrame("cardHitEffect")),r.node.setPosition(i.default.ConvertPosition(e,t)),r.node.opacity=i.default.Random(125,255);var a=i.default.Random(.7,1.7);r.node.scale=i.default.Random(.3,1.35);var l=cc.v2(0,1);l.rotateSelf(i.default.AngleToRadian(360*Math.random()));var u=i.default.Random(30,s.default.Instance.cardSize.height);r.node.setPosition(r.node.getPosition().add(l.mul(i.default.Random(0,30))));var d=i.default.Random(.3,.55);r.node.runAction(cc.sequence(cc.scaleTo(.2*d,a),cc.delayTime(.3*d),cc.scaleTo(.4*d,i.default.Random(.2,.3)),cc.fadeOut(.1*d))),r.node.runAction(cc.rotateTo(d,i.default.Random(-720,720))),r.node.runAction(cc.sequence(cc.moveBy(d,l.mul(u)).easing(cc.easeQuarticActionOut()),cc.removeSelf(!0)))}},t.prototype.ShakeNode=function(e,t,o){void 0===t&&(t=1),void 0===o&&(o=1),e.stopAllActions();var n=e.x,r=e.y,a=cc.repeatForever(cc.sequence(cc.moveTo(.018,cc.v2(n+6,r+8)),cc.moveTo(.018,cc.v2(n-7,r+Math.pow(8,1))),cc.moveTo(.018,cc.v2(n-14,r+4)),cc.moveTo(.018,cc.v2(n+4,r-7)),cc.moveTo(.018,cc.v2(n-6,r+6)),cc.moveTo(.018,cc.v2(n+3,r-9)),cc.moveTo(.018,cc.v2(n-9,r-11)),cc.moveTo(.018,cc.v2(n+4,r+11)),cc.moveTo(.018,cc.v2(n+1,r+1))));e.runAction(a),cc.tween(e).delay(.2).call(function(){e.stopAllActions(),e.setPosition(new cc.Vec2(n,r))}).start()},t.mInstance=null,r([d(cc.Camera)],t.prototype,"mainCamera",void 0),r([d(cc.Node)],t.prototype,"gameLayerFrontEffectParent",void 0),r([d(cc.Node)],t.prototype,"gameLayerMidEffectParent",void 0),r([d(cc.Node)],t.prototype,"gameLayerBackEffectParent",void 0),t=o=r([u],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../ToolScripts/PoolManager":"PoolManager","../ToolScripts/SpriteManager":"SpriteManager","../ToolScripts/Utils":"Utils","./GameController":"GameController"}],EffectSprite:[function(e,t,o){"use strict";cc._RF.push(t,"4846dKq3JVKg4p9C1x7zxD7","EffectSprite");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./PoolManager"),c=e("./ReusableNode"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraUrl="Canvas/Main Camera",t.startWork=!1,t.camera=null,t.stateCheck=!1,t}return n(t,e),t.prototype.onLoad=function(){this.camera=cc.find(this.cameraUrl).getComponent(cc.Camera)},t.prototype.update=function(e){this.stateCheck&&null!=this.camera&&(!this.startWork&&this.InScreen()&&(this.startWork=!0),this.startWork&&!this.InScreen()&&a.default.Despawn("EffectSprite",this.node))},t.prototype.OnUse=function(){this.startWork=!1,this.stateCheck=!1,this.node.anchorX=.5,this.node.anchorY=.5,this.node.opacity=255,this.node.angle=0,this.node.scale=1,this.node.color=cc.Color.WHITE,this.node.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.TRIMMED,this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.node.active=!0},t.prototype.OnUnuse=function(){this.node.active=!1},t.prototype.SetSprite=function(e,t){void 0===t&&(t=null),this.node.getComponent(cc.Sprite).spriteFrame=e,null!=t&&this.node.setContentSize(t.x,t.y)},t.prototype.SetTargetCamera=function(e){this.camera=e},t.prototype.SwitchStateCheck=function(e){this.stateCheck=e},t.prototype.InScreen=function(){var e=this.camera.node.x+cc.winSize.width/2,t=this.camera.node.x-cc.winSize.width/2,o=this.camera.node.y+cc.winSize.height/2,n=this.camera.node.y-cc.winSize.height/2;return this.node.x<e+this.node.width/2&&this.node.x>t-this.node.width/2&&this.node.y<o+this.node.height/2&&this.node.y>n+this.node.height/2},r([l(cc.String)],t.prototype,"cameraUrl",void 0),t=r([s],t)}(c.default);o.default=u,cc._RF.pop()},{"./PoolManager":"PoolManager","./ReusableNode":"ReusableNode"}],FailedUi:[function(e,t,o){"use strict";cc._RF.push(t,"897a1xdiB9APJVp5g0fJLyZ","FailedUi");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/DataManager"),c=e("../ToolScripts/Utils"),i=e("./FillIcon"),s=e("./GameController"),l=e("./MainGameUi"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgMask=null,t.clickMask=null,t.gameOverLabel=null,t.gameOverClickTipLabel=null,t.failedUiBox=null,t.moreGameBtn=null,t.gameOverTitleSp=null,t.scoreLabel=null,t.highScoreNode=null,t.highScoreIcon=null,t.highScoreLabel=null,t.fillIconNode=null,t.allFillIcon=[],t.resultTxt=null,t.restartBtnIcon=null,t.failedBoxPos=cc.v2(0,0),t.highScore=0,t.canClick=!1,t.isPlayBasketAnim=!1,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){null!=o.Instance&&o.Instance.isValid&&o.Instance.destroy(),o.Instance=this,this.clickMask.setContentSize(cc.winSize.width,cc.winSize.height),this.bgMask.setContentSize(cc.winSize.width,cc.winSize.height),this.node.setContentSize(cc.winSize.width,cc.winSize.height),this.failedUiBox.opacity=0},t.prototype.start=function(){var e=2*(this.moreGameBtn.y+.5*this.moreGameBtn.height+50),t=cc.winSize.height/e;t<1&&(this.failedUiBox.scale=t)},t.prototype.update=function(e){},t.prototype.ShowAdTip=function(){var e=this;cc.tween(this.bgMask).to(.3,{opacity:160}).start(),l.default.Instance.HideMainUi();var t=a.default.GetPlayerHighScore();s.default.Instance.gameScore>t&&(t=s.default.Instance.gameScore,a.default.SetPlayerHighScore(s.default.Instance.gameScore)),this.highScoreLabel.string=t.toString(),this.scheduleOnce(function(){this.gameOverLabel.node.y=50,this.gameOverClickTipLabel.node.y=-50,this.gameOverLabel.node.y+=50,this.gameOverClickTipLabel.node.y+=50,this.gameOverLabel.node.opacity=0,this.gameOverClickTipLabel.node.opacity=0,this.gameOverLabel.string=["\u6e38 \u620f \u7ed3 \u675f","\u904a \u6232 \u7d50 \u675f","Game Over","\uac8c\uc784 \uc885\ub8cc"][c.default.GetLanguageId()-1],this.gameOverClickTipLabel.string=["\u70b9 \u51fb \u67e5 \u770b \u6210 \u7ee9","\u9ede \u64ca \u67e5 \u770b \u6210 \u7e3e","Click to view results","\ud074\ub9ad \ud558\uc5ec \uc131\uc801 \ubcf4\uae30"][c.default.GetLanguageId()-1],cc.tween(this.gameOverLabel.node).to(.5,{opacity:255}).start(),cc.tween(this.gameOverLabel.node).by(.5,{y:-50}).start(),cc.tween(this.gameOverClickTipLabel.node).to(.5,{opacity:255}).start(),cc.tween(this.gameOverClickTipLabel.node).by(.5,{y:-50}).start()},.5),cc.tween(this.node).delay(1).call(function(){e.node.on(cc.Node.EventType.TOUCH_START,e.OnClickTip,e),e.gameOverClickTipLabel.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))))}).start()},t.prototype.ShowFailedUi=function(e,t){var o=this;this.scoreLabel.string="0",this.highScoreLabel.string=t,this.resultTxt.string=this.GetContentByScore(e),this.canClick=!1,this.scheduleOnce(function(){c.default.CenteredUi(5,this.highScoreIcon,this.highScoreLabel.node)},.3),this.failedUiBox.opacity=255,this.scoreLabel.node.opacity=0,this.highScoreNode.opacity=0,this.fillIconNode.opacity=0,this.resultTxt.node.opacity=0,this.restartBtnIcon.scale=0,this.gameOverTitleSp.y>this.moreGameBtn.y-.5*this.moreGameBtn.height-.5*this.gameOverTitleSp.height&&(this.gameOverTitleSp.y=this.moreGameBtn.y-.5*this.moreGameBtn.height-.5*this.gameOverTitleSp.height-10),cc.tween(this.node).delay(.1).call(function(){o.clickMask.on(cc.Node.EventType.TOUCH_START,o.OnClickCloseMask,o),o.moreGameBtn.on(cc.Node.EventType.TOUCH_START,o.OnClickMoreGame,o),o.canClick=!0,o.scoreLabel.node.y+=20,cc.tween(o.scoreLabel.node).to(.2,{opacity:255}).start(),cc.tween(o.scoreLabel.node).by(.2,{y:-20}).start();var t=o.scoreLabel.node.getComponent("AnimNumberLabel");t.SetNumber(0),t.FadeNumber(e,.3)}).delay(.35).call(function(){o.highScoreNode.y+=20,cc.tween(o.highScoreNode).to(.2,{opacity:255}).start(),cc.tween(o.highScoreNode).by(.2,{y:-20}).start()}).delay(.1).call(function(){c.default.CenteredUi(5,o.highScoreIcon,o.highScoreLabel.node)}).delay(.2).call(function(){o.fillIconNode.y+=20,cc.tween(o.fillIconNode).to(.2,{opacity:255}).start(),cc.tween(o.fillIconNode).by(.2,{y:-20}).start(),o.resultTxt.node.y+=20,cc.tween(o.resultTxt.node).to(.2,{opacity:255}).start(),cc.tween(o.resultTxt.node).by(.2,{y:-20}).start();var t=o.GetPercent(o.highScore,e);o.AllFillIconAnim(t)}).delay(.6).call(function(){o.restartBtnIcon.scale=5,cc.tween(o.restartBtnIcon).to(.36,{scale:1},{easing:"backOut"}).start()}).call(function(){o.restartBtnIcon.runAction(cc.repeatForever(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))))}).start()},t.prototype.HideFailedUi=function(){this.canClick=!1;var e=cc.v2(0,cc.winSize.height/2+this.failedUiBox.height/2);this.failedUiBox.runAction(cc.moveTo(.3,e).easing(cc.easeBackIn()))},t.prototype.OnClickTip=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.OnClickTip,this),cc.tween(this.gameOverLabel.node).to(.2,{opacity:0}).start(),cc.tween(this.gameOverClickTipLabel.node).to(.2,{opacity:0}).start(),this.scheduleOnce(function(){var e=a.default.GetPlayerHighScore();s.default.Instance.gameScore>e&&(e=s.default.Instance.gameScore,a.default.SetPlayerHighScore(e)),this.ShowFailedUi(s.default.Instance.gameScore,e)},.2)},t.prototype.OnClickCloseMask=function(){this.canClick&&(this.clickMask.off(cc.Node.EventType.TOUCH_START,this.OnClickCloseMask,this),s.default.Instance.gameScore=0,s.default.Instance.RestartGame())},t.prototype.OnClickMoreGame=function(){this.canClick&&(this.moreGameBtn.off(cc.Node.EventType.TOUCH_START,this.OnClickMoreGame,this),this.canClick=!1,this.moreGameBtn.runAction(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1))),this.scheduleOnce(function(){var e=cc.find("Canvas/jsNode").getComponent("GlobalGameData").GetMoreGameUrl();window.location.href=e},.15))},t.prototype.GetContentByScore=function(e){var t=this.highScore,o=Math.ceil(e/t*95);o>95&&(o=95);var n=5+o;return"\u51fb\u8d25\u4e86\u5168\u7403"+n+"%\u7684\u73a9\u5bb6\uff01",["\u51fb\u8d25\u4e86\u5168\u7403"+n+"%\u7684\u73a9\u5bb6","\u64ca\u6557\u4e86\u5168\u7403"+n+"%\u7684\u73a9\u5bb6","Beat "+n+" % of the world's players","\uc804 \uc138\uacc4"+n+"% \uc758 \uc720 \uc800 \ub97c \uc774 \uacbc \uc2b5 \ub2c8 \ub2e4"][c.default.GetLanguageId()-1]},t.prototype.GetPercent=function(e,t){var o=e,n=Math.ceil(t/o*95);return n>95&&(n=95),5+n},t.prototype.AllFillIconAnim=function(e){for(var t=this,o=0;o<this.allFillIcon.length;o++)this.allFillIcon[o].Reset();var n=Math.floor(e/10),r=e%10;for(o=0;o<n;o++)cc.tween(this.allFillIcon[o].node).delay(.05*o).call(function(e){e.getComponent("FillIcon").Fill(1,.05)}).start();0!=r&&cc.tween(this.allFillIcon[n].node).delay(.05*n).call(function(){t.allFillIcon[n].Fill(r/10,.05)}).start()},t.Instance=null,r([p(cc.Node)],t.prototype,"bgMask",void 0),r([p(cc.Node)],t.prototype,"clickMask",void 0),r([p(cc.Label)],t.prototype,"gameOverLabel",void 0),r([p(cc.Label)],t.prototype,"gameOverClickTipLabel",void 0),r([p(cc.Node)],t.prototype,"failedUiBox",void 0),r([p(cc.Node)],t.prototype,"moreGameBtn",void 0),r([p(cc.Node)],t.prototype,"gameOverTitleSp",void 0),r([p(cc.Label)],t.prototype,"scoreLabel",void 0),r([p(cc.Node)],t.prototype,"highScoreNode",void 0),r([p(cc.Node)],t.prototype,"highScoreIcon",void 0),r([p(cc.Label)],t.prototype,"highScoreLabel",void 0),r([p(cc.Node)],t.prototype,"fillIconNode",void 0),r([p(i.default)],t.prototype,"allFillIcon",void 0),r([p(cc.Label)],t.prototype,"resultTxt",void 0),r([p(cc.Node)],t.prototype,"restartBtnIcon",void 0),r([p(cc.Vec2)],t.prototype,"failedBoxPos",void 0),r([p],t.prototype,"highScore",void 0),t=o=r([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../ToolScripts/DataManager":"DataManager","../ToolScripts/Utils":"Utils","./FillIcon":"FillIcon","./GameController":"GameController","./MainGameUi":"MainGameUi"}],FillIcon:[function(e,t,o){"use strict";cc._RF.push(t,"567e8QPabJEUrGhZReltFhl","FillIcon");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iconBg=null,t.iconSp=null,t}return n(t,e),t.prototype.Reset=function(){this.iconSp.fillRange=0},t.prototype.Fill=function(e,t){cc.tween(this.iconSp).to(t,{fillRange:e}).start()},r([i(cc.Node)],t.prototype,"iconBg",void 0),r([i(cc.Sprite)],t.prototype,"iconSp",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],Follow:[function(e,t,o){"use strict";cc._RF.push(t,"1cdb23ktiFE4In4DTbyQ8+S","Follow");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.offset=null,t.enable=!1,t}return n(t,e),t.prototype.SetTarget=function(e,t){void 0===t&&(t=new cc.Vec2(0,0)),this.target=e,this.offset=t,this.enable=!0},t.prototype.lateUpdate=function(e){this.enable&&this.node.setPosition(this.target.getPosition().add(this.offset))},r([i(cc.Node)],t.prototype,"target",void 0),r([i(cc.Vec2)],t.prototype,"offset",void 0),r([i],t.prototype,"enable",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"085d3PAFztM7J15BIH02oPE","GameConfig");var n={GameClubButton:null,GameScene:null,launchScene:null,Bros:null,caS:null,MAIN_MENU_NUM:"Classic",gameScore:0,standScore:30,GAME_OVER_BOOL:!0,publicGameBool:!1,ranLinkData:null,recGameData:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,playNum:0,noTouchBool:!0,returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};t.exports=n,cc._RF.pop()},{}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"a35ffcWSo9JlouqbZ7yPjga","GameController");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ProjectScripts/CardDeck"),c=e("../ProjectScripts/CardLuncher"),i=e("../ToolScripts/AudioController"),s=e("../ToolScripts/DataManager"),l=e("../ToolScripts/PoolManager"),u=e("./EffectCenter"),d=e("./FailedUi"),p=e("./MainGameUi"),h=cc._decorator,f=h.ccclass,g=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainCamera=null,t.bgNode=null,t.mapParent=null,t.cardDeckParent=null,t.cardParent=null,t.showParent=null,t.needGuide=!1,t.guidePhase=0,t.guideHand=null,t.guideNode=null,t.guideCards=[],t.guideState=0,t.guideTargetDeckId=-1,t.canClick=!1,t.clickMask=null,t.gameScore=0,t.allDeck=[],t.cardLuncher=null,t.cardSize=new cc.Size(120,163),t.heartCount=3,t.cardRefreshPercent=[10,10,10,10,10,10,10,10,10,10],t}var o;return n(t,e),o=t,Object.defineProperty(t,"Instance",{get:function(){return o.mInstance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){null!=o.mInstance&&o.mInstance.destroy(),o.mInstance=this,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.OnKeyDown,this)},t.prototype.start=function(){this.clickMask=new cc.Node,this.clickMask.parent=cc.find("Canvas"),this.clickMask.setContentSize(cc.winSize.width,cc.winSize.height),this.bgNode.setContentSize(cc.winSize.width,cc.winSize.height),this.InitGame(),this.StartGame()},t.prototype.update=function(e){},t.prototype.InitGame=function(){for(var e=0;e<3;e++){var t=l.default.Spawn("cardDeck",this.node);t.parent=this.cardDeckParent,t.setPosition(new cc.Vec2(230*e-230,.5*cc.winSize.height-120));var o=t.getComponent(a.default);o.SwitchControll(!0),o.id=e,this.allDeck.push(o)}if(this.cardLuncher.node.y+.5*this.cardSize.height>this.allDeck[0].node.y-800)for(e=0;e<this.allDeck.length;e++)this.allDeck[e].arrow.opacity=0},t.prototype.StartGame=function(){this.canClick=!0,s.default.GetFirstPlay()?(this.needGuide=!0,this.guidePhase=1,this.InitGuide(this.guidePhase),this.allDeck[0].InitCard([8,9]),this.allDeck[1].InitCard([10,10]),this.cardLuncher.Init([2,1,2,2])):this.cardLuncher.Init()},t.prototype.GameLoop=function(e){},t.prototype.GameOver=function(e){var t=this;this.UploadScore(),cc.tween(this.node).delay(e).call(function(){t.HideCard()}).delay(.5).call(function(){i.default.Play("gameOver",!1,.5),d.default.Instance.ShowAdTip()}).start()},t.prototype.GameSuccess=function(e){},t.prototype.RestartGame=function(){cc.director.loadScene("main")},t.prototype.RecoveryClick=function(){var e=this;this.needGuide?(this.CheckGuide(),cc.tween(this.node).delay(.1).call(function(){e.canClick=!0}).start()):this.canClick=!0},t.prototype.ClickDeck=function(e){var t=this;if(this.canClick&&(!this.needGuide||e.id==this.guideTargetDeckId)){this.canClick=!1;var o=this.cardLuncher.LunchCard();e.AddCard(o),cc.tween(this.node).delay(.1).call(function(){t.cardLuncher.SupplementCard()}).start(),this.needGuide&&e.SwtichClickTip(!1)}},t.prototype.RemoveHeart=function(){this.heartCount-=1,p.default.Instance.RemoveHeart()},t.prototype.RecoveryHeart=function(){this.heartCount+=1,p.default.Instance.RecoveryHeart()},t.prototype.HideCard=function(){for(var e=0;e<this.allDeck.length;e++){var t=this.allDeck[e].node;cc.tween(t).to(.36,{opacity:0}).start()}cc.tween(this.cardLuncher.node).to(.36,{opacity:0}).start()},t.prototype.InitGuide=function(e){1==this.guidePhase?(this.allDeck[0].SwtichClickTip(!0),this.guideTargetDeckId=0):2==this.guidePhase?(this.allDeck[1].SwtichClickTip(!0),this.guideTargetDeckId=1):3==this.guidePhase&&(this.allDeck[0].SwtichClickTip(!0),this.guideTargetDeckId=0)},t.prototype.CheckGuide=function(){this.guidePhase<3?(this.guidePhase+=1,this.InitGuide(this.guidePhase)):(this.needGuide=!1,this.guidePhase=0,s.default.SetFirstPlay(!1))},t.prototype.CheckDifficult=function(){},t.prototype.AddScore=function(e,t){this.gameScore+=t,p.default.Instance.SetScore(this.gameScore),null!=e&&u.default.Instance.AddScoreEffect(t,e)},t.prototype.UploadScore=function(){cc.find("Canvas/jsNode").getComponent("GlobalGameData").SetGameEndScore(this.gameScore)},t.prototype.OnClickMask=function(e){},t.prototype.OnKeyDown=function(e){e.keyCode==cc.macro.KEY.a||e.keyCode==cc.macro.KEY.d||e.keyCode==cc.macro.KEY.e||e.keyCode==cc.macro.KEY.r||e.keyCode==cc.macro.KEY.t||e.keyCode==cc.macro.KEY.y||(e.keyCode,cc.macro.KEY.w)},t.mInstance=null,t.firstPlay=!0,r([g(cc.Camera)],t.prototype,"mainCamera",void 0),r([g(cc.Node)],t.prototype,"bgNode",void 0),r([g(cc.Node)],t.prototype,"mapParent",void 0),r([g(cc.Node)],t.prototype,"cardDeckParent",void 0),r([g(cc.Node)],t.prototype,"cardParent",void 0),r([g(cc.Node)],t.prototype,"showParent",void 0),r([g(cc.Node)],t.prototype,"guideNode",void 0),r([g(c.default)],t.prototype,"cardLuncher",void 0),t=o=r([f],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../ProjectScripts/CardDeck":"CardDeck","../ProjectScripts/CardLuncher":"CardLuncher","../ToolScripts/AudioController":"AudioController","../ToolScripts/DataManager":"DataManager","../ToolScripts/PoolManager":"PoolManager","./EffectCenter":"EffectCenter","./FailedUi":"FailedUi","./MainGameUi":"MainGameUi"}],GameUiTools:[function(e,t,o){"use strict";cc._RF.push(t,"34311G/B5FIkoqLjQMoTYnA","GameUiTools");e("GameConfig");var n={newSprite:function(e,t){var o=new cc.Node;return t?(e=e.split(".")[0],o.addComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(e)):o.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),o},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,o,n,r){var a=new Array;void 0==t.length?a[0]=t:a=t;for(var c=0;c<a.length;c++){var i=new cc.Component.EventHandler;i.target=e.node,i.component=e.node.name,i.handler=o,void 0==t.length?i.customEventData=n:i.customEventData=c;var s=a[c].addComponent(cc.Button);s.clickEvents.push(i),(void 0==r||r)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},scheduleOnce:function(e,t,o){e.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(t,e)))},loadingScene:function(e,t){t?cc.loader.loadRes("panel/LoadingLayer",function(t,o){var n=cc.instantiate(o);cc.director.getScene().children[0].addChild(n),cc.director.preloadScene(e,function(){cc.director.loadScene(e)})}):cc.director.preloadScene(e,function(){cc.director.loadScene(e)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var o=cc.instantiate(t);cc.director.getScene().children[0].addChild(o,100)}})}};t.exports=n,cc._RF.pop()},{GameConfig:"GameConfig"}],GarbageParticle:[function(e,t,o){"use strict";cc._RF.push(t,"ce9d7fZ1fdACIeDfFKnUxrY","GarbageParticle");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./SpriteManager"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.paricleSp=null,t}return n(t,e),t.prototype.onLoad=function(){var e=Math.floor(9*Math.random())+1;this.paricleSp.spriteFrame=a.default.GetSpriteFrame("ribbonParticle"+e)},r([s(cc.Sprite)],t.prototype,"paricleSp",void 0),t=r([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./SpriteManager":"SpriteManager"}],GlobalGameData:[function(e,t,o){"use strict";cc._RF.push(t,"e5c8389U5RFlYuTX34orK1i","GlobalGameData");var n=e("GameConfig"),r=e("MainManage");cc.Class({extends:cc.Component,onLoad:function(){this.platFromNum=1,this.judgeCurPlatform(),this.adapterScreen()},SetGameEndScore:function(e){n.gameScore=e,r.gameOverShowText(n.gameScore,1)},GetMoreGameUrl:function(){return r.moreGameUrl},judgeCurPlatform:function(){console.log(navigator.userAgent);var e=function(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),o=/(?:SymbianOS)/.test(e)||t,n=/(?:Android)/.test(e),r=/(?:Firefox)/.test(e),a=(/(?:Chrome|CriOS)/.test(e),/(?:iPad|PlayBook)/.test(e)||n&&!/(?:Mobile)/.test(e)||r&&/(?:Tablet)/.test(e)),c=/(?:iPhone)/.test(e)&&!a;return{isTablet:a,isPhone:c,isAndroid:n,isPc:!c&&!n&&!o}}();e.isAndroid||e.isPhone?this.platFromNum=1:e.isTablet?this.platFromNum=2:e.isPc&&(this.platFromNum=3)},adapterScreen:function(){var e=cc.find("Canvas").getComponent(cc.Canvas);2==this.platFromNum||3==this.platFromNum?(e.fitWidth=!0,e.fitHeight=!0):(e.fitWidth=!0,e.fitHeight=!1)}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}],Hits:[function(e,t,o){"use strict";cc._RF.push(t,"e845c6vVCZPsYF89dVDliip","Hits");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ToolScripts/PoolManager"),c=e("../ToolScripts/Utils"),i=cc._decorator,s=i.ccclass,l=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hitsSpNode=null,t.hitsNumberLabel=null,t}return n(t,e),t.prototype.SetHitsNumber=function(e){var t=this;this.hitsNumberLabel.string=e.toString(),cc.tween(this.node).delay(.05).call(function(){c.default.CenteredUi(5,t.hitsSpNode,t.hitsNumberLabel.node)}).start()},t.prototype.Show=function(e){var t=this,o=e.add(new cc.Vec2(0,-150));this.node.setPosition(o),this.node.scale=0,this.node.opacity=255,cc.tween(this.node).parallel(cc.tween().to(.3,{scale:1}),cc.tween().by(.3,{angle:720}),cc.tween().to(.3,{position:e})).delay(.3).to(.35,{opacity:0}).call(function(){a.default.Despawn("hits",t.node)}).start()},r([l(cc.Node)],t.prototype,"hitsSpNode",void 0),r([l(cc.Label)],t.prototype,"hitsNumberLabel",void 0),t=r([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../ToolScripts/PoolManager":"PoolManager","../ToolScripts/Utils":"Utils"}],HttpManagerJs:[function(e,t,o){"use strict";var n;function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}cc._RF.push(t,"5e8b2+QtWtKZYqjLYBtEozO","HttpManagerJs");var a=e("GameConfig"),c=(r(n={URL:"http://g.i8box.com/Service/Share/index",cacheList:null,isBusy:null,req:null,perform:null,retGameId:0},"cacheList",[]),r(n,"ctor",function(){}),r(n,"checkHave",function(){this.isBusy||this.sendOne()}),r(n,"httpInitUrl",function(e){var t=window.location.href,o=t.substring(0,t.lastIndexOf("//")+2)+window.location.host+"/Service/Share/index";this.URL=o,console.log("data",this.URL),this.retGameId=e}),r(n,"send",function(e,t,o,n){this.cacheList.push({type:e,data:t,func:o,target:n}),this.isBusy||this.sendOne()}),r(n,"sendOne",function(){if(0!=this.cacheList.length){this.isBusy=!0,this.perform=this.cacheList.shift(),this.req=cc.loader.getXMLHttpRequest(),this.req.onreadystatechange=this.onDataHandler.bind(this),this.req.onerror=this.onErrorHandler.bind(this),this.req.ontimeout=this.onTimeoutHandler.bind(this),this.req.timeout=2e3,cc.log("pos",this.URL),this.req.open("POST",this.URL),this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");var e=this.returnLanguage();console.log("gameIdid",this.retGameId);var t=this.retGameId,o={type:this.perform.type,gid:t,mid:null,data:this.perform.data,languageType:e},n="send="+JSON.stringify(o);this.req.send(n)}}),r(n,"onDataHandler",function(){if(404!=this.req.status){if(4==this.req.readyState&&this.req.status>=200&&this.req.status<=207&&this.req.responseText){var e=JSON.parse(this.req.responseText);this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,e.error,e.data,e.commendGame,e.gameInfo):this.perform.func(e)}}else{var t=a.launchScene,o=a.Bros;a.caS;cc.director.loadScene(t,null,function(){if(o){"";var e=document.getElementById("GameDiv");e&&(e.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+t)})}}),r(n,"returnLanguage",function(){return(""+window.navigator.language).toLocaleLowerCase()}),r(n,"onErrorHandler",function(){cc.log("\u7f51\u7edc\u9519\u8bef"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),r(n,"onTimeoutHandler",function(){cc.log("\u8bf7\u6c42\u8d85\u65f6"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),r(n,"clearAll",function(){for(var e=this.cacheList.length,t=0;t<e;t++){var o=this.cacheList[t];o&&(o.target?o.func.call(o.target,-1):o.func(-1))}this.cacheList.length=0}),n);t.exports=c,cc._RF.pop()},{GameConfig:"GameConfig"}],LanguageSetJs:[function(e,t,o){"use strict";cc._RF.push(t,"f40ecrYSllEeatADTwSC+a9","LanguageSetJs");t.exports={language_1:{game_name:"\u300c\u5c04\u82f9\u679c\u300d",game_name1:"\u5c04\u82f9\u679c",game_info:"\u628a\u63e1\u65f6\u673a\uff0c\u5c04\u4e2d\u82f9\u679c\u3002",txtStart:"\u5f00\u59cb",txtMore:"\u66f4\u591a\u6e38\u620f",txtAgain:"\u518d\u73a9\u4e00\u6b21",txtShare1:"\u5728\u6e38\u620f\u4e2d ",txtShare2:"\u5f97\u5206\u4e86\uff0c\u597d\u554a!\u4f60\u548c\u6211\u4e00\u8d77\u6765\u6bd4\u8d5b!",bgRgb:"#3698C5",gameT1:"\u5173\u6ce8\u6211\u4eec",gameT2:"\u7eb8\u724c\u63a5\u9f99",gameT3:"\u9526\u4e0a\u6dfb\u82b1",gameUrl1:"http://g.regogame.com/game/9/",gameUrl2:"http://g.regogame.com/game/3/",gameT11:"\u5173\u6ce8\u5fae\u4fe1",gameT12:"\u5173\u6ce8Kakao",gameT13:"\u5173\u6ce8Line",gameEndL:"\u6e38 \u620f \u7ed3 \u675f",gameEndL1:"\u7a0d \u5019 \u67e5 \u770b \u5206 \u6570"},language_2:{game_name:"\u300cShot Apples\u300d",game_name1:"Shot Apples",game_info:"Seize the opportunity and shoot the apple.",txtStart:"Start",txtMore:"More Game",txtAgain:"Play Again",txtShare1:"In Game ",txtShare2:" Let's play together!",bgRgb:"#3698C5",gameT1:"Follow Us",gameT2:"Thousand Flower",gameT3:"Eliminate Star",gameUrl1:"http://g.fromgame.com/game/53",gameUrl2:"http://g.fromgame.com/game/13",gameT11:"Focus WeChat",gameT12:"Focus Kakao",gameT13:"Focus Line",gameEndL:"Game OVer",gameEndL1:"View the score later"}},cc._RF.pop()},{}],LoadSceneJs:[function(e,t,o){"use strict";cc._RF.push(t,"2394b2k01VP47IoWr6LaI+F","LoadSceneJs");var n={goToCover:function(e,t,o,n,r){var a=e;a=null==a||void 0==a||e,console.log("LoadBoolBeforeLoadS",a),this.needShow=!1,a&&a?(this.needShow=!0,showMyAds()):this.needShow=!1,this.needShow?(void 0==preloader&&this.startGoToGame(o,n,r),resCompleteFlag=!0,adCompleteFlag&&resCompleteFlag&&this.startGoToGame(o,n,r)):this.startGoToGame(o,n,r)},startGoToGame:function(e,t,o){console.log("goToScene"),noAdGoToScene()}};t.exports=n,cc._RF.pop()},{}],MainGameUi:[function(e,t,o){"use strict";cc._RF.push(t,"dfbe2WMUaVGOaQcZCO5voIf","MainGameUi");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./EffectCenter"),c=cc._decorator,i=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scoreLabel=null,t.currentScore=0,t.targetScore=0,t.scoreDValue=0,t.scoreChangeTime=.2,t.scoreChangeMode=0,t.heartParent=null,t.heartIconNode=[],t.heartIcon=[],t.heartCount=3,t}var o;return n(t,e),o=t,Object.defineProperty(t,"Instance",{get:function(){return o.mInstance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){null!=o.mInstance&&o.mInstance.destroy(),o.mInstance=this},t.prototype.update=function(e){this.ScoreValueUpdate(e)},t.prototype.SetScore=function(e,t){void 0===t&&(t=.2),this.targetScore=e,this.targetScore>this.currentScore?this.scoreChangeMode=1:this.targetScore<this.currentScore?this.scoreChangeMode=-1:this.scoreChangeMode=0,this.scoreDValue=Math.floor(this.targetScore-this.currentScore),this.scoreChangeTime=t},t.prototype.SetScoreDirect=function(e){this.scoreChangeMode=0,this.currentScore=e,this.targetScore=e,this.scoreLabel.string=e.toString()},t.prototype.ScoreValueUpdate=function(e){0!=this.scoreChangeMode&&(1==this.scoreChangeMode?(this.currentScore+=this.scoreDValue*e/this.scoreChangeTime,this.currentScore>=this.targetScore&&(this.currentScore=this.targetScore,this.scoreChangeMode=0)):-1==this.scoreChangeMode&&(this.currentScore-=this.scoreDValue*e/this.scoreChangeTime,this.currentScore<=this.targetScore&&(this.currentScore=this.targetScore,this.scoreChangeMode=0)),this.scoreLabel.string=Math.floor(this.currentScore).toString())},t.prototype.HideMainUi=function(){var e=.5*cc.winSize.height+.5*this.scoreLabel.node.height;cc.tween(this.scoreLabel.node).to(.3,{y:e},{easing:"backIn"}).start();var t=.5*cc.winSize.height+.5*this.heartParent.height;cc.tween(this.heartParent).to(.3,{y:t},{easing:"backIn"}).start()},t.prototype.RemoveHeart=function(){var e=this.heartIconNode[this.heartCount-1];a.default.Instance.ShakeNode(e);var t=this.heartIcon[this.heartCount-1];cc.tween(t).delay(.2).parallel(cc.tween().by(.2,{y:-50}),cc.tween().to(.2,{opacity:0})).start(),this.heartCount-=1},t.prototype.RecoveryHeart=function(){this.heartCount+=1;var e=this.heartIcon[this.heartCount-1];e.setPosition(new cc.Vec2(0,0)),e.scale=0,e.opacity=255,cc.tween(e).to(.2,{scale:1},{easing:"backOut"}).start()},t.mInstance=null,r([s(cc.Label)],t.prototype,"scoreLabel",void 0),r([s(cc.Node)],t.prototype,"heartParent",void 0),r([s([cc.Node])],t.prototype,"heartIconNode",void 0),r([s([cc.Node])],t.prototype,"heartIcon",void 0),t=o=r([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./EffectCenter":"EffectCenter"}],MainManage:[function(e,t,o){"use strict";cc._RF.push(t,"afe31LR+ltNUZUbn+SYICbm","MainManage");var n=e("HttpManagerJs"),r=e("LanguageSetJs"),a=e("GameConfig"),c=e("LoadSceneJs"),i=(e("GameUiTools"),{gameHttpId:0,subScoreHttp:null,gameNameText:null,gameInfoText:null,txtStartText:null,txtMoreText:null,txtAgainText:null,gameEndLText:null,gameEndL1Text:null,bgLayRgb:null,gameEndName1:null,gameEndName2:null,gameEndUrl1:null,gameEndUrl2:null,langugeType:1,ranLinkData:null,adShowBefore:!1,adShowAfter:!0,endLayCol:null,moreBtnBgCol:null,moreBtnTextCol:null,recGameData:null,recGameUrl:null,recGameDelPau:null,recGameDelPer:null,recGameimg1:null,recGameimg2:null,recGamePos:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,endHttpShowInfo:null,moreGameUrl:null,init:function(e,t,o){if(!a.publicGameBool){if(a.playNum>=1)return;a.playNum++}a.launchScene=e,a.Bros=t,a.caS=o,this.curType=1,this.getHttpGameId(),this.gamePV_load(),console.log("thisg",this.gameHttpId),n.httpInitUrl(this.gameHttpId);var r=this.initLanguage();this.gameNameText=r.game_name,this.gameInfoText=r.game_info,this.txtStartText=r.txtStart,this.txtMoreText=r.txtMore,this.txtAgainText=r.txtAgain,this.gameEndLText=r.gameEndL,this.gameEndL1Text=r.gameEndL1,this.bgLayRgb=r.bgRgb,this.gameEndName1=r.gameT2,this.gameEndName2=r.gameT3,this.gameEndUrl1=r.gameUrl1,this.gameEndUrl2=r.gameUrl2,this.langugeType=this.curType,c.goToCover(this.adShowBefore,this.adShowAfter,e,t,o)},getHttpGameId:function(){var e=window.location.href,t=e.substring(0,e.lastIndexOf("//")+2),o=window.location.host,n=t+o+"/Service/Share/index";this.gameAllHttp=n,this.subScoreHttp=t+o+"/Service/Score/index",this.gamePvHttp=t+o+"/Service/GamePv/index";var r=document.URL,a=r.lastIndexOf("/"),c=r.substring(0,a),i=(a=c.lastIndexOf("/"),c.substring(a+1,c.length));this.gameHttpId=i,console.log("gameIdNew",i);e.substring(e.lastIndexOf("//")+4,e.lastIndexOf("com")+3);this.moreGameUrl=t+o,console.log("moreGame",this.moreGameUrl);var s=this.moreGameUrl.lastIndexOf("//"),l=this.moreGameUrl.substring(s+2,this.moreGameUrl.indexOf("//")+4);if("g."==l){var u=this.moreGameUrl.replace(l,"");console.log("chagee",u),this.moreGameUrl=u}else console.log("noChange");console.log("newMoreGae",this.moreGameUrl)},gameOverShowText:function(e,t){this.ajaxLoad(this.subScoreHttp,"gameScore="+e+"&gameId="+this.gameHttpId+"&gameType="+t,this.scoreResult)},gamePV_load:function(){this.ajaxLoad(this.gamePvHttp,"gameId="+this.gameHttpId,this.ajaxOnLogoResult)},ajaxOnLogoResult:function(){},ajaxLoad:function(e,t,o){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=o,n.open("POST",e),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t)},scoreResult:function(e){if(null!=e.currentTarget.response&&""!=e.currentTarget.response){var t=JSON.parse(e.currentTarget.response);cc.log("endshow",t.content),i.endHttpShowInfo=t.content}},initLanguage:function(){var e=null;return cc.sys.language==cc.sys.LANGUAGE_CHINESE?(this.curType=1,e=r.language_1):(cc.log("\u82f1\u6587"),this.curType=2,e=r.language_2),e},getLinkGameReturn:function(e,t,o,n){if(console.log("err0",e),console.log("err1",t),console.log("err2",o),console.log("err3",n),0==e){this.ranLinkData=t,this.adShowBefore=this.ranLinkData.gameSet.adShowBefore,this.adShowAfter=this.ranLinkData.gameSet.adShowAfter,this.endLayCol=this.ranLinkData.gameSet.endLayerColor,this.moreBtnBgCol=this.ranLinkData.gameSet.moreBtnBgCol,this.moreBtnTextCol=this.ranLinkData.gameSet.moreBtnTextCol,this.moreGameUrl=this.ranLinkData.gameSet.moreBtnUrl,this.recGameData=o,this.ranRecGameData(),this.InfoData=n,this.endShow0=this.InfoData.endShow0,this.endShow1=this.InfoData.endShow1,this.endShow2=this.InfoData.endShow2,this.endShow3=this.InfoData.endShow3,this.infoGameName=this.InfoData.gameName,this.showText=this.InfoData.showText,this.startText=this.InfoData.startText,this.moreGameText=this.InfoData.moreGame,this.playAgainText=this.InfoData.rePlay,this.gameInfoText=this.InfoData.showText,this.txtStartText=this.InfoData.startText,this.txtMoreText=this.InfoData.moreGame,this.txtAgainText=this.InfoData.rePlay,console.log("LoadMainGameScnee");var r=a.launchScene,i=a.Bros,s=a.caS;c.goToCover(this.adShowBefore,this.adShowAfter,r,i,s)}},ranRecGameData:function(){if(null!=this.recGameData&&""!=this.recGameData){this.returnBool=!1;var e=this.recGameData.length,t=a.returnRanNum(1,e)-1;cc.log("ranNNN",t),this.recGameUrl=this.recGameData[t].data_link,this.recGameDelPer=this.recGameData[t].delay_per,this.recGameDelPau=this.recGameData[t].delay_pau,this.recGameimg1=this.recGameData[t].img_1,this.recGameimg2=this.recGameData[t].img_2,this.recGamePos=this.recGameData[t].poistion}},ranLinkUrl:function(){if(null!=this.ranLinkData&&this.ranLinkData.gameList&&null!=this.ranLinkData.gameList){var e=this.ranLinkData.gameList.length,t=a.returnRanNum(1,e)-1;return cc.log("templ",t,this.ranLinkData.gameList),cc.log("url",this.ranLinkData.gameList[0].gameName,this.ranLinkData.gameList[0].gameUrl),t}return null},gotoEndLayer:function(){if(a.publicGameBool)this.showGameEndLayer();else{if(adEndComplete=!1,resEndComplete=!1,this.needShow=null,1==window.navigator.onLine){var e=this.adShowAfter;console.log("ad",e),(e=null==e||void 0==e||this.adShowAfter)?(this.needShow=!0,console.log("showMyad"),showMyAds()):this.needShow=!1}else console.log("showOver1"),this.showGameEndLayer(),this.needShow=null;console.log("showMyad2",this.needShow),null!=this.needShow&&(console.log("showMyad3"),this.needShow?(console.log("pre",preloader),void 0==preloader&&this.showGameEndLayer(),resEndComplete=!0,adEndComplete&&resEndComplete&&(console.log("showOver1"),this.showGameEndLayer())):(console.log("gam"),this.showGameEndLayer()))}},showGameEndLayer:function(){cc.find("Canvas/gameManager").getComponent("GameManager").GameOver()}});t.exports=i,cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LanguageSetJs:"LanguageSetJs",LoadSceneJs:"LoadSceneJs"}],PoolManager:[function(e,t,o){"use strict";cc._RF.push(t,"395cexbYpNPLq0G3aUmuYGK","PoolManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allPrefab=[],t.allPrefabMap=null,t.poolMap=null,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){null!=o.Instance&&o.Instance.isValid&&o.Instance.destroy(),o.Instance=this,this.allPrefabMap=new Map,this.poolMap=new Map;for(var e=0;e<this.allPrefab.length;e++){this.allPrefabMap.set(this.allPrefab[e].name,this.allPrefab[e]),cc.log(this.allPrefab[e].name);var t=new cc.NodePool;this.poolMap.set(this.allPrefab[e].name,t)}},t.Spawn=function(e,t){if(void 0===t&&(t=null),!o.Instance.poolMap.has(e))return cc.warn("no prefab named: "+e),null;var n=o.Instance.poolMap.get(e),r=null;n.size()>0?(r=n.get(),null!=t&&(r.parent=t)):(r=cc.instantiate(o.Instance.allPrefabMap.get(e)),null!=t&&(r.parent=t));var a=r.getComponent("ReusableNode");return null==a?(a=r.addComponent("ReusableNode")).OnUse():a.OnUse(),r},t.Despawn=function(e,t){if(!o.Instance.poolMap.has(e))return cc.log("no prefab named: "+e),null;var n=t.getComponent("ReusableNode");null==n?(n=t.addComponent("ReusableNode")).OnUnuse():n.OnUnuse(),o.Instance.poolMap.get(e).put(t)},t.GetPrefab=function(e){return o.Instance.allPrefabMap.has(e)?o.Instance.allPrefabMap.get(e):(cc.log("no prefab named: "+e),null)},t.Preload=function(e,t){if(o.Instance.poolMap.has(e))for(var n=o.Instance.poolMap.get(e),r=0;r<t;r++){var a=cc.instantiate(o.Instance.allPrefabMap.get(e));n.put(a)}else cc.log("no prefab named: "+e)},t.LoadPrefab=function(e,t){cc.loader.loadRes(e,cc.Prefab,function(e,n){o.Instance.allPrefabMap.set(n.name,n);var r=new cc.NodePool;o.Instance.poolMap.set(n.name,r),t(n)})},t.Instance=null,r([i(cc.Prefab)],t.prototype,"allPrefab",void 0),t=o=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ReusableNode:[function(e,t,o){"use strict";cc._RF.push(t,"e02c92x1IRGEY/rLG2+xM0Z","ReusableNode");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.OnUse=function(){this.node.stopAllActions(),this.node.active=!0},t.prototype.OnUnuse=function(){this.node.stopAllActions(),this.node.active=!1},t=r([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],RibbonJetEffect:[function(e,t,o){"use strict";cc._RF.push(t,"aca9ba6R2BH/YZiiyzeJFYl","RibbonJetEffect");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colorArr=[],t.colors=[["ff5959","87dc35","fff111","ff9c0a"],["ffff00","15d215","46e8cb"],["fe0000","ffffff","f100ff"],["ff00fe","00ffff","8700ff"]],t.garbageParticle=null,t.ribbonStick=null,t}return n(t,e),t.prototype.PlayEffect=function(){this.ribbonEff1(this.node,cc.v2(-cc.winSize.width/2-20,-300)),this.ribbonStickEff1(this.node,cc.v2(-cc.winSize.width/2-20,-300)),this.ribbonEff2(this.node,cc.v2(cc.winSize.width/2-70,-200)),this.ribbonStickEff2(this.node,cc.v2(cc.winSize.width/2-20,-300))},t.prototype.getRandom=function(e,t,o){void 0===o&&(o=!0);var n=t-e+1,r=e;return o?Math.floor(Math.random()*n)+r:Math.random()*n+r},t.prototype.getPNRandom=function(e,t,o){void 0===o&&(o=!0);var n=this.getRandom(e,t,o);return 0==Math.floor(2*Math.random())&&(n=-n),n},t.prototype.ribbonEff1=function(e,t){this.colorArr=this.colors[this.getRandom(0,this.colors.length-1)];var o=this.colorArr,n=[],r=this.getRandom(60,70),a=function(){var a=c.garbageParticle,i=cc.instantiate(a);i.width*=2,i.height*=2,i.parent=e,i.position=t,i.scale=c.getRandom(.3,.35,!1);var s=o[c.getRandom(0,o.length-1)];i.children[0].color=cc.color().fromHEX(s);i.scale;i.zIndex=-1;var l=c.getRandom(.17,.22,!1),u=c.getRandom(-15,15)+63,d=c.getPosByAngle(1,u);d.mulSelf(c.getRandom(250,1e3)),cc.tween(i).delay(1.5*l).call(function(){i.parent=e.parent,i.zIndex=500}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).start();var p=c.getPNRandom(15,30);cc.tween(i).delay(l).repeatForever(cc.tween().by(.1,{angle:p})).start();var h=i.scaleX;cc.tween(i).delay(l).to(2*l,{scaleX:-h}).start(),cc.tween(i).delay(c.getRandom(1,1.2)).to(2*l,{opacity:0}).start();var f=cc.spawn(cc.moveBy(l,d.x,d.y).easing(cc.easeQuadraticActionOut()),cc.moveBy(8,cc.v2(0,-1e3+c.getRandom(-200,200))));i.runAction(f),n.push(i),r--},c=this;do{a()}while(r>0);return n},t.prototype.ribbonStickEff1=function(e,t){for(var o=this.ribbonStick,n=this.colorArr,r=this.getRandom(5,8),a=0;a<r;a++){var c=cc.instantiate(o);c.position=t,c.parent=e,c.zIndex=500,c.x=15*a-50+t.x;for(var i=[],s=20/r*a-10+70,l=this.getPosByAngle(1,s),u=this.getRandom(5,10),d=0;d<u;d++){var p=this.getRandom(-10,10)+20*d;(m=l.mul(p)).x+=this.getRandom(-20,20),i.push(m)}var h=c.getComponent(cc.MotionStreak),f=n[this.getRandom(0,n.length-1)];h.color=cc.color().fromHEX(f);for(var g=0;g<i.length;g++){var m=i[g];cc.tween(c).delay(.03*g).by(.03,{position:m}).start()}cc.tween(h).delay(.03*(i.length-1)).to(2,{stroke:0}).call(function(){}).start()}},t.prototype.ribbonEff2=function(e,t){this.colorArr=this.colors[this.getRandom(0,this.colors.length-1)];var o=this.colorArr,n=[],r=this.getRandom(60,70),a=function(){var a=c.garbageParticle,i=cc.instantiate(a);i.width*=2,i.height*=2,i.parent=e,i.zIndex=500,i.position=t,i.scale=c.getRandom(.3,.35,!1);var s=o[c.getRandom(0,o.length-1)];i.children[0].color=cc.color().fromHEX(s);i.scale;i.zIndex=-1;var l=c.getRandom(.17,.22,!1),u=c.getRandom(-15,15)+110,d=c.getPosByAngle(1,u);d.mulSelf(c.getRandom(250,1e3)),cc.tween(i).delay(1.5*l).call(function(){i.parent=e.parent,i.zIndex=500}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).by(2*l,{x:15*c.getRandom(.8,1)*(Math.random()>.5?-1:1)}).start();var p=c.getPNRandom(15,30);cc.tween(i).delay(l).repeatForever(cc.tween().by(.1,{angle:p})).start();var h=i.scaleX;cc.tween(i).delay(l).to(2*l,{scaleX:-h}).start(),cc.tween(i).delay(c.getRandom(1,1.2)).to(2*l,{opacity:0}).start();var f=cc.spawn(cc.moveBy(l,d.x,d.y).easing(cc.easeQuadraticActionOut()),cc.moveBy(8,cc.v2(0,-1e3+c.getRandom(-200,200))));i.runAction(f),n.push(i),r--},c=this;do{a()}while(r>0);return n},t.prototype.ribbonStickEff2=function(e,t){for(var o=this.ribbonStick,n=this.colorArr,r=this.getRandom(5,8),a=0;a<r;a++){var c=cc.instantiate(o);c.position=t,c.parent=e,c.zIndex=500,c.x=15*a-50+t.x;for(var i=[],s=20/r*a-10+116,l=this.getPosByAngle(1,s),u=this.getRandom(5,10),d=0;d<u;d++){var p=this.getRandom(-10,10)+20*d;(m=l.mul(p)).x+=this.getRandom(-20,20),i.push(m)}var h=c.getComponent(cc.MotionStreak),f=n[this.getRandom(0,n.length-1)];h.color=cc.color().fromHEX(f);for(var g=0;g<i.length;g++){var m=i[g];cc.tween(c).delay(.03*g).by(.03,{position:m}).start()}cc.tween(h).delay(.03*(i.length-1)).to(2,{stroke:0}).call(function(){}).start()}},t.prototype.getPosByAngle=function(e,t){var o=t/180*Math.PI;return cc.v2(1,0).rotate(o)},r([i(cc.Prefab)],t.prototype,"garbageParticle",void 0),r([i(cc.Prefab)],t.prototype,"ribbonStick",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ScrollBg:[function(e,t,o){"use strict";cc._RF.push(t,"15164pT9vVMKZgDu5tRZb8Y","ScrollBg");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mid=null,t.right=null,t.speed=10,t}return n(t,e),t.prototype.update=function(e){if(this.mid.x-=this.speed*e,this.right.x-=this.speed*e,this.right.x<=0){this.mid.x=this.right.x+this.right.width;var t=this.mid;this.mid=this.right,this.right=t}},r([i(cc.Node)],t.prototype,"mid",void 0),r([i(cc.Node)],t.prototype,"right",void 0),r([i],t.prototype,"speed",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],SpriteManager:[function(e,t,o){"use strict";cc._RF.push(t,"9abb9udFsVIzpkaPiyQGQDB","SpriteManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allSpriteFrame=[],t.spriteFrameMap=null,t}var o;return n(t,e),o=t,t.prototype.onLoad=function(){null!=o.Instance&&o.Instance.destroy(),o.Instance=this,this.spriteFrameMap=new Map;for(var e=0;e<this.allSpriteFrame.length;e++){var t=this.allSpriteFrame[e].name.split(".",1);this.spriteFrameMap.set(t[0],this.allSpriteFrame[e])}},t.GetSpriteFrame=function(e){return o.Instance.spriteFrameMap.has(e)?o.Instance.spriteFrameMap.get(e):(cc.warn("no sprite named: "+e),null)},t.LoadSpriteFrame=function(e,t){cc.loader.loadRes(e,cc.Prefab,function(e,n){o.Instance.spriteFrameMap.set(n.name,n),t(n)})},t.Instance=null,r([i(cc.SpriteFrame)],t.prototype,"allSpriteFrame",void 0),t=o=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],Stack:[function(e,t,o){"use strict";cc._RF.push(t,"16a9dUJykJFAJqnro91VGm4","Stack"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=(n.ccclass,n.property,function(){function e(){this.romArray=new Array,this.header=null,this.mCount=0}return Object.defineProperty(e.prototype,"count",{get:function(){return this.mCount},enumerable:!0,configurable:!0}),e.prototype.Top=function(){return 0===this.romArray.length?(console.warn("Stack Empty!"),null):(this.header=this.romArray[this.romArray.length-1],this.header)},e.prototype.Push=function(e){this.romArray.push(e),this.header=this.romArray[this.romArray.length-1],this.mCount+=1},e.prototype.Pop=function(){if(this.mCount<=0)return console.warn("Stack Empty!"),null;var e=this.romArray.pop();return this.mCount-=1,this.mCount<=0?this.header=null:this.header=this.romArray[this.romArray.length-1],e},e.prototype.Clear=function(){this.romArray=[],this.mCount=0},e}());o.Stack=r,cc._RF.pop()},{}],SynthesisEffect:[function(e,t,o){"use strict";cc._RF.push(t,"f500desANlIup2lvQM73bij","SynthesisEffect");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../CoreScripts/EffectCenter"),c=e("../ToolScripts/EffectSprite"),i=e("../ToolScripts/PoolManager"),s=e("../ToolScripts/SpriteManager"),l=e("../ToolScripts/Utils"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scaleNode=null,t.scaleAndRotateNode=null,t}return n(t,e),t.prototype.Play=function(e){var t=this,o=l.default.ConvertPosition(e,this.node.parent);this.node.setPosition(o),this.scaleNode.scale=0,this.scaleNode.opacity=0,this.scaleAndRotateNode.scale=0,this.scaleAndRotateNode.opacity=255,cc.tween(this.scaleNode).to(.4,{scale:1.25}).start(),cc.tween(this.scaleNode).to(.16,{opacity:255}).start(),cc.tween(this.scaleAndRotateNode).to(.3,{scale:1.25},{easing:"expoOut"}).start(),cc.tween(this.scaleAndRotateNode).by(2,{angle:-480}).start(),cc.tween(this.scaleNode).delay(.3).to(.1,{opacity:0}).start(),cc.tween(this.scaleAndRotateNode).delay(.3).to(.1,{opacity:0}).start(),cc.tween(this.node).delay(1).call(function(){i.default.Despawn("sythesisEffect",t.node)}).start();for(var n=l.default.RandomInteger(18,21),r=0;r<n;r++){var u=i.default.Spawn("EffectSprite");u.getComponent(c.default).SetSprite(s.default.GetSpriteFrame("bubble"),new cc.Vec2(30,30)),u.scale=l.default.Random(.7,1),u.parent=a.default.Instance.gameLayerFrontEffectParent;var d=l.default.ConvertPosition(this.node,u.parent),p=l.default.Random(0,360),h=new cc.Vec2(1,0).rotate(l.default.AngleToRadian(p)),f=l.default.Random(0,80),g=l.default.Random(0,160);u.angle=p,u.setPosition(d.x+h.x*f,d.y+h.y*f),u.runAction(cc.sequence(cc.spawn(cc.moveBy(g/140,cc.v2(h.x*g,h.y*g)).easing(cc.easeOut(2)),cc.scaleTo(g/140,0),cc.rotateBy(g/140,0)),cc.callFunc(function(e){i.default.Despawn("EffectSprite",e)},this)))}},r([p(cc.Node)],t.prototype,"scaleNode",void 0),r([p(cc.Node)],t.prototype,"scaleAndRotateNode",void 0),t=r([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../CoreScripts/EffectCenter":"EffectCenter","../ToolScripts/EffectSprite":"EffectSprite","../ToolScripts/PoolManager":"PoolManager","../ToolScripts/SpriteManager":"SpriteManager","../ToolScripts/Utils":"Utils"}],SysDefine:[function(e,t,o){"use strict";cc._RF.push(t,"08862OpnSpO6I6mOM/ZMyo4","SysDefine"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.Club=0]="Club",e[e.Diamond=1]="Diamond",e[e.Heart=2]="Heart",e[e.Spade=3]="Spade"}(o.CardColor||(o.CardColor={})),function(e){e[e.Front=0]="Front",e[e.Back=1]="Back"}(o.CardShowState||(o.CardShowState={})),function(e){e[e.c=0]="c",e[e.d=1]="d"}(o.NBS||(o.NBS={})),cc._RF.pop()},{}],Tree:[function(e,t,o){"use strict";cc._RF.push(t,"8e371szVXJEy5fbBJ/+P+/D","Tree"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.child=[],this.parent=null}return e.prototype.AddChild=function(e){this.child.push(e),e.parent=this,cc.log(e.parent)},e.prototype.GetLinkArray=function(){var e=[],t=this.parent;for(cc.log(this.parent);null!=t;)e.push(t),t=t.parent;return e},e}();o.TreeNode=n;var r=cc._decorator,a=(r.ccclass,r.property,function(){function e(){this.root=new n}return e.prototype.GetRoot=function(){return this.root},e.prototype.FindTreeNodeFromData=function(e){if(e==this.root.data)return this.root;for(var t=this.root.child;t.length>0;){for(var o=[],n=null,r=0;r<t.length;r++){var a=t[r];if(a.data==e){n=t[r];break}for(var c=0;c<a.child.length;c++)o.push(a.child[c])}if(null!=n)return n;t=o}return null},e.prototype.GetTreeNodeCount=function(){for(var e=1,t=this.root.child;t.length>0;){for(var o=[],n=0;n<t.length;n++){var r=t[n];e+=1;for(var a=0;a<r.child.length;a++)o.push(r.child[a])}t=o}return e},e.prototype.GetTreeNodeArray=function(){var e=[];e.push(this.root);for(var t=this.root.child;t.length>0;){for(var o=[],n=0;n<t.length;n++){var r=t[n];e.push(r);for(var a=0;a<r.child.length;a++)o.push(r.child[a])}t=o}return e},e}());o.Tree=a,cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"7aaba01bYlLrbAKoUN6ggfK","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./PoolManager"),r=function(){function e(){}return e.ConvertPosition=function(e,t,o){if(void 0===o&&(o=new cc.Vec2(0,0)),e.parent==t.parent)return e.getPosition();var n=e.convertToWorldSpaceAR(o);return t.convertToNodeSpaceAR(n)},e.ConvertAngle=function(e,t){for(var o=e.parent,n=e.angle;null!=o;)n+=o.angle,o=o.parent;for(var r=t.parent,a=t.angle;null!=r;)a+=r.angle,r=r.parent;return n-a},e.ConvertAngleValue=function(e,t,o){for(var n=e,r=t;null!=n;)r+=n.angle,n=n.parent;for(var a=o.parent,c=o.angle;null!=a;)c+=a.angle,a=a.parent;return r-c},e.ConvertScale=function(e,t){for(var o=e.parent,n=e.scaleX,r=e.scaleY;null!=o;)n*=o.scaleX,r*=o.scaleY,o=o.parent;for(var a=t.parent,c=t.scaleX,i=t.scaleY;null!=a;)c*=a.scaleX,i*=a.scaleY,a=a.parent;var s=n;0!=c&&(s/=c);var l=r;return 0!=i&&(l/=i),cc.v2(s,l)},e.Random=function(e,t){return Math.random()*(t-e)+e},e.RandomInteger=function(e,t){return Math.floor(Math.random()*(t-e)+e)},e.AngleToRadian=function(e){return e*Math.PI/180},e.CenteredUi=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var n=(t.length-1)*e,r=0;r<t.length;r++){t[r].getComponent(cc.Label);n+=t[r].width}var a=.5*-n;for(r=0;r<t.length;r++)0!=r&&(a+=e),t[r].x=a+.5*t[r].width,a+=t[r].width},e.CheckPolygonNodeCollision=function(t,o,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var a=t.getComponent(cc.PolygonCollider),c=o.getComponent(cc.PolygonCollider);if(null==a||null==c)return!1;for(var i=new Array,s=0;s<a.points.length;s++){var l=cc.v2(a.points[s].x,a.points[s].y);null!=n?l.mulSelf(n):l.mulSelf(t.scale),i.push(l)}var u=new Array;for(s=0;s<c.points.length;s++){l=cc.v2(c.points[s].x,c.points[s].y);null!=r?l.mulSelf(r):l.mulSelf(o.scale),u.push(l)}var d=t.convertToWorldSpaceAR(cc.v2(0,0));for(s=0;s<i.length;s++)i[s].rotateSelf(e.AngleToRadian(t.angle)),i[s]=d.add(i[s]);var p=o.convertToWorldSpaceAR(cc.v2(0,0));for(s=0;s<u.length;s++)u[s].rotateSelf(e.AngleToRadian(o.angle)),u[s]=p.add(u[s]);return cc.Intersection.polygonPolygon(i,u)},e.RandomIndexFromArr=function(e){for(var t=new Array,o=new Array,n=0,r=0;r<e.length;r++)e[r]>0&&(t.push(e[r]),o.push(r),n+=e[r]);var a=100/n;for(r=0;r<t.length;r++)t[r]*=a,t[r]=Math.round(t[r]);var c=Math.floor(100*Math.random()),i=-1;for(r=0;r<t.length;r++){for(var s=0,l=r;l>=0;l--)s+=t[l];c>=s-t[r]&&c<s&&(i=r)}return-1==i&&(i=0),o[i]},e.ArrayHaveElement=function(e,t){if(null==e||null==t)return!1;for(var o=!1,n=0;n<e.length;n++)if(e[n]==t){o=!0;break}return o},e.DisruptionArray=function(t){for(var o=0;o<t.length;o++){var n=e.RandomInteger(0,t.length),r=t[n];t[n]=t[o],t[o]=r}return t},e.InsertElement=function(e,t,o){if(null!=e&&null!=t){o>e.length-1&&(o=e.length),e.push(null);for(var n=e.length-2;n>=o;n--){var r=e[n];e[n]=e[n+1],e[n+1]=r}e[o]=t}},e.GetMidFromNodeArr=function(e){if(null==e.length)return 0;if(0==e.length)return 0;for(var t=e[0].node.y,o=e[0].node.y,n=0;n<e.length;n++){var r=e[0].node.y;r>t&&(t=r),r<o&&(o=r)}return t},e.GetBezirPosArr=function(e,t){for(var o=[],n=1/t,r=1;r<=t;r++){var a=r*n,c=Math.pow(1-a,2)*e[0].x+2*a*(1-a)*e[1].x+Math.pow(a,2)*e[2].x,i=Math.pow(1-a,2)*e[0].y+2*a*(1-a)*e[1].y+Math.pow(a,2)*e[2].y;o.push(cc.v2(c,i))}return o},e.GetLanguageId=function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:e="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?2:1;break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},e.RayCast=function(e,t,o){return void 0===o&&(o=cc.RayCastType.Any),cc.director.getPhysicsManager().rayCast(e,t,o)},e.GetRandomDir=function(){return e.Random(0,100)<50?1:-1},e.GetIndexFromRangeArr=function(e,t){for(var o=0;o<t.length;o++)if(e<t[o])return o;return-1},e.GetConvertPolygonArr=function(e,t){for(var o=e,n=t,r=new Array,a=0;a<n.points.length;a++){var c=o.add(cc.v2(n.points[a].x,n.points[a].y));r.push(c)}return r},e.GetEffectSprite=function(e){var t=n.default.Spawn("EffectSprite");return t.parent=e,t.getComponent("EffectSprite")},e.GetEllipsePoint=function(e,t,o,n){return void 0===n&&(n=1),n*(t*Math.sqrt(1-o*o/(e*e)))},e.GetNodeDistance=function(e,t){if(e.parent==t.parent)return e.getPosition().sub(t.getPosition()).mag();var o=e.convertToWorldSpaceAR(new cc.Vec2(0,0));return t.parent.convertToNodeSpaceAR(o).sub(t.getPosition()).mag()},e.GetNodeDistanceSqr=function(e,t){if(e.parent==t.parent)return e.getPosition().sub(t.getPosition()).magSqr();var o=e.convertToWorldSpaceAR(new cc.Vec2(0,0));return t.parent.convertToNodeSpaceAR(o).sub(t.getPosition()).magSqr()},e.RandomVec2=function(t,o){return new cc.Vec2(e.Random(t.x,t.y),e.Random(o.x,o.y))},e.GetArithmeticSequence=function(e,t){var o=new Array;e=Math.floor(e);for(var n=0;n<t;n++)o.push(e+n);return o},e}();o.default=r,cc._RF.pop()},{"./PoolManager":"PoolManager"}],WaterWave:[function(e,t,o){"use strict";cc._RF.push(t,"967d584OChMWZ9mYc+8YdHz","WaterWave");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,c=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(a<3?r(c):a>3?r(t,o,c):r(t,o))||c);return a>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,i=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.h=0,t.n=0,t.nodeArray=[],t.nodeEnergy=[],t.mask=null,t}return n(t,e),t.prototype.onLoad=function(){this.h=90,this.n=20,this.nodeArray=[],this.nodeEnergy=[];for(var e=0;e<this.n;e++)this.nodeEnergy[e]=0;this.mask=this.node.getComponent(cc.Mask)},t.prototype.start=function(){for(var e=0;e<this.n;e++){var t={x:0,y:0};t.y=this.h,t.x=720*(e+1)/this.n-360,this.nodeArray[e]=t}var o=this.nodeArray[this.n-1];cc.tween(o).repeatForever(cc.tween().to(.66,{y:10+this.h},{easing:"sineOut"}).to(.66,{y:0+this.h},{easing:"sineIn"}).to(.66,{y:-10+this.h},{easing:"sineOut"}).to(.66,{y:0+this.h},{easing:"sineIn"})).start()},t.prototype.showWater=function(){var e=this.mask._graphics;e.clear(),e.lineWidth=1,e.strokeColor=cc.color(255,0,0),e.fillColor=cc.color(0,255,0),e.moveTo(-360,this.h);for(var t=0;t<this.n;t+=2)e.quadraticCurveTo(this.nodeArray[t].x,this.nodeArray[t].y,this.nodeArray[t+1].x,this.nodeArray[t+1].y);e.lineTo(360,-640),e.lineTo(-360,-640),e.lineTo(-360,this.h),e.fill(),e.stroke()},t.prototype.update=function(e){for(var t=0;t<2;t++)for(var o=0;o<this.n;o++)o>0&&(this.nodeEnergy[o-1]+=.98*(this.nodeArray[o].y-this.nodeArray[o-1].y)),o<this.n-1&&(this.nodeEnergy[o+1]+=.98*(this.nodeArray[o].y-this.nodeArray[o+1].y));for(o=0;o<this.n-1;o++)this.nodeEnergy[o]*=.98,this.nodeArray[o].y+=this.nodeEnergy[o]*e;this.showWater()},t=r([c],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],linkHttpIconJs:[function(e,t,o){"use strict";cc._RF.push(t,"0a297HUyvlCVJ/SlbInj6pc","linkHttpIconJs");var n=e("MainManage"),r=e("GameConfig");cc.Class({extends:cc.Component,properties:{iconSpr:cc.Node,iconSpr1:cc.Node},onLoad:function(){if(this._imageArr=[],this.stopUpdateBool=!0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,null!=n.recGameData&&""!=n.recGameData&&null!=n.recGameimg1&&""!=n.recGameimg1){var e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2;null!=n.recGamePos&&""!=n.recGamePos&&(1==n.recGamePos?(e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):2==n.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):3==n.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=50-this.gameHeight/2):4==n.recGamePos&&(e=50-this.gameWidth/2,t=50-this.gameHeight/2));var o=n.recGameimg1,r=n.recGameimg2,a=this.iconSpr,c=this.iconSpr1,i=this;cc.loader.load(o,function(o,n){a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),i.iconSpr.opacity=0,i.iconSpr.x=e,i.iconSpr.y=t,i._imageArr.push(i.iconSpr)}),cc.loader.load(r,function(o,n){c.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n),i.iconSpr1.opacity=0,i.iconSpr1.x=e,i.iconSpr1.y=t,i._imageArr.push(i.iconSpr1)})}this.addTouchEvents()},showLinkPic:function(){var e=0,t=0;e=null!=n.recGameDelPau?n.recGameDelPau:6,cc.log("dMainManager.recGameDelPer",n.recGameDelPer),t=null!=n.recGameDelPer?n.recGameDelPer:.7,this._imageArr[0].opacity=255,this._imageArr[0].runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.rotateBy(t,0,180),cc.callFunc(function(){this._imageArr[0].setRotation(0),this._imageArr[0].opacity=0,this._imageArr[1].opacity=255},this),cc.delayTime(e),cc.callFunc(function(){this.flowerAction(this._imageArr[1],t)},this),cc.delayTime(t),cc.callFunc(function(){this._imageArr[1].opacity=0,this._imageArr[0].opacity=255},this))))},flowerAction:function(e,t){e.runAction(cc.sequence(cc.rotateBy(t,0,180),cc.callFunc(function(){e.setRotation(0)})))},start:function(){},addTouchEvents:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var o=t.getLocation();if(e._imageArr.length>=2){var a=Math.abs(o.x-e.gameWidth/2-e._imageArr[0].x),c=Math.abs(o.y-e.gameHeight/2-e._imageArr[0].y);a<=30&&c<=30&&(r.noTouchBool=!1,null!=n.recGameUrl&&""!=n.recGameUrl&&(e._imageArr[0].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){window.location.href=n.recGameUrl}))),e._imageArr[1].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1)))),console.log("touchLinkHttp"))}},this)},update:function(e){this.stopUpdateBool&&this._imageArr.length>=2&&(this.stopUpdateBool=!1,this.showLinkPic())}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}]},{},["GameConfig","GameUiTools","GlobalGameData","HttpManagerJs","LanguageSetJs","LoadSceneJs","MainManage","linkHttpIconJs","AddScore","EffectCenter","FailedUi","FillIcon","GameController","MainGameUi","Card","CardDeadParticleLuncher","CardDeck","CardLuncher","Hits","SynthesisEffect","WaterWave","SysDefine","AdjusWithHeight","AnimNumberLabel","AudioController","DataManager","EffectSprite","Follow","GarbageParticle","PoolManager","ReusableNode","RibbonJetEffect","ScrollBg","SpriteManager","Stack","Tree","Utils"]);