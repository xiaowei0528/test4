window.__require=function t(e,o,i){function n(a,s){if(!o[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!s&&h)return h(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return n(e[a][1][t]||t)},u,u.exports,t,e,o,i)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AniTools:[function(t,e,o){"use strict";cc._RF.push(e,"9b5a1M4s2NAJLSDx2N6/Wua","AniTools");var i={doLabStrAni:function(t,e,o){t.node.stopAllActions(),t.string="";var i=e.split(""),n=0,c=o/i.length;t.node.runAction(cc.sequence(cc.callFunc(function(){t.string=t.string+i[n],n++}),cc.delayTime(c)).repeat(i.length))},gunNumLabAni:function(t,e){var o=parseInt(t.string);if(e!=o){var i=0,n=e-o>=50?50:e-o;t.node.runAction(cc.sequence(cc.callFunc(function(){i>=n-1?t.string=e:(o++,t.string=o),i++}),cc.delayTime(.02)).repeat(n))}},openUIAni:function(t,e,o,i){t.opacity=0,e.scale=0,t.runAction(cc.fadeTo(o,100)),e.runAction(cc.sequence(cc.scaleTo(o,1).easing(cc.easeBackOut()),cc.callFunc(i)))},closeUIAni:function(t,e,o,i){t.runAction(cc.fadeOut(o)),e.runAction(cc.sequence(cc.scaleTo(o,0).easing(cc.easeBackIn()),cc.callFunc(i)))},fireColorArr:["#F5CD4D","#F77986","#D0F057","#7ACCE8","#E365EE"],fireworksAni:function(t,e,o,i){for(var n=0;n<e;n++){var c=ToolsJs.newSprite("fire"+this.returnRanNum(1,4));c.scale=.3+.5*Math.random(),c.position=o,c.color=cc.color(this.fireColorArr[this.returnRanNum(0,this.fireColorArr.length-1)]),t.addChild(c,88);var a=this.returnRanNum(i-15,i+15),s=this.returnRanNum(300,1e3);this.fireObjAni(c,a,s,350,.005*n)}},fireObjAni:function(t,e,o,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=.1+.5*Math.random();t.runAction(cc.rotateBy(c,this.returnRanNum(-360,360)).repeatForever());var a=cc.misc.degreesToRadians(e),s=cc.v2(Math.cos(a)*o,Math.sin(a)*o),r=o/i;t.runAction(cc.sequence(cc.delayTime(n),cc.jumpBy(r,cc.v2(1.5*s.x,0),o,1),cc.removeSelf(!0)))},bombObjAni:function(t,e,o,i,n,c){e=e||this.returnRanNum(-180,180);var a=cc.misc.degreesToRadians(e),s=cc.v2(Math.cos(a)*o,Math.sin(a)*o),r=o/i,h=n?0:t.scale,u=c?0:255;t.runAction(cc.sequence(cc.spawn(cc.scaleTo(r+.1,h),cc.moveBy(r,s).easing(cc.easeQuadraticActionOut()),cc.fadeTo(r+.1,u)),cc.fadeOut(.1),cc.removeSelf(!0)))},playAni:function(t,e){t.getComponent(cc.Animation).play(e)},stopAni:function(t,e){t.getComponent(cc.Animation).stop(e)},addNodeAni:function(t,e,o,i,n,c,a){for(var s=t.getComponent(cc.Animation),r=[],h=i;h<=n;h++){var u=new cc.SpriteFrame(cc.url.raw("resources/"+e+h+".png"));r.push(u)}var l=cc.AnimationClip.createWithSpriteFrames(r,5);l.name=o,l.speed=a,l.wrapMode=c?cc.WrapMode.Loop:cc.WrapMode.Normal,s.addClip(l)},returnRanNum:function(t,e){return t+Math.floor(Math.random()*(e-t+1))}};window.AniTools=i,cc._RF.pop()},{}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"f0663sWtfNKCKOL+Hvnt0cI","GameConfig");var i={GameClubButton:null,GameScene:null,launchScene:null,Bros:null,caS:null,MAIN_MENU_NUM:"Classic",gameScore:0,standScore:150,GAME_OVER_BOOL:!0,publicGameBool:!1,ranLinkData:null,recGameData:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,playNum:0,curType:2,noTouchBool:!0,enterGameNum:0,enterGameFlags:!1,returnRanNum:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},getAngle:function(t,e,o,i){var n=Math.abs(t-o),c=Math.abs(e-i),a=c/Math.sqrt(Math.pow(n,2)+Math.pow(c,2)),s=Math.acos(a),r=180/(Math.PI/s);return e>i&&(r=180-r),t>o&&(r*=-1),r},setLocalStorage:function(t,e){cc.sys.localStorage.setItem(t,e)},getLocalStorage:function(t){return cc.sys.localStorage.getItem(t)}};e.exports=i,cc._RF.pop()},{}],GameUiTools:[function(t,e,o){"use strict";cc._RF.push(e,"b21e8tF461OFalpptyeuAE2","GameUiTools");t("GameConfig");var i={newSprite:function(t,e){var o=new cc.Node;return e?(t=t.split(".")[0],o.addComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(t)):o.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+t),o},setNodeSpriteFrame:function(t,e){t.getComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(e)},setButtonClickEvents:function(t,e,o,i,n){var c=new Array;void 0==e.length?c[0]=e:c=e;for(var a=0;a<c.length;a++){var s=new cc.Component.EventHandler;s.target=t.node,s.component=t.node.name,s.handler=o,void 0==e.length?s.customEventData=i:s.customEventData=a;var r=c[a].addComponent(cc.Button);r.clickEvents.push(s),(void 0==n||n)&&(r.transition=cc.Button.Transition.SCALE,r.duration=.1,r.zoomScale=1.2)}},scheduleOnce:function(t,e,o){t.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(e,t)))},loadingScene:function(t,e){e?cc.loader.loadRes("panel/LoadingLayer",function(e,o){var i=cc.instantiate(o);cc.director.getScene().children[0].addChild(i),cc.director.preloadScene(t,function(){cc.director.loadScene(t)})}):cc.director.preloadScene(t,function(){cc.director.loadScene(t)})},loadingLayer:function(t){cc.loader.loadRes(t,function(t,e){if(!t){var o=cc.instantiate(e);cc.director.getScene().children[0].addChild(o,100)}})}};e.exports=i,cc._RF.pop()},{GameConfig:"GameConfig"}],HttpManagerJs:[function(t,e,o){"use strict";var i;function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}cc._RF.push(e,"197e1hfNnxIcJx73V3VhUxY","HttpManagerJs");var c=t("GameConfig"),a=(n(i={URL:"http://www.i8box.com/h5service.php/Interface/services",cacheList:null,isBusy:null,req:null,perform:null,retGameId:0},"cacheList",[]),n(i,"ctor",function(){}),n(i,"checkHave",function(){this.isBusy||this.sendOne()}),n(i,"httpInitUrl",function(t){console.log("data",this.URL),this.retGameId=t}),n(i,"send",function(t,e,o,i){this.cacheList.push({type:t,data:e,func:o,target:i}),this.isBusy||this.sendOne()}),n(i,"sendOne",function(){if(0!=this.cacheList.length){this.isBusy=!0,this.perform=this.cacheList.shift(),this.req=cc.loader.getXMLHttpRequest(),this.req.onreadystatechange=this.onDataHandler.bind(this),this.req.onerror=this.onErrorHandler.bind(this),this.req.ontimeout=this.onTimeoutHandler.bind(this),this.req.timeout=2e3,cc.log("pos",this.URL),this.req.open("POST",this.URL),this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");var t=this.returnLanguage();console.log("gameIdid",this.retGameId);var e=this.retGameId,o={type:this.perform.type,gid:e,mid:null,data:this.perform.data,languageType:t},i="send="+JSON.stringify(o);this.req.send(i)}}),n(i,"onDataHandler",function(){if(404!=this.req.status){if(4==this.req.readyState&&this.req.status>=200&&this.req.status<=207&&this.req.responseText){var t=JSON.parse(this.req.responseText);this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,t.error,t.data,t.commendGame,t.gameInfo):this.perform.func(t)}}else{var e=c.launchScene,o=c.Bros;c.caS;cc.director.loadScene(e,null,function(){if(o){"";var t=document.getElementById("GameDiv");t&&(t.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+e)})}}),n(i,"returnLanguage",function(){return(""+window.navigator.language).toLocaleLowerCase()}),n(i,"onErrorHandler",function(){cc.log("\u7f51\u7edc\u9519\u8bef"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),n(i,"onTimeoutHandler",function(){cc.log("\u8bf7\u6c42\u8d85\u65f6"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),n(i,"clearAll",function(){for(var t=this.cacheList.length,e=0;e<t;e++){var o=this.cacheList[e];o&&(o.target?o.func.call(o.target,-1):o.func(-1))}this.cacheList.length=0}),i);e.exports=a,cc._RF.pop()},{GameConfig:"GameConfig"}],LanguageSetJs:[function(t,e,o){"use strict";cc._RF.push(e,"4754e8KuPZJCqklCNyKpG29","LanguageSetJs");e.exports={language_1:{game_name:"\u300c\u94c1\u677f\u5927\u9c7f\u9c7c\u300d",game_name1:"\u94c1\u677f\u5927\u9c7f\u9c7c",game_info:"\u5feb\u6765\u94c1\u677f\u70e7\u5408\u6210\u5927\u9c7f\u9c7c!!",txtStart:"\u5f00\u59cb",txtMore:"\u66f4\u591a\u6e38\u620f",txtAgain:"\u518d\u73a9\u4e00\u6b21",txtShare1:"\u5728\u6e38\u620f\u4e2d ",txtShare2:"\u5f97\u5206\u4e86\uff0c\u597d\u554a!\u4f60\u548c\u6211\u4e00\u8d77\u6765\u6bd4\u8d5b!",bgRgb:"#3698C5",gameT1:"\u5173\u6ce8\u6211\u4eec",gameT2:"\u7eb8\u724c\u63a5\u9f99",gameT3:"\u9526\u4e0a\u6dfb\u82b1",gameUrl1:"http://g.regogame.com/game/9/",gameUrl2:"http://g.regogame.com/game/3/",gameT11:"\u5173\u6ce8\u5fae\u4fe1",gameT12:"\u5173\u6ce8Kakao",gameT13:"\u5173\u6ce8Line",gameEndL:"\u6e38 \u620f \u7ed3 \u675f",gameEndL1:"\u7a0d \u5019 \u67e5 \u770b \u5206 \u6570"},language_2:{game_name:"\u300cBead Synthesis\u300d",game_name1:"Bead Synthesis",game_info:"Tap the screen to string beads, and two beads of the same level will synthesize more advanced beads.",txtStart:"Start",txtMore:"More Game",txtAgain:"Play Again",txtShare1:"In Game ",txtShare2:" Let's play together!",bgRgb:"#3698C5",gameT1:"Follow Us",gameT2:"Thousand Flower",gameT3:"Eliminate Star",gameUrl1:"http://g.fromgame.com/game/53",gameUrl2:"http://g.fromgame.com/game/13",gameT11:"Focus WeChat",gameT12:"Focus Kakao",gameT13:"Focus Line",gameEndL:"Game OVer",gameEndL1:"View the score later"}},cc._RF.pop()},{}],LoadSceneJs:[function(t,e,o){"use strict";cc._RF.push(e,"3ef908fwfNIwJsOjET8tCh2","LoadSceneJs");var i={goToCover:function(t,e,o,i,n){var c=t;c=null==c||void 0==c||t,console.log("LoadBoolBeforeLoadS",c),this.needShow=!1,c&&c?(this.needShow=!0,showMyAds()):this.needShow=!1,this.needShow?(void 0==preloader&&this.startGoToGame(o,i,n),resCompleteFlag=!0,adCompleteFlag&&resCompleteFlag&&this.startGoToGame(o,i,n)):this.startGoToGame(o,i,n)},startGoToGame:function(t,e,o){console.log("goToScene"),noAdGoToScene()}};e.exports=i,cc._RF.pop()},{}],MainGameJS:[function(t,e,o){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}cc._RF.push(e,"0e7a8SkMLxEY7nCB1Bqi8WZ","MainGameJS");var n=t("GameConfig"),c=t("GameUiTools"),a=t("MainManage");t("mTool_WHQ");cc.Class({extends:cc.Component,properties:{addto:cc.AudioClip,get:cc.AudioClip,over:cc.AudioClip,plateNode:cc.Node,platePre:cc.Prefab,squidNode:cc.Node,starPre:cc.Prefab,circleNode:cc.Node,circlePre:cc.Prefab,lightNode:cc.Node,lightPre:cc.Prefab,singlePointFoodPre:cc.Prefab,doublePointFoodPre:cc.Prefab,foodNode:cc.Node,singlePointFoodSprArr:[cc.SpriteFrame],singlePointFoodshadomSprArr:[cc.SpriteFrame],lightFoodSprArr:[cc.SpriteFrame],signetNode:cc.Node,signetPre:cc.Prefab,latticeSprArr:[cc.SpriteFrame],latticeNode:cc.Node,latticePre:cc.Prefab,gamescoreNode:cc.Node,tableNode:cc.Node,bglightNode:cc.Node,platelocation:cc.Node,location:cc.Node,MeatballsPre:cc.Prefab,startBgNode:cc.Node,sceneScore:cc.Label,gameOverT1:cc.Label,gameOverT2:cc.Label,blackLayerPre:cc.Node,gameOverPre:cc.Prefab},onLoad:function(){this.platFromNum=1,this.judgeCurPlatform(),this.adapterScreen(),this.gameOveEndBool=!1,this.gameOverNum=0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,n.curType=this.returnCurrentLanType(),n.playNum>=1&&(this.startBgNode.active=!1),n.playNum++,this.addTouchEvents(),c.loadingLayer("panel/LinkIconSpr"),this.touchBeginFlags=!0,n.publicGameBool||this.play(),this.data(),this.switch(),this.collision(),this.ready()},data:function(){this.sideWidth=this.location.width,this.sideLength=this.location.height,this.firstPx=-2*this.sideWidth,this.firstPy=-5*this.sideLength,this.rowCount=7,this.colCount=5,this.latticeArr=[],this.latticeTopArr=[],this.topTempx=0,this.topTempy=0,this.ranidf=!0,this.touchi=null,this.touchj=null,this.addTimesStandard=2,this.addTimes=2,this.speed=4e3,this.movetime=.3,this.downtime=.2,this.uptime=.05,this.fullLevel=6,this.staytime1=.35,this.staytime2standard=0,this.staytime2=this.staytime2standard,this.staytime3standard=0,this.staytime3=this.staytime3standard,this.lightPlayTime=.54,this.sceneNumArr=[0,1,2],this.sceneNum=2,this.squidArr=[],this.plateArr=[],this.addscore=0},switch:function(){this.latticeColorFlags=!0,this.touchFlags=!0,this.passTopCheckFlags=!0,this.signetFlags=!1,this.xFlags=!0},collision:function(){},setPlate:function(){var t=-cc.winSize.width/8+this.plateNode.childrenCount*cc.winSize.width/4,e=this.gamescoreNode.position.y,o=cc.instantiate(this.platePre);o.parent=this.plateNode,o.setScale(0),o.setPosition(cc.v2(t,e)),o.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(.1)))},ready:function(){this.bglightNode.setPosition(cc.v2(0,cc.winSize.height/2)),this.tableNode.setPosition(cc.v2(0,cc.winSize.height/2)),this.gamescoreNode.setPosition(cc.v2(-cc.winSize.width/2+this.location.width/4,cc.winSize.height/2-this.location.width/1.5)),this.setMap(),this.setSignet(),this.signetFlags=!0,this.staytime1standard=.5,this.staytime1=this.staytime1standard,this.setfood(),this.grey()},start:function(){},checkTop:function(){var t=this.latticeArr,e=this.touchj;if(t[this.touchi][e].food)if(4==t[this.touchi][e].food.index?t[this.touchi][e].food.runAction(cc.sequence(cc.scaleTo(.1,.6),cc.scaleTo(.7,.8).easing(cc.easeElasticOut()))):t[this.touchi][e].food.runAction(cc.sequence(cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,0))),this.touchi<this.rowCount){for(var o=this.touchi+1;o<this.rowCount;o++)if(t[o][e].food){this.passTopCheckFlags=!1;break}this.passTopCheckFlags?this.seekOtherTop():t[this.touchi][this.touchj].food==t[this.touchi+1][this.touchj].food?(this.touchi+=1,this.seekOtherTop(),this.passTopCheckFlags=!0):(this.touchFlags=!0,this.passTopCheckFlags=!0)}else this.seekOtherTop();else this.touchFlags=!0},seekOtherTop:function(){for(var t=this.latticeArr,e=[],o=[],c=[],a=[],s=[],r=[],h=[],u=[],l=[],d=t[this.touchi][this.touchj].food.index,g=[],f=0;f<this.colCount;f++)for(var m=this.rowCount-1;m>=0;m--)if(m>0){if(t[m][f].food){g.push(m);break}}else g.push(0);for(f=0;f<this.colCount;f++)for(m=g[f];m>=0&&t[m][f].food&&t[m][f].food.index==d;m--)t[m+1][f].food?t[m][f].food!=t[m+1][f].food&&(t[m][f].food.children[0].runAction(cc.tintTo(.01,255,255,255)),e.push(t[m][f]),o.push(m),c.push(f),f==this.touchj?(h.push(t[m][f].food),u.push(m),l.push(f)):(a.push(t[m][f].food),s.push(m),r.push(f))):(t[m][f].food.children[0].runAction(cc.tintTo(.01,255,255,255)),e.push(t[m][f]),o.push(m),c.push(f),f==this.touchj?(h.push(t[m][f].food),u.push(m),l.push(f)):(a.push(t[m][f].food),s.push(m),r.push(f)));if(a.length+h.length<2)this.touchFlags=!0;else{this.addscore=d*(a.length+h.length),n.gameScore+=this.addscore,t[this.touchi][this.touchj].food.index,this.fullLevel,this.staytime1=this.staytime1standard,a.length>0&&(this.staytime2=.2),d==this.fullLevel-1&&(this.staytime3=1);for(var p=0;p<a.length;p++)d>3&&d<6?(t[s[p]][r[p]].food=null,t[s[p]-1][r[p]].food=null):6==d?(t[s[p]][r[p]].food=null,t[s[p]-1][r[p]].food=null,t[s[p]-2][r[p]].food=null):t[s[p]][r[p]].food=null;for(var v=1;v<h.length;v++)d>3&&d<6?(t[u[v]][l[v]].food=null,t[u[v]-1][l[v]].food=null):6==d?(t[u[v]][l[v]].food=null,t[u[v]-1][l[v]].food=null,t[u[v]-2][l[v]].food=null):t[u[v]][l[v]].food=null;this.grey(),t[this.touchi][this.touchj].food.children[0].getComponent(cc.Sprite).spriteFrame=this.lightFoodSprArr[d-1];for(var T=0;T<a.length;T++){var S=t[s[T]][r[T]],A=Math.abs(S.position.y);A<220&&(A=220);var y=1.2*(this.firstPy+7*this.sideLength+A),C=Math.abs(t[this.touchi][this.touchj].position.x-S.position.x)/1.2,w=this.firstPy+7*this.sideLength-t[this.touchi][this.touchj].position.y;a[T].runAction(cc.sequence(cc.moveTo(y/this.speed,S.position.x,this.firstPy+7*this.sideLength).easing(cc.easeQuadraticActionOut()),cc.moveTo(C/this.speed,t[this.touchi][this.touchj].position.x,this.firstPy+7*this.sideLength).easing(cc.easeQuadraticActionOut()),cc.moveTo(w/this.speed,t[this.touchi][this.touchj].position.x,t[this.touchi][this.touchj].position.y).easing(cc.easeQuadraticActionOut()),cc.fadeTo(.01,0)))}this.scheduleOnce(function(){this.kk=h.length;for(var e=h.length-1;e>0;e--){var o=t[u[e]][l[e]],i=t[this.touchi][this.touchj].position.y-o.position.y;cc.log(i/this.speed*5),this.kk--,h[e].runAction(cc.sequence(cc.delayTime(.1375*(h.length-1-this.kk)),cc.moveTo(i/this.speed*5,o.position.x,t[this.touchi][this.touchj].position.y),cc.fadeTo(.01,0)))}},this.staytime2),this.scheduleOnce(function(){var e=this,o=t[this.touchi][this.touchj];cc.audioEngine.play(this.addto,!1,1);var n=cc.instantiate(this.lightPre);n.parent=this.lightNode,n.setPosition(cc.v2(o.position)),n.getComponent(cc.Animation).play("boom"),n.runAction(cc.fadeTo(this.lightPlayTime,0).easing(cc.easeExponentialIn())),this.scheduleOnce(function(){n.destroy()},this.lightPlayTime);var c=cc.instantiate(this.circlePre);c.parent=this.circleNode,c.setScale(0),c.setPosition(cc.v2(o.position)),c.runAction(cc.sequence(cc.spawn(cc.scaleTo(2,1,1).easing(cc.easeQuinticActionOut()),cc.fadeTo(2,0).easing(cc.easeQuinticActionOut())),cc.callFunc(function(){c.destroy()},this)));for(var a=Math.floor(1.99*Math.random())+2,s=function(t){var i=cc.instantiate(e.starPre);i.parent=e.circleNode;var n=Math.random()+.5;i.setScale(0);var c=360*Math.random();i.angle=-c;var a=2*Math.round(Math.random())-1,s=o.position.x-e.sideLength+Math.random()*e.sideLength*2,r=o.position.y-e.sideLength+Math.random()*e.sideLength*2;i.setPosition(cc.v2(s,r)),i.runAction(cc.sequence(cc.spawn(cc.scaleTo(1,n).easing(cc.easeQuinticActionOut()),cc.rotateBy(1,30*a).easing(cc.easeQuinticActionOut()),cc.fadeTo(.6,0).easing(cc.easeCubicActionIn())),cc.callFunc(function(){i.destroy()},e)))},r=0;r<a;r++)s();if(o.food.getComponent(cc.Sprite).spriteFrame=this.singlePointFoodshadomSprArr[d],o.food.children[0].getComponent(cc.Sprite).spriteFrame=this.singlePointFoodSprArr[d],0==d?(o.food.setScale(0),o.food.children[0].anchorY=.5,o.food.runAction(cc.scaleTo(.8,.85,.85).easing(cc.easeElasticOut()))):1==d?(o.food.setScale(0),o.food.children[0].anchorY=.5,o.food.runAction(cc.scaleTo(.8,.9,.9).easing(cc.easeElasticOut()))):d>2&&d<4?(o.food.setScale(0),o.food.anchorY=.9,o.food.children[0].anchorY=.9,o.food.runAction(cc.scaleTo(.8,.8,.8).easing(cc.easeElasticOut()))):4==d?(o.food.setScale(0),o.food.anchorY=.8,o.food.children[0].anchorY=.8,o.food.runAction(cc.scaleTo(.8,.75,.75).easing(cc.easeElasticOut()))):(o.food.setScale(0),o.food.children[0].anchorY=.5,o.food.runAction(cc.scaleTo(.8,1,1).easing(cc.easeElasticOut()))),3==d&&o.food.runAction(cc.sequence(cc.moveTo(.01,t[this.touchi+1][this.touchj].position.x,t[this.touchi+1][this.touchj].position.y),cc.callFunc(function(){t[this.touchi+1][this.touchj].food=o.food},this))),o.food.index=d+1,this.sceneNumArr.push(d),this.sceneNum=Math.max.apply(Math,i(this.sceneNumArr)),o.food.index==this.fullLevel){cc.audioEngine.play(this.get,!1,1);for(var h=0;h<this.plateArr.length;h++)this.plateArr[h].runAction(cc.moveBy(.5,cc.winSize.width/4,0));var u=-cc.winSize.width/8,l=this.gamescoreNode.position.y,g=cc.instantiate(this.platePre);g.parent=this.plateNode,this.plateArr.push(g),g.setScale(0),g.setPosition(cc.v2(u,l)),g.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(.1)));var f=80*Math.random()-40;o.food.parent=this.squidNode,this.plateArr.push(this.squidNode.children[this.squidNode.childrenCount-1]),o.food.runAction(cc.sequence(cc.spawn(cc.moveTo(.8,0,0),cc.scaleTo(.8,2,2),cc.callFunc(function(){this.touchj>0&&(t[this.touchi][this.touchj-1].food&&(t[this.touchi][this.touchj-1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi][this.touchj-1].food),this.squidArr.push(t[this.touchi][this.touchj-1].food),t[this.touchi][this.touchj-1].food=null),t[this.touchi-1][this.touchj-1].food&&(t[this.touchi-1][this.touchj-1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi-1][this.touchj-1].food),this.squidArr.push(t[this.touchi-1][this.touchj-1].food),t[this.touchi-1][this.touchj-1].food=null),t[this.touchi+1][this.touchj-1].food&&(t[this.touchi+1][this.touchj-1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi+1][this.touchj-1].food),this.squidArr.push(t[this.touchi+1][this.touchj-1].food),t[this.touchi+1][this.touchj-1].food=null)),this.touchj<4&&(t[this.touchi][this.touchj+1].food&&(t[this.touchi][this.touchj+1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi][this.touchj+1].food),this.squidArr.push(t[this.touchi][this.touchj+1].food),t[this.touchi][this.touchj+1].food=null),t[this.touchi-1][this.touchj+1].food&&(t[this.touchi-1][this.touchj+1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi-1][this.touchj+1].food),this.squidArr.push(t[this.touchi-1][this.touchj+1].food),t[this.touchi-1][this.touchj+1].food=null),t[this.touchi+1][this.touchj+1].food&&(t[this.touchi+1][this.touchj+1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi+1][this.touchj+1].food),this.squidArr.push(t[this.touchi+1][this.touchj+1].food),t[this.touchi+1][this.touchj+1].food=null)),this.touchi>1&&(t[this.touchi-2][this.touchj].food&&(t[this.touchi-2][this.touchj].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi-2][this.touchj].food),this.squidArr.push(t[this.touchi-2][this.touchj].food),t[this.touchi-2][this.touchj].food=null),this.touchj>0&&t[this.touchi-2][this.touchj-1].food&&(t[this.touchi-2][this.touchj-1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi-2][this.touchj-1].food),this.squidArr.push(t[this.touchi-2][this.touchj-1].food),t[this.touchi-2][this.touchj-1].food=null),this.touchj<4&&t[this.touchi-2][this.touchj+1].food&&(t[this.touchi-2][this.touchj+1].food.children[0].runAction(cc.tintTo(.01,255,255,255)),this.plateArr.push(t[this.touchi-2][this.touchj+1].food),this.squidArr.push(t[this.touchi-2][this.touchj+1].food),t[this.touchi-2][this.touchj+1].food=null)),this.grey(),this.squidBoom()},this)),cc.spawn(cc.moveTo(.5,g.x,g.y).easing(cc.easeCubicActionOut()),cc.rotateTo(.5,f).easing(cc.easeCubicActionOut()),cc.scaleTo(.5,.4,.4).easing(cc.easeCubicActionOut())),cc.callFunc(function(){o.food=null,t[this.touchi-1][this.touchj].food=null},this)))}},this.movetime),this.scheduleOnce(function(){for(var e=null,o=0;o<this.touchi;o++)if(!t[o][this.touchj].food){e=o;break}0==e?(e=0,d<3?t[this.touchi][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e][this.touchj].position.x,t[e][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null},this))):3==d?t[this.touchi+1][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e+1][this.touchj].position.x,t[e+1][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null,t[e+1][this.touchj].food=t[this.touchi+1][this.touchj].food,t[this.touchi+1][this.touchj].food=null},this))):d>3&&d<5&&t[this.touchi][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e+1][this.touchj].position.x,t[e+1][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi-1][this.touchj].food,t[this.touchi-1][this.touchj].food=null,t[e+1][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null},this)))):e?d<3?t[this.touchi][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e][this.touchj].position.x,t[e][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null},this))):3==d?t[this.touchi+1][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e+1][this.touchj].position.x,t[e+1][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null,t[e+1][this.touchj].food=t[this.touchi+1][this.touchj].food,t[this.touchi+1][this.touchj].food=null},this))):d>3&&d<5&&t[this.touchi][this.touchj].food.runAction(cc.sequence(cc.moveTo(this.downtime,t[e+1][this.touchj].position.x,t[e+1][this.touchj].position.y).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t[e][this.touchj].food=t[this.touchi-1][this.touchj].food,t[this.touchi-1][this.touchj].food=null,t[e+1][this.touchj].food=t[this.touchi][this.touchj].food,t[this.touchi][this.touchj].food=null},this))):e=this.touchi,this.staytime2=this.staytime2standard,this.staytime3=this.staytime3standard,this.addTimes-=1,this.scheduleOnce(function(){this.addTimes<=0?this.addLattice():(this.checkSynthesis(),this.touchFlags=!0,this.grey())},.35)},this.staytime1+this.staytime2+this.staytime3)}},squidBoom:function(){for(var t=this,e=this.latticeArr,o=-cc.winSize.width/8,i=this.gamescoreNode.position.y,n=function(e){var n=o+Math.random()*t.platelocation.width/4;t.xFlags?(n=o-Math.random()*t.platelocation.width/3.5,t.xFlags=!1):(n=o+Math.random()*t.platelocation.width/3.5,t.xFlags=!0);var c=i-t.platelocation.height/4+Math.random()*t.platelocation.height/2,a=360*Math.random()-180;t.squidArr[e].runAction(cc.sequence(cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.spawn(cc.sequence(cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,5),cc.rotateTo(.1,-5),cc.rotateTo(.1,5)),cc.blink(.5,2)),cc.spawn(cc.moveTo(.5,n,c).easing(cc.easeCubicActionOut()),cc.callFunc(function(){this.squidArr[e].children[0].setPosition(0,0)},t),cc.rotateTo(.5,a).easing(cc.easeCubicActionOut()),cc.scaleTo(.5,.5,.5).easing(cc.easeCubicActionOut()))))},c=0;c<this.squidArr.length;c++)n(c);this.scheduleOnce(function(){for(var t=this,o=function(o){if(t.touchj>0&&e[o][t.touchj-1].food)for(var i=function(i){if(!e[i][t.touchj-1].food)return e[o][t.touchj-1].food.runAction(cc.sequence(cc.moveTo(t.downtime,e[i][t.touchj-1].position.x,e[i][t.touchj-1].position.y),cc.callFunc(function(){e[i][this.touchj-1].food=e[o][this.touchj-1].food,e[o][this.touchj-1].food=null},t))),"break"},n=0;n<t.rowCount;n++){if("break"===i(n))break}if(t.touchj<4&&e[o][t.touchj+1].food){var c=function(i){if(!e[i][t.touchj+1].food)return e[o][t.touchj+1].food.runAction(cc.sequence(cc.moveTo(t.downtime,e[i][t.touchj+1].position.x,e[i][t.touchj+1].position.y),cc.callFunc(function(){e[i][this.touchj+1].food=e[o][this.touchj+1].food,e[o][this.touchj+1].food=null},t))),"break"};for(n=0;n<t.rowCount;n++){if("break"===c(n))break}}},i=this.touchi;i<this.rowCount;i++)o(i)},1.3)},checkSynthesis:function(){for(var t=this.latticeArr,e=[],o=[],i=[],n=0;n<this.colCount;n++)for(var c=this.rowCount-1;c>=0;c--)if(c>0){if(t[c][n].food){e.push(t[c][n].food.index),o.push(t[c][n]),i.push(c);break}}else t[c][n].food?(e.push(t[c][n].food.index),o.push(t[c][n]),i.push(c)):(e.push(0),o.push(0),i.push(c));for(var a=[],s=0;s<e.length;s++)e.indexOf(e[s])!=s&&0!=e[s]&&a.push(s),i[s]>0&&t[i[s]-1][s].food&&t[i[s]-1][s].food.index==e[s]&&t[i[s]-1][s].food!=t[i[s]][s].food&&a.push(s);0==a.length&&this.addLattice()},grey:function(){for(var t=this.latticeArr,e=0;e<this.colCount;e++)for(var o=this.rowCount-1;o>-1;o--)if(t[o][e].food&&6!=t[o][e].food.index){t[o][e].food.children[0].runAction(cc.tintTo(.01,255,255,255));break}},checkValue:function(){for(var t=this.latticeArr,e=0;e<this.rowCount;e++)for(var o=0;o<this.colCount;o++)t[e][o].food&&t[e][o].food.index&&cc.log("\u7b2c",e+1,"\u884c\u7b2c",o+1,"\u5217",t[e][o].food.index)},checkDown:function(){for(var t=this,e=this.latticeArr,o=function(o){for(var i=function(i){if(o>0&&e[o][i].food&&!e[o-1][i].food){var c=0;for(n=0;n<t.colCount;n++){e[n][i].food||(c=n);break}e[o][i].food.runAction(cc.sequence(cc.moveTo(.5,e[c][i].position.x,e[c][i].position.y),cc.callFunc(function(){e[c][i].food=e[o][i].food,e[c][i].food,e[o][i].food=null},t)))}},c=0;c<t.colCount;c++)i(c)},i=0;i<this.rowCount;i++){var n;o(i)}},setfood2:function(){for(var t=this.latticeArr,e=0;e<this.rowCount;e++)for(var o=0;o<this.colCount;o++)this.i=e,this.j=o,this.ranidf?(this.ranidf=!1,t[e][o].food=cc.instantiate(this.singlePointFoodPre),t[e][o].food.parent=this.foodNode,t[e][o].food.setPosition(cc.v2(t[e][o].getPosition())),t[e][o].food.index=1):this.ranidf=!0},setMap:function(){for(var t=0;t<this.rowCount+1;t++){for(var e=[],o=0;o<this.colCount;o++){var i=cc.instantiate(this.latticePre);i.parent=this.latticeNode;var n=i.getComponent(cc.Sprite);7==t?i.opacity=0:this.latticeColorFlags?(this.latticeColorFlags=!1,n.spriteFrame=this.latticeSprArr[1],i.opacity=76):(this.latticeColorFlags=!0,n.spriteFrame=this.latticeSprArr[0],i.opacity=56);var c=this.firstPx+o*this.sideWidth,a=this.firstPy+t*this.sideLength;i.setPosition(cc.v2(c,a)),e.push(i)}this.latticeArr.push(e)}},setSignet:function(){for(var t=0;t<this.colCount;t++){var e=cc.instantiate(this.signetPre);e.parent=this.signetNode,e.setPosition(cc.v2(this.firstPx+t*this.sideWidth,this.firstPy+(this.rowCount-1)*this.sideLength))}},setfood:function(){for(var t=this.latticeArr,e=0;e<this.rowCount+1;e++)for(var o=0;o<this.colCount;o++)t[e][o].food=null;for(var i=0;i<3;i++)for(var n=0;n<this.colCount;n++){t[i][n].food=cc.instantiate(this.singlePointFoodPre),t[i][n].food.parent=this.foodNode;var c=t[i][n].food.getComponent(cc.Sprite),a=0;a=0==i?Math.floor(2.99*Math.random()):1==i?Math.floor(1.99*Math.random()):Math.floor(.99*Math.random()),c.spriteFrame=this.singlePointFoodshadomSprArr[a],t[i][n].food.children[0].getComponent(cc.Sprite).spriteFrame=this.singlePointFoodSprArr[a],0==a?t[i][n].food.setScale(.8):1==a?t[i][n].food.setScale(.9):t[i][n].food.setScale(1),t[i][n].food.setPosition(cc.v2(t[i][n].position)),t[i][n].food.index=a+1}},getTouchLattice:function(t){for(var e=this.latticeArr,o=null,i=null,n=0;n<this.rowCount;n++)for(var c=0;c<this.colCount;c++)t.x>e[n][c].position.x-this.sideWidth/2&&t.x<e[n][c].position.x+this.sideWidth/2&&t.y>e[n][c].position.y-this.sideLength/2&&t.y<e[n][c].position.y+this.sideLength/2&&(o=n,i=c);this.touchi=o,this.touchj=i,this.touchi||0==this.touchi?this.checkTop():this.touchFlags=!0},addLattice:function(){for(var t=this,e=this.latticeArr,o=0;o<this.colCount;o++)if(e[6][o].food)return void this.gameOver();for(var i=[],n=[],c=0;c<this.colCount;c++){for(var a=this.rowCount-1;a>=0;a--)if(e[a][c].food){i.push(e[a][c].food.index);break}e[0][c].food||n.push(c)}for(var s=!1,r=0;r<i.length-1;r++)for(var h=i[r],u=r;u<i.length-1&&u!=i.length-1;u++)i[u+1]==h&&(s=!0);var l=0;if(!s){for(var d=i.length-1;d>-1;d--)i[d]>3&&i.splice(d,1);var g=Math.floor(Math.random()*(i.length-.01));l=i.length?i[g]:1}for(var f=function(o){for(var i=function(i){e[o][i].food&&e[o][i].food.runAction(cc.sequence(cc.moveTo(t.uptime,e[o+1][i].position.x,e[o+1][i].position.y),cc.callFunc(function(){e[o+1][i].food=e[o][i].food,e[o][i].food=null},t)))},n=0;n<t.colCount;n++)i(n)},m=this.rowCount-2;m>=0;m--)f(m);this.scheduleOnce(function(){for(var t=0;t<this.colCount;t++){var o=0;e[0][t].food=cc.instantiate(this.singlePointFoodPre),e[0][t].food.parent=this.foodNode;var i=e[0][t].food.getComponent(cc.Sprite);if(this.sceneNum<7&&(o=Math.floor(2.99*Math.random())),!s)for(var c=0;c<n.length;c++)n[c]==t&&(o=l-1);i.spriteFrame=this.singlePointFoodshadomSprArr[o],e[0][t].food.children[0].getComponent(cc.Sprite).spriteFrame=this.singlePointFoodSprArr[o],0==o?this.foodscale=.8:1==o?this.foodscale=.9:(this.foodscale=1,e[0][t].food.setScale(1)),e[0][t].food.setScale(0),e[0][t].food.setPosition(cc.v2(e[0][t].position)),e[0][t].food.index=o+1,e[0][t].food.runAction(cc.sequence(cc.scaleTo(.5,this.foodscale,this.foodscale).easing(cc.easeElasticOut()),cc.delayTime(.1)))}this.addTimes=this.addTimesStandard,this.touchFlags=!0,this.grey();for(var a=0;a<this.colCount;a++)if(e[6][a].food)for(var r=0;r<this.rowCount;r++)e[r][a].food.runAction(cc.sequence(cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255)))},2.5*this.uptime)},gameOver:function(){for(var t=this,e=this.latticeArr,o=function(o){for(var i=function(i){e[o][i].food&&e[o][i].food.runAction(cc.sequence(cc.moveTo(t.uptime,e[o+1][i].position.x,e[o+1][i].position.y),cc.callFunc(function(){e[o+1][i].food=e[o][i].food,e[o][i].food=null},t)))},n=0;n<t.colCount;n++)i(n)},i=this.rowCount;i>=0;i--)o(i);this.scheduleOnce(function(){for(var t=0;t<this.colCount;t++){e[0][t].food=cc.instantiate(this.singlePointFoodPre),e[0][t].food.parent=this.foodNode;var o,i=e[0][t].food.getComponent(cc.Sprite);o=Math.floor(2.99*Math.random()),i.spriteFrame=this.singlePointFoodshadomSprArr[o],e[0][t].food.children[0].getComponent(cc.Sprite).spriteFrame=this.singlePointFoodSprArr[o],0==o?this.foodscale=.8:1==o?this.foodscale=.9:(this.foodscale=1,e[0][t].food.setScale(1)),e[0][t].food.setScale(0),e[0][t].food.setPosition(cc.v2(e[0][t].position)),e[0][t].food.index=o+1,e[0][t].food.runAction(cc.sequence(cc.scaleTo(.5,this.foodscale,this.foodscale).easing(cc.easeElasticOut()),cc.delayTime(.1)))}this.addTimes=this.addTimesStandard;for(var n=0;n<this.colCount;n++)if(e[7][n].food)for(var c=0;c<this.rowCount+1;c++)e[c][n].food.children[0].runAction(cc.sequence(cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255)));this.scheduleOnce(function(){cc.audioEngine.play(this.over,!1,1),this.gameEnd()},1)},2.5*this.uptime)},scoreChange:function(t){n.gameScore>100&&n.gameScore<999?this.sceneScore.string<n.gameScore?(this.gamescoreNode.scaleX=.75,this.gamescoreNode.scaleY=.75,this.sceneScore.string++):(this.gamescoreNode.scaleX=.7,this.gamescoreNode.scaleY=.7):n.gameScore>1e3?(this.gamescoreNode.setPosition(cc.v2(-cc.winSize.width/2,cc.winSize.height/2-this.location.width/1.5)),this.sceneScore.string<n.gameScore?(this.gamescoreNode.scaleX=.6,this.gamescoreNode.scaleY=.6,this.sceneScore.string++):(this.gamescoreNode.scaleX=.55,this.gamescoreNode.scaleY=.55)):this.sceneScore.string<n.gameScore?(this.gamescoreNode.scaleX=.85,this.gamescoreNode.scaleY=.85,this.sceneScore.string++):(this.gamescoreNode.scaleX=.8,this.gamescoreNode.scaleY=.8)},addTouchEvents:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){if(n.GAME_OVER_BOOL&&n.noTouchBool&&t.touchBeginFlags&&t.touchFlags){t.touchBeginFlags=!1,t.touchFlags=!1,this.squidArr=[];var o=e.getLocation(),i=t.node.convertToNodeSpaceAR(o);return this.getTouchLattice(i),!0}},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.on_touch_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.on_touch_end,this)},on_touch_move:function(t){var e=t.getLocation();this.node.convertToNodeSpaceAR(e)},on_touch_end:function(t){this.touchBeginFlags=!0;var e=t.getLocation();this.node.convertToNodeSpaceAR(e)},update:function(t){this.gameOverGoToOVer(),this.gameEndFlags||this.scoreChange(t)},gameEnd:function(){this.plateNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),this.squidNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),this.foodNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),this.signetNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),this.latticeNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),this.gamescoreNode.runAction(cc.fadeTo(.5,0).easing(cc.easeCubicActionIn())),n.GAME_OVER_BOOL=!1,a.gameOverShowText(n.gameScore,1),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.gameEnd1.bind(this))))},gameEnd1:function(){var t=cc.instantiate(this.blackLayerPre);this.node.addChild(t,2600),t.x=0,t.y=0,t.opacity=0,t.active=!0,t.runAction(cc.fadeTo(.3,140)),this.gameOveEndBool=!0,1==n.curType?(this.gameOverT1.string="\u6e38 \u620f \u7ed3 \u675f",this.gameOverT2.string="\u70b9 \u51fb \u67e5 \u770b \u5206 \u6570"):2==n.curType?(this.gameOverT1.string="\u904a \u6232 \u7d50 \u675f",this.gameOverT2.string="\u9ede \u64ca \u67e5 \u770b \u5206 \u6578"):3==n.curType?(this.gameOverT1.string="Game Over",this.gameOverT2.string="Click to view the score"):4==n.curType&&(this.gameOverT1.string="\uac8c\uc784 \uc885\ub8cc",this.gameOverT2.string="\ud074\ub9ad \ud558\uc5ec \uc810\uc218 \ubcf4\uae30"),this.gameOverT1.node.zIndex=2999,this.gameOverT2.node.zIndex=2999,this.gameOverT1.node.opacity=0,this.gameOverT1.node.x=0,this.gameOverT1.node.y=100,this.gameOverT1.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(.5),cc.moveBy(.5,0,-50)),cc.callFunc(function(){},this),cc.callFunc(function(){t.canTouch=!0},this))),this.gameOverT2.node.opacity=0,this.gameOverT2.node.x=0,this.gameOverT2.node.y=this.gameOverT1.node.y-100,this.gameOverT2.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(.5),cc.moveBy(.5,0,-50)),cc.callFunc(function(t){t.runAction(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))).repeatForever()},this)))},initEndLayer:function(){var t=cc.instantiate(this.gameOverPre);this.node.addChild(t,2600)},gameOverGoToOVer:function(){this.gameOveEndBool&&(this.gameOverNum++,this.gameOverNum>=900&&(this.gameOverNum=0,this.gameOveEndBool=!1))},judgeCurPlatform:function(){var t=function(){var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),o=/(?:SymbianOS)/.test(t)||e,i=/(?:Android)/.test(t),n=/(?:Firefox)/.test(t),c=(/(?:Chrome|CriOS)/.test(t),/(?:iPad|PlayBook)/.test(t)||i&&!/(?:Mobile)/.test(t)||n&&/(?:Tablet)/.test(t)),a=/(?:iPhone)/.test(t)&&!c;return{isTablet:c,isPhone:a,isAndroid:i,isPc:!a&&!i&&!o}}();t.isAndroid||t.isPhone?this.platFromNum=1:t.isTablet?this.platFromNum=2:t.isPc&&(this.platFromNum=3)},adapterScreen:function(){var t=cc.find("Canvas").getComponent(cc.Canvas);2==this.platFromNum||3==this.platFromNum?(t.fitWidth=!0,t.fitHeight=!0):(t.fitWidth=!0,t.fitHeight=!1)},play:function(){console.log(1);var t=this;adBreak({type:"next",name:"restart-game",beforeBreak:function(){t.enableButtons()},afterBreak:function(){t.enableButtons()}})},enableButtons:function(){},returnCurrentLanType:function(){var t=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:t="zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?2:1;break;case cc.sys.LANGUAGE_KOREAN:t=4;break;default:t=3}return t}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage",mTool_WHQ:"mTool_WHQ"}],MainManage:[function(t,e,o){"use strict";cc._RF.push(e,"946adGkxvdBmZXnlD952XtK","MainManage");var i=t("HttpManagerJs"),n=t("LanguageSetJs"),c=t("GameConfig"),a=t("LoadSceneJs"),s=t("GameUiTools"),r={gameHttpId:0,subScoreHttp:null,gameNameText:null,gameInfoText:null,txtStartText:null,txtMoreText:null,txtAgainText:null,gameEndLText:null,gameEndL1Text:null,bgLayRgb:null,gameEndName1:null,gameEndName2:null,gameEndUrl1:null,gameEndUrl2:null,langugeType:1,ranLinkData:null,adShowBefore:!1,adShowAfter:!0,endLayCol:null,moreBtnBgCol:null,moreBtnTextCol:null,recGameData:null,recGameUrl:null,recGameDelPau:null,recGameDelPer:null,recGameimg1:null,recGameimg2:null,recGamePos:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,endHttpShowInfo:null,moreGameUrl:null,init:function(t,e,o){if(!c.publicGameBool){if(c.playNum>=1)return;c.playNum++}c.launchScene=t,c.Bros=e,c.caS=o,this.curType=1,this.getHttpGameId(),this.gamePV_load(),console.log("thisg",this.gameHttpId),i.httpInitUrl(this.gameHttpId);var n=this.initLanguage();this.gameNameText=n.game_name,this.gameInfoText=n.game_info,this.txtStartText=n.txtStart,this.txtMoreText=n.txtMore,this.txtAgainText=n.txtAgain,this.gameEndLText=n.gameEndL,this.gameEndL1Text=n.gameEndL1,this.bgLayRgb=n.bgRgb,this.gameEndName1=n.gameT2,this.gameEndName2=n.gameT3,this.gameEndUrl1=n.gameUrl1,this.gameEndUrl2=n.gameUrl2,this.langugeType=this.curType,c.publicGameBool||a.goToCover(this.adShowBefore,this.adShowAfter,t,e,o)},getHttpGameId1:function(){var t=window.location.href,e=t.substring(0,t.lastIndexOf("//")+2),o=window.location.host,i=e+o+"/Service/Share/index";this.gameAllHttp=i,cc.log("gameAll",this.gameAllHttp),this.subScoreHttp=e+o+"/Service/Score/index",this.gamePvHttp=e+o+"/Service/GamePv/index";var n=document.URL,c=0,a=n.substring(n.lastIndexOf("/game/")+1,n.length).split("/");a.length>=2&&(c=a[1]),this.gameHttpId=c,cc.log("gameId",c);t.substring(t.lastIndexOf("//")+4,t.lastIndexOf("com")+3);this.moreGameUrl=this.httpHead+this.endHttp},getHttpGameId:function(){var t=window.location.href,e=t.substring(0,t.lastIndexOf("//")+2),o=window.location.host,i=e+o+"/Service/Share/index";this.gameAllHttp=i,this.subScoreHttp=e+o+"/Service/Score/index",this.gamePvHttp=e+o+"/Service/GamePv/index";var n=document.URL,c=n.lastIndexOf("/"),a=n.substring(0,c),s=(c=a.lastIndexOf("/"),a.substring(c+1,a.length));this.gameHttpId=s,console.log("gameIdNew",s);var r=t.substring(t.lastIndexOf("//")+4,t.lastIndexOf("com")+3);-1==t.search("/game/")?this.moreGameUrl=e+o:this.moreGameUrl=e+r,console.log("moreGame",this.moreGameUrl)},gameOverShowText:function(t,e){this.ajaxLoad(this.subScoreHttp,"gameScore="+t+"&gameId="+this.gameHttpId+"&gameType="+e,this.scoreResult)},gamePV_load:function(){this.ajaxLoad(this.gamePvHttp,"gameId="+this.gameHttpId,this.ajaxOnLogoResult)},ajaxOnLogoResult:function(){},ajaxLoad:function(t,e,o){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=o,i.open("POST",t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(e)},scoreResult:function(t){if(null!=t.currentTarget.response&&""!=t.currentTarget.response){var e=JSON.parse(t.currentTarget.response);cc.log("endshow",e.content),r.endHttpShowInfo=e.content}},initLanguage:function(){var t=null;return cc.sys.language==cc.sys.LANGUAGE_CHINESE?(this.curType=1,t=n.language_1):(cc.log("\u82f1\u6587"),this.curType=2,t=n.language_2),t},getLinkGameReturn:function(t,e,o,i){if(console.log("err0",t),console.log("err1",e),console.log("err2",o),console.log("err3",i),0==t){this.ranLinkData=e,this.adShowBefore=this.ranLinkData.gameSet.adShowBefore,this.adShowAfter=this.ranLinkData.gameSet.adShowAfter,this.endLayCol=this.ranLinkData.gameSet.endLayerColor,this.moreBtnBgCol=this.ranLinkData.gameSet.moreBtnBgCol,this.moreBtnTextCol=this.ranLinkData.gameSet.moreBtnTextCol,this.moreGameUrl=this.ranLinkData.gameSet.moreBtnUrl,this.recGameData=o,this.ranRecGameData(),this.InfoData=i,this.endShow0=this.InfoData.endShow0,this.endShow1=this.InfoData.endShow1,this.endShow2=this.InfoData.endShow2,this.endShow3=this.InfoData.endShow3,this.infoGameName=this.InfoData.gameName,this.showText=this.InfoData.showText,this.startText=this.InfoData.startText,this.moreGameText=this.InfoData.moreGame,this.playAgainText=this.InfoData.rePlay,this.gameInfoText=this.InfoData.showText,this.txtStartText=this.InfoData.startText,this.txtMoreText=this.InfoData.moreGame,this.txtAgainText=this.InfoData.rePlay,console.log("LoadMainGameScnee");var n=c.launchScene,s=c.Bros,r=c.caS;a.goToCover(this.adShowBefore,this.adShowAfter,n,s,r)}},ranRecGameData:function(){if(null!=this.recGameData&&""!=this.recGameData){this.returnBool=!1;var t=this.recGameData.length,e=c.returnRanNum(1,t)-1;cc.log("ranNNN",e),this.recGameUrl=this.recGameData[e].data_link,this.recGameDelPer=this.recGameData[e].delay_per,this.recGameDelPau=this.recGameData[e].delay_pau,this.recGameimg1=this.recGameData[e].img_1,this.recGameimg2=this.recGameData[e].img_2,this.recGamePos=this.recGameData[e].poistion}},ranLinkUrl:function(){if(null!=this.ranLinkData&&this.ranLinkData.gameList&&null!=this.ranLinkData.gameList){var t=this.ranLinkData.gameList.length,e=c.returnRanNum(1,t)-1;return cc.log("templ",e,this.ranLinkData.gameList),cc.log("url",this.ranLinkData.gameList[0].gameName,this.ranLinkData.gameList[0].gameUrl),e}return null},gotoEndLayer:function(){this.showGameEndLayer()},showGameEndLayer:function(){console.log("Gottttttgameend"),s.loadingLayer("panel/GameOverLayer")}};e.exports=r,cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LanguageSetJs:"LanguageSetJs",LoadSceneJs:"LoadSceneJs"}],ToolsJs:[function(t,e,o){"use strict";cc._RF.push(e,"52099aBJmhHOr8TMrSsl3z4","ToolsJs");var i={SpriteFrameJs:null,AudioArrJs:null,setStorage:function(t,e,o){CC_WECHATGAME?wx.setStorage({key:t,data:e}):(o&&(e=JSON.stringify(e)),cc.sys.localStorage.setItem(t,e))},getStorage:function(t,e){if(CC_WECHATGAME)return wx.getStorageSync(t);var o=cc.sys.localStorage.getItem(t);return isNaN(o)||(o=parseInt(o)),"NaN"==o.toString()&&(o=null),e&&null!=o&&(o=JSON.parse(o)),o},logJsonObject:function(t){console.log(JSON.stringify(t))},loadJson:function(t,e){},writeJson:function(t,e){if(cc.sys.isBrowser){console.log("\u6d4f\u89c8\u5668");var o=new Blob([t],{type:"application/json"}),i=document.createElement("a");i.download=e,i.innerHTML="Download File",null!=window.webkitURL?i.href=window.webkitURL.createObjectURL(o):(i.href=window.URL.createObjectURL(o),i.onclick=destroyClickedElement,i.style.display="none",document.body.appendChild(i)),i.click()}},addNoArr:function(t,e){return t.indexOf(e)<0&&(t.push(e),!0)},newSprite:function(t){if(null!=this.SpriteFrameJs.getSpriteFrame(t)){var e=new cc.Node;return e.addComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(t),e}return null},setTexture:function(t,e){t.getComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(e)},clonePrefabs:function(t,e,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.PrefabArrJs.getPrefabs(t);if(null!=n){var c=cc.instantiate(n);return null!=e&&e.addChild(c,i),null!=o&&(c.position=o),c}return console.log("\u514b\u9686\u9884\u5236\u4f53\u5931\u8d25:"+t),null},newLabel:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=new cc.Node;a.anchorX=i,a.anchorY=n;var s=a.addComponent(cc.Label);return s.string=t,s.fontSize=o,e.addChild(a,c),a},playAudio:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.AudioArrJs?this.AudioArrJs.playAudio(t,e,o):cc.audioEngine.play(cc.url.raw("resources/music/"+t+".mp3"),o,e)},stopAudio:function(t){null!=t&&cc.audioEngine.stop(t)},newAduioSource:function(t){var e=void 0;if(null!=this.AudioArrJs)e=this.AudioArrJs.getAudioClip(t);else{if(null==t)return console.log("clip\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;e=t}var o=new cc.Node;return o.addComponent(cc.AudioSource).clip=e,o.getComponent(cc.AudioSource)},delayTimeCall:function(t,e,o,i){t.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(e,i)))},getDistance:function(t,e){return t.sub(e).mag()},getToNodePos:function(t,e){var o=t.parent.convertToWorldSpaceAR(t.position);return e.convertToNodeSpaceAR(o)},getToWorldPosAR:function(t){return t.parent.convertToWorldSpaceAR(t.position)},getToWorldPos:function(t){return t.parent.convertToWorldSpace(t.position)},isBoxContainPos:function(t,e){return t.getBoundingBox().contains(e)},isBoxContainWorldPos:function(t,e){return t.getBoundingBoxToWorld().contains(e)},isRectInterRect:function(t,e){return t.getBoundingBoxToWorld().intersects(e.getBoundingBoxToWorld())},returnRandom:function(t,e){return t+Math.floor(Math.random()*(e-t+1))}};window.ToolsJs=i,cc._RF.pop()},{}],common:[function(t,e,o){"use strict";cc._RF.push(e,"8f7bcYLfNZLJYoxQ4PfmWIl","common"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.mainSelf=cc.find("Canvas").getComponent("MainGameJS"),this.data(),this.switch(),this.ready()},onCollisionEnter:function(t,e){},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){},data:function(){},switch:function(){},ready:function(){},start:function(){},run:function(t){},check:function(){},update:function(t){this.run(t),this.check()},getArmature:function(){this._armatureDisPlay=this.getComponent(dragonBones.ArmatureDisplay),this._armature=this._armatureDisPlay.armature(),this._armatureDisPlay.addEventListener(dragonBones.EventObject.FADE_IN_COMPLETE,this.animationEventHandler(),this),this._armatureDisPlay.addEventListener(dragonBones.EventObject.FADE_OUT_COMPLETE,this.animationEventHandler(),this),this.playFlags=!0},attack:function(){this._armature.animation.fadeIn("newAnimation",-1,-1,0,"hit")},attack2:function(){},animationEventHandler:function(t){}}),cc._RF.pop()},{}],endBlackJS:[function(t,e,o){"use strict";cc._RF.push(e,"10c1aPfzmNB9qwshKRmLq1A","endBlackJS");var i=t("GameConfig");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.mainSelf=cc.find("Canvas").getComponent("MainGameJS")},clickEnterOverLayer:function(){this.node.canTouch&&(this.node.canTouch=!1,i.publicGameBool||adBreak({type:"next",name:"restart-game"}),this.mainSelf.initEndLayer(),this.mainSelf.gameOverT1.node.destroy(),this.mainSelf.gameOverT2.node.destroy())},start:function(){},update:function(t){}}),cc._RF.pop()},{GameConfig:"GameConfig"}],gameOverJs:[function(t,e,o){"use strict";cc._RF.push(e,"3621brbM61BsYFG7fM/74TL","gameOverJs");var i=t("GameUiTools"),n=t("GameConfig"),c=t("MainManage");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Node,overScoreT:cc.Label,overInfoT:cc.Label,moreBtn:cc.Button,leftBtn:cc.Button,maxScoreText:cc.Label,mainNode:cc.Node,replayBtn:cc.Node},onLoad:function(){this.canTouchReplay=!1,this.standardScore=n.standScore,this.game_max_score=2*this.standardScore,this.endPercent=this.getPercent(n.gameScore),this.rigthBtnGameName=null,this.rightBtnGameUrl=null,this.UIPosChange(),this.addClickBtns();var t=this.returnCurrentLanType();var e=n.gameScore,o=this.getHighScore();o?o<n.gameScore&&(this.setHisSocre(n.gameScore),o=n.gameScore):(this.setHisSocre(n.gameScore),o=e),this.maxScoreText.string=o,this.maxScoreText._forceUpdateRenderData();var i;i=this.maxScoreText.node.width;var c=this.maxScoreText.node.children[0],a=i+c.width*c.scale*this.maxScoreText.node.scale+8;this.maxScoreText.node.x=a/2-i,this.node.opacity=0,this.node.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){this.canTouchReplay=!0,this.replayBtn.runAction(cc.sequence(cc.delayTime(.75),cc.rotateBy(.1/1.5,-10).easing(cc.easeSineInOut()),cc.rotateBy(.15/1.5,15).easing(cc.easeSineInOut()),cc.rotateBy(.11/1.5,-11).easing(cc.easeSineInOut()),cc.rotateBy(.04,6).easing(cc.easeSineInOut()))).repeatForever()},this))),this.moreBtn.node.y=cc.winSize.height/2-80},returnCurrentLanType:function(){var t=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:"zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("\u7e41\u4f53"),t=2):(cc.log("\u7b80\u4f53"),t=1);break;case cc.sys.LANGUAGE_KOREAN:t=4;break;default:t=3}return t},setHisSocre:function(t){cc.sys.localStorage.setItem("IronPlateSquid",t)},getHighScore:function(){return cc.sys.localStorage.getItem("IronPlateSquid")},UIPosChange:function(){this.overScoreT.string=n.gameScore,console.log("lang",c.langugeType);var t=null,e=null;1==n.curType?(t=this.getContentByScore(n.gameScore,c.gameNameText),e=this.getContentByScore1(n.gameScore,c.gameNameText)):2==n.curType?(t=this.getContentByScore2_1(n.gameScore,c.gameNameText),e=this.getContentByScore2(n.gameScore,c.gameNameText)):3==n.curType?(t=this.getContentByScore3_1(n.gameScore,c.gameNameText),e=this.getContentByScore3(n.gameScore,c.gameNameText)):4==n.curType&&(t=this.getContentByScore4_1(n.gameScore,c.gameNameText),e=this.getContentByScore4(n.gameScore,c.gameNameText)),console.log("nihao",c.endHttpShowInfo),this.overInfoT.string=e,document.title=t},addClickBtns:function(){var t=this;t.moreBtn.node.on(cc.Node.EventType.TOUCH_START,function(t){}),t.moreBtn.node.on(cc.Node.EventType.TOUCH_END,function(t){console.log("MoreGame"),window.location.href=c.moreGameUrl}),t.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(t){}),t.leftBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){t.canTouchReplay&&(cc.eventManager.removeAllListeners(),n.GAME_OVER_BOOL=!0,n.gameScore=0,console.log("loadScene"),i.loadingScene("MainGameScene"))})},getPercent:function(t){return t<=0?0:t<=30?1+Math.floor(3*Math.random()):t<=40?5+Math.floor(10*Math.random()):t<=50?10+Math.floor(10*Math.random()):t<=60?20+Math.floor(15*Math.random()):t<=70?30+Math.floor(15*Math.random()):t<=80?40+Math.floor(20*Math.random()):t<=100?50+Math.floor(30*Math.random()):t<=120?60+Math.floor(30*Math.random()):t<=160?70+Math.floor(25*Math.random()):t<=190?80+Math.floor(19*Math.random()):t<=250?91+Math.floor(9*Math.random()):100},getContentByScore:function(t,e){var o="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+e+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f970\u5206\uff01",i=parseInt(.3*this.standardScore),n=parseInt(.5*this.standardScore),c=parseInt(.7*this.standardScore),a=parseInt(.9*this.standardScore),s=this.endPercent;return t>0&&t<=i?o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":t>i&&t<=this.standardScore?o="\u6211\u5728"+e+"\u4e2d\u5f97\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":t>this.standardScore&&t<=n?o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01":t>n&&t<=c?o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01":t>c&&t<=a?o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01":t>a&&t<this.game_max_score?o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u72ec\u5b64\u6c42\u8d25\uff01":t>=this.game_max_score&&(o="\u6211\u5728"+e+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01"),o},getContentByScore2_1:function(t,e){var o="\u6211\u771f\u662f\u592a\u53b2\u5bb3\uff0c\u5728"+e+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u500b\u4eba\u5f970\u5206\uff01",i=parseInt(.3*this.standardScore),n=parseInt(.5*this.standardScore),c=parseInt(.7*this.standardScore),a=parseInt(.9*this.standardScore),s=this.endPercent;return t>0&&t<=i?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7df4\u7df4\u5c31\u80fd\u9054\u5230\u904a\u5203\u6709\u9918\u7684\u5883\u754c\uff01":t>i&&t<=this.standardScore?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":t>this.standardScore&&t<=n?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u9032\u5165\u4e86\u4fe1\u624b\u62c8\u4f86\u7684\u5883\u754c\uff01":t>n&&t<=c?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u9032\u5165\u4e86\u904b\u7528\u81ea\u5982\u7684\u5883\u754c\uff01":t>c&&t<=a?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u9054\u5230\u4e86\u884c\u96f2\u6d41\u6c34\u7684\u5883\u754c\uff01":t>a&&t<this.game_max_score?o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u7368\u5b64\u6c42\u6557\uff01":t>=this.game_max_score&&(o="\u6211\u5728"+e+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+s+"%\u7684\u73a9\u5bb6\uff0c\u8d85\u8d8a\u4e86\u7368\u5b64\u6c42\u6557\uff0c\u5fc3\u6709\u9748\u7280\uff01"),o},getContentByScore3_1:function(t,e){var o="I'm awesome\uff0cin"+e+"get 0 score\uff0conly one person in the world has a 0\uff01",i=parseInt(.3*this.standardScore),n=parseInt(.5*this.standardScore),c=parseInt(.7*this.standardScore),a=parseInt(.9*this.standardScore),s=this.endPercent;if(t>=this.game_max_score)o="I got "+t+" points in the game, defeating all players worldwide, waiting for you to fight!";else if(t>0&&t<=i)o="I got "+t+" points in the game, really great\uff01";else if(t>i&&t<=this.standardScore)o="I got "+t+" points in the game, really great\uff01";else if(t>this.standardScore&&t<=n)o="I got "+t+" points in the game , beating out "+s+"% of global players\uff01";else if(t>n&&t<=c)o="I got "+t+" points in the game , beating out "+s+"% of global players\uff01";else if(t>c&&t<=a)o="I got "+t+" points in the game , beating out 99% of global players\uff01";else if(t>a&&t<this.game_max_score){o="I got "+t+" points in the game, it said to be the world's only 10 people to reach this level! Have you?"}return o},getContentByScore4_1:function(t,e){var o="\ub09c \uc815\ub9d0 \ub300\ub2e8 \ud574, \uac8c\uc784 \uc5d0\uc11c \ubb34\ub824 0 \uc810 \uc744 \ubc1b \uc558 \uc2b5 \ub2c8 \ub2e4. \uc804 \uc138\uacc4 \uc5d0\uc11c 1 \uba85 \ub9cc 0 \uc810 \uc744 \ubc1b \uc558 \uc2b5 \ub2c8 \ub2e4!",i=parseInt(.3*this.standardScore),n=parseInt(.5*this.standardScore),c=parseInt(.7*this.standardScore),a=parseInt(.9*this.standardScore),s=this.endPercent;return t>0&&t<=i?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>i&&t<=this.standardScore?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>this.standardScore&&t<=n?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>n&&t<=c?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>c&&t<=a?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>a&&t<this.game_max_score?o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":t>=this.game_max_score&&(o="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+t+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+s+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!"),o},getContentByScore1:function(t,e){return cc.log("dasedaww"),"\u51fb\u8d25\u4e86\u5168\u7403"+this.endPercent+"%\u7684\u73a9\u5bb6\uff01"},getContentByScore2:function(t,e){return"\u64ca\u6557\u4e86\u5168\u7403"+this.endPercent+"%\u7684\u73a9\u5bb6\uff01"},getContentByScore3:function(t,e){return"Beat "+this.endPercent+"% of the world's players!"},getContentByScore4:function(t,e){return"\uc804 \uc138\uacc4"+this.endPercent+"%\uc720 \uc800 \ub97c \ucc98\uce58 \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!"},start:function(){},update:function(t){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage"}],linkHttpIconJs:[function(t,e,o){"use strict";cc._RF.push(e,"95474fr0oNDP7SAidILF03q","linkHttpIconJs");var i=t("MainManage"),n=t("GameConfig");cc.Class({extends:cc.Component,properties:{iconSpr:cc.Node,iconSpr1:cc.Node},onLoad:function(){if(this._imageArr=[],this.stopUpdateBool=!0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,null!=i.recGameData&&""!=i.recGameData&&null!=i.recGameimg1&&""!=i.recGameimg1){var t=50-this.gameWidth/2,e=this.gameHeight-50-this.gameHeight/2;null!=i.recGamePos&&""!=i.recGamePos&&(1==i.recGamePos?(t=50-this.gameWidth/2,e=this.gameHeight-50-this.gameHeight/2):2==i.recGamePos?(t=this.gameWidth-50-this.gameWidth/2,e=this.gameHeight-50-this.gameHeight/2):3==i.recGamePos?(t=this.gameWidth-50-this.gameWidth/2,e=50-this.gameHeight/2):4==i.recGamePos&&(t=50-this.gameWidth/2,e=50-this.gameHeight/2));var o=i.recGameimg1,n=i.recGameimg2,c=this.iconSpr,a=this.iconSpr1,s=this;cc.loader.load(o,function(o,i){c.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),s.iconSpr.opacity=0,s.iconSpr.x=t,s.iconSpr.y=e,s._imageArr.push(s.iconSpr)}),cc.loader.load(n,function(o,i){a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),s.iconSpr1.opacity=0,s.iconSpr1.x=t,s.iconSpr1.y=e,s._imageArr.push(s.iconSpr1)})}this.addTouchEvents()},showLinkPic:function(){var t=0,e=0;t=null!=i.recGameDelPau?i.recGameDelPau:6,cc.log("dMainManager.recGameDelPer",i.recGameDelPer),e=null!=i.recGameDelPer?i.recGameDelPer:.7,this._imageArr[0].opacity=255,this._imageArr[0].runAction(cc.repeatForever(cc.sequence(cc.delayTime(t),cc.rotateBy(e,0,180),cc.callFunc(function(){this._imageArr[0].setRotation(0),this._imageArr[0].opacity=0,this._imageArr[1].opacity=255},this),cc.delayTime(t),cc.callFunc(function(){this.flowerAction(this._imageArr[1],e)},this),cc.delayTime(e),cc.callFunc(function(){this._imageArr[1].opacity=0,this._imageArr[0].opacity=255},this))))},flowerAction:function(t,e){t.runAction(cc.sequence(cc.rotateBy(e,0,180),cc.callFunc(function(){t.setRotation(0)})))},start:function(){},addTouchEvents:function(){var t=this,e={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,o){var c=e.getLocation();if(t._imageArr.length>=2){var a=Math.abs(c.x-t.gameWidth/2-t._imageArr[0].x),s=Math.abs(c.y-t.gameHeight/2-t._imageArr[0].y);a<=30&&s<=30&&(n.noTouchBool=!1,null!=i.recGameUrl&&""!=i.recGameUrl&&(t._imageArr[0].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){window.location.href=i.recGameUrl}))),t._imageArr[1].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1)))),console.log("touchLinkHttp"))}return!0},onTouchMoved:function(t,e){},onTouchEnded:function(t,e){}};cc.eventManager.addListener(e,t.node)},update:function(t){this.stopUpdateBool&&this._imageArr.length>=2&&(this.stopUpdateBool=!1,this.showLinkPic())}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}],mTool_WHQ:[function(t,e,o){"use strict";cc._RF.push(e,"fe57af2WNxE+67eFxNClrcq","mTool_WHQ");var i={cloneObjectFn:function(t){return JSON.parse(JSON.stringify(t))},getRandomNum:function(t,e,o){return o?Math.floor(Math.random()*(e-t+1)+t):Math.random()*(e-t)+t},cbPosToWorldPos:function(t,e,o,i,n,c,a){var s=o+(t.x-e/2+.5)*n,r=i+(t.y+.5)*c;return cc.v2(s,r)},worldPosToCbPos:function(t,e,o,i,n,c){var a=(t.x-o)/n-.5+e/2,s=(t.y-i)/c-.5;return a%1==0&&s%1==0||(a=Math.round(a),s=Math.round(s)),cc.v2(a,s)},judgeInArr:function(t,e){for(var o=0;o<e.length;o++)if(e[o]===t)return!0;return!1},getAngleByPos:function(t,e){var o=e.x-t.x,i=e.y-t.y;return 360*Math.atan(i/o)/(2*Math.PI)},judgeIntersect:function(t,e,o,i,n,c,a,s){return Math.min(t,o)<=Math.max(n,a)&&Math.min(c,s)<=Math.max(e,i)&&Math.min(n,a)<=Math.max(t,o)&&Math.min(e,i)<=Math.max(c,s)&&(((n-t)*(i-e)-(o-t)*(c-e))*((a-t)*(i-e)-(o-t)*(s-e))<=1e-8&&((t-n)*(s-c)-(a-n)*(e-c))*((o-n)*(s-c)-(a-n)*(i-c))<=1e-8)},getNormalizeVector:function(t,e){return e.sub(t).normalize()},judgeItemOverlapping:function(t,e,o,i,n,c,a,s){return!(t+o<n||n+a<t||e+i<c||c+s<e)},getCircumferencePos:function(t,e,o){var i=cc.v2(0,0);return i.x=t.x+Math.sin(2*Math.PI/360*o)*e,i.y=t.y+Math.cos(2*Math.PI/360*o)*e,i},upsetArr:function(t){return t.sort(function(t,e){return Math.random()>.5?-1:1})},getAudio:function(t,e){return cc.sys.os===cc.sys.OS_IOS?t:e},setLocalData:function(t,e){cc.sys.localStorage.setItem(t,e)},getLocalData:function(t){return cc.sys.localStorage.getItem(t)},getNodePos:function(t,e,o){return o?t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(o)):t.convertToNodeSpaceAR(e.convertToWorldSpaceAR())},judgeArrSame:function(t,e){for(var o=0;o<t.length;o++)for(var i=0;i<e.length;i++)if(t[o]!==e[i])return!1;return!0},pDistance:function(t,e){return t.sub(e).mag()},getAngleByVector:function(t){return t.y<0?360-cc.v2(1,0).angle(t)/Math.PI*180:cc.v2(1,0).angle(t)/Math.PI*180},getBoundingBoxToNode:function(t,e){var o=e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(-t.anchorX*t.width*(t.scaleX/Math.abs(t.scaleX)),-t.anchorY*t.height*(t.scaleY/Math.abs(t.scaleY)))));return cc.rect(o.x,o.y,t.width*Math.abs(t.scaleX),t.height*Math.abs(t.scaleY))},degreesToVectors:function(t){var e=cc.misc.degreesToRadians(t);return cc.v2(1,0).rotate(-e)},vectorsToDegrees:function(t){if(Math.abs(t.x)+Math.abs(t.y)!==0){var e=cc.v2(1,0),o=t.signAngle(e);return cc.misc.radiansToDegrees(o)}return 0}};e.exports=i,cc._RF.pop()},{}],resArr:[function(t,e,o){"use strict";cc._RF.push(e,"2b8canHWrhHIa2lNTCdP+q1","resArr"),cc.Class({extends:cc.Component,properties:{SpriteFrameArr:[cc.SpriteFrame],PrefabArr:[cc.Prefab],audiosArr:{type:cc.AudioClip,default:[]}},onLoad:function(){void 0!=ToolsJs&&(ToolsJs.PrefabArrJs=this,ToolsJs.SpriteFrameJs=this,ToolsJs.AudioArrJs=this),this.addPrefabs(),this.addSpriteFrame(),this.audioClipDic={};for(var t=0;t<this.audiosArr.length;t++){var e=this.audiosArr[t];this.audioClipDic[e.name]=e}},playAudio:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.audioClipDic[t]?cc.audioEngine.play(this.audioClipDic[t],o,e):(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+t),null)},getAudioClip:function(t){return null!=this.audioClipDic[t]?this.audioClipDic[t]:(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+t),null)},addSpriteFrame:function(){this.spriteArr={};for(var t=0;t<this.SpriteFrameArr.length;t++){var e=this.SpriteFrameArr[t];null!=e&&(this.spriteArr[e.name]=e)}},getSpriteFrame:function(t){return null!=this.spriteArr[t]?this.spriteArr[t]:(console.log("\u6ca1\u6709\u6dfb\u52a0\u56fe\u7247\uff1a"+t),null)},addPrefabs:function(){this.prefabsArr={};for(var t=0;t<this.PrefabArr.length;t++){var e=this.PrefabArr[t];this.prefabsArr[e.name]=e}},getPrefabs:function(t){return null!=this.prefabsArr[t]?this.prefabsArr[t]:(console.log("\u6ca1\u6709\u9884\u5236\u4f53\uff1a"+t),null)}}),cc._RF.pop()},{}],startGameJs:[function(t,e,o){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","startGameJs");t("GameUiTools"),t("HttpManagerJs");var i=t("MainManage"),n=(t("LoadSceneJs"),t("GameConfig"));cc.Class({extends:cc.Component,properties:{showInfoT:cc.Label,startT:cc.Label},onLoad:function(){n.publicGameBool&&i.init(),this.showInfoT.string=i.gameInfoText,this.startT.string=i.txtStartText,this.node.zIndex=100,this.node.on("touchend",function(t){this.node.x=-2e3},this)},update:function(t){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LoadSceneJs:"LoadSceneJs",MainManage:"MainManage"}]},{},["HttpManagerJs","LanguageSetJs","LoadSceneJs","AniTools","MainGameJS","ToolsJs","resArr","MainManage","GameConfig","GameUiTools","mTool_WHQ","gameOverJs","linkHttpIconJs","common","endBlackJS","startGameJs"]);