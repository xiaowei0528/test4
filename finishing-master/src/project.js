window.__require=function e(t,c,o){function i(n,r){if(!c[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var h="function"==typeof __require&&__require;if(!r&&h)return h(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+n+"'")}}var l=c[n]={exports:{}};t[n][0].call(l.exports,function(e){return i(t[n][1][e]||e)},l,l.exports,e,t,c,o)}return c[n].exports}for(var a="function"==typeof __require&&__require,n=0;n<o.length;n++)i(o[n]);return i}({AniTools:[function(e,t,c){"use strict";cc._RF.push(t,"9b5a1M4s2NAJLSDx2N6/Wua","AniTools");var o={doLabStrAni:function(e,t,c){e.node.stopAllActions(),e.string="";var o=t.split(""),i=0,a=c/o.length;e.node.runAction(cc.sequence(cc.callFunc(function(){e.string=e.string+o[i],i++}),cc.delayTime(a)).repeat(o.length))},gunNumLabAni:function(e,t){var c=parseInt(e.string);if(t!=c){var o=0,i=t-c>=50?50:t-c;e.node.runAction(cc.sequence(cc.callFunc(function(){o>=i-1?e.string=t:(c++,e.string=c),o++}),cc.delayTime(.02)).repeat(i))}},openUIAni:function(e,t,c,o){e.opacity=0,t.scale=0,e.runAction(cc.fadeTo(c,100)),t.runAction(cc.sequence(cc.scaleTo(c,1).easing(cc.easeBackOut()),cc.callFunc(o)))},closeUIAni:function(e,t,c,o){e.runAction(cc.fadeOut(c)),t.runAction(cc.sequence(cc.scaleTo(c,0).easing(cc.easeBackIn()),cc.callFunc(o)))},fireColorArr:["#F5CD4D","#F77986","#D0F057","#7ACCE8","#E365EE"],fireworksAni:function(e,t,c,o){for(var i=0;i<t;i++){var a=ToolsJs.newSprite("fire"+this.returnRanNum(1,4));a.scale=.3+.5*Math.random(),a.position=c,a.color=cc.color(this.fireColorArr[this.returnRanNum(0,this.fireColorArr.length-1)]),e.addChild(a,88);var n=this.returnRanNum(o-15,o+15),r=this.returnRanNum(300,1e3);this.fireObjAni(a,n,r,350,.005*i)}},fireObjAni:function(e,t,c,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=.1+.5*Math.random();e.runAction(cc.rotateBy(a,this.returnRanNum(-360,360)).repeatForever());var n=cc.misc.degreesToRadians(t),r=cc.v2(Math.cos(n)*c,Math.sin(n)*c),s=c/o;e.runAction(cc.sequence(cc.delayTime(i),cc.jumpBy(s,cc.v2(1.5*r.x,0),c,1),cc.removeSelf(!0)))},bombObjAni:function(e,t,c,o,i,a){t=t||this.returnRanNum(-180,180);var n=cc.misc.degreesToRadians(t),r=cc.v2(Math.cos(n)*c,Math.sin(n)*c),s=c/o,h=i?0:e.scale,l=a?0:255;e.runAction(cc.sequence(cc.spawn(cc.scaleTo(s+.1,h),cc.moveBy(s,r).easing(cc.easeQuadraticActionOut()),cc.fadeTo(s+.1,l)),cc.fadeOut(.1),cc.removeSelf(!0)))},playAni:function(e,t){e.getComponent(cc.Animation).play(t)},stopAni:function(e,t){e.getComponent(cc.Animation).stop(t)},addNodeAni:function(e,t,c,o,i,a,n){for(var r=e.getComponent(cc.Animation),s=[],h=o;h<=i;h++){var l=new cc.SpriteFrame(cc.url.raw("resources/"+t+h+".png"));s.push(l)}var u=cc.AnimationClip.createWithSpriteFrames(s,5);u.name=c,u.speed=n,u.wrapMode=a?cc.WrapMode.Loop:cc.WrapMode.Normal,r.addClip(u)},returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};window.AniTools=o,cc._RF.pop()},{}],GameConfig:[function(e,t,c){"use strict";cc._RF.push(t,"f0663sWtfNKCKOL+Hvnt0cI","GameConfig");var o={GameClubButton:null,GameScene:null,launchScene:null,Bros:null,caS:null,MAIN_MENU_NUM:"Classic",gameScore:0,standScore:150,GAME_OVER_BOOL:!0,publicGameBool:!1,ranLinkData:null,recGameData:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,playNum:0,curType:2,noTouchBool:!0,enterGameNum:0,enterGameFlags:!1,returnRanNum:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},getAngle:function(e,t,c,o){var i=Math.abs(e-c),a=Math.abs(t-o),n=a/Math.sqrt(Math.pow(i,2)+Math.pow(a,2)),r=Math.acos(n),s=180/(Math.PI/r);return t>o&&(s=180-s),e>c&&(s*=-1),s},setLocalStorage:function(e,t){cc.sys.localStorage.setItem(e,t)},getLocalStorage:function(e){return cc.sys.localStorage.getItem(e)}};t.exports=o,cc._RF.pop()},{}],GameUiTools:[function(e,t,c){"use strict";cc._RF.push(t,"b21e8tF461OFalpptyeuAE2","GameUiTools");e("GameConfig");var o={newSprite:function(e,t){var c=new cc.Node;return t?(e=e.split(".")[0],c.addComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(e)):c.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/resources/"+e),c},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=GameTools.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,c,o,i){var a=new Array;void 0==t.length?a[0]=t:a=t;for(var n=0;n<a.length;n++){var r=new cc.Component.EventHandler;r.target=e.node,r.component=e.node.name,r.handler=c,void 0==t.length?r.customEventData=o:r.customEventData=n;var s=a[n].addComponent(cc.Button);s.clickEvents.push(r),(void 0==i||i)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},scheduleOnce:function(e,t,c){e.runAction(cc.sequence(cc.delayTime(c),cc.callFunc(t,e)))},loadingScene:function(e,t){t?cc.loader.loadRes("panel/LoadingLayer",function(t,c){var o=cc.instantiate(c);cc.director.getScene().children[0].addChild(o),cc.director.preloadScene(e,function(){cc.director.loadScene(e)})}):cc.director.preloadScene(e,function(){cc.director.loadScene(e)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var c=cc.instantiate(t);cc.director.getScene().children[0].addChild(c,100)}})}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig"}],HttpManagerJs:[function(e,t,c){"use strict";var o;function i(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}cc._RF.push(t,"197e1hfNnxIcJx73V3VhUxY","HttpManagerJs");var a=e("GameConfig"),n=(i(o={URL:"http://g.i8box.com/Service/Share/index",cacheList:null,isBusy:null,req:null,perform:null,retGameId:0},"cacheList",[]),i(o,"ctor",function(){}),i(o,"checkHave",function(){this.isBusy||this.sendOne()}),i(o,"httpInitUrl",function(e){var t=window.location.href,c=t.substring(0,t.lastIndexOf("//")+2)+window.location.host+"/Service/Share/index";this.URL=c,console.log("data",this.URL),this.retGameId=e}),i(o,"send",function(e,t,c,o){this.cacheList.push({type:e,data:t,func:c,target:o}),this.isBusy||this.sendOne()}),i(o,"sendOne",function(){if(0!=this.cacheList.length){this.isBusy=!0,this.perform=this.cacheList.shift(),this.req=cc.loader.getXMLHttpRequest(),this.req.onreadystatechange=this.onDataHandler.bind(this),this.req.onerror=this.onErrorHandler.bind(this),this.req.ontimeout=this.onTimeoutHandler.bind(this),this.req.timeout=2e3,cc.log("pos",this.URL),this.req.open("POST",this.URL),this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");var e=this.returnLanguage();console.log("gameIdid",this.retGameId);var t=this.retGameId,c={type:this.perform.type,gid:t,mid:null,data:this.perform.data,languageType:e},o="send="+JSON.stringify(c);this.req.send(o)}}),i(o,"onDataHandler",function(){if(404!=this.req.status){if(4==this.req.readyState&&this.req.status>=200&&this.req.status<=207&&this.req.responseText){var e=JSON.parse(this.req.responseText);this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,e.error,e.data,e.commendGame,e.gameInfo):this.perform.func(e)}}else{var t=a.launchScene,c=a.Bros;a.caS;cc.director.loadScene(t,null,function(){if(c){"";var e=document.getElementById("GameDiv");e&&(e.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+t)})}}),i(o,"returnLanguage",function(){return(""+window.navigator.language).toLocaleLowerCase()}),i(o,"onErrorHandler",function(){cc.log("\u7f51\u7edc\u9519\u8bef"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),i(o,"onTimeoutHandler",function(){cc.log("\u8bf7\u6c42\u8d85\u65f6"),this.isBusy=!1,this.perform.target?this.perform.func.call(this.perform.target,-1):this.perform.func(-1)}),i(o,"clearAll",function(){for(var e=this.cacheList.length,t=0;t<e;t++){var c=this.cacheList[t];c&&(c.target?c.func.call(c.target,-1):c.func(-1))}this.cacheList.length=0}),o);t.exports=n,cc._RF.pop()},{GameConfig:"GameConfig"}],LanguageSetJs:[function(e,t,c){"use strict";cc._RF.push(t,"4754e8KuPZJCqklCNyKpG29","LanguageSetJs");t.exports={language_1:{game_name:"\u300c\u6574\u7406\u5927\u5e08\u300d",game_name1:"\u6574\u7406\u5927\u5e08",game_info:"\u70b9\u51fb\u5c4f\u5e55\u4e32\u73e0\u5b50\uff0c\u4e24\u4e2a\u76f8\u540c\u7ea7\u522b\u7684\u73e0\u5b50\u4f1a\u5408\u6210\u66f4\u9ad8\u7ea7\u7684\u73e0\u5b50\u3002",txtStart:"\u5f00\u59cb",txtMore:"\u66f4\u591a\u6e38\u620f",txtAgain:"\u518d\u73a9\u4e00\u6b21",txtShare1:"\u5728\u6e38\u620f\u4e2d ",txtShare2:"\u5f97\u5206\u4e86\uff0c\u597d\u554a!\u4f60\u548c\u6211\u4e00\u8d77\u6765\u6bd4\u8d5b!",bgRgb:"#3698C5",gameT1:"\u5173\u6ce8\u6211\u4eec",gameT2:"\u7eb8\u724c\u63a5\u9f99",gameT3:"\u9526\u4e0a\u6dfb\u82b1",gameUrl1:"http://g.regogame.com/game/9/",gameUrl2:"http://g.regogame.com/game/3/",gameT11:"\u5173\u6ce8\u5fae\u4fe1",gameT12:"\u5173\u6ce8Kakao",gameT13:"\u5173\u6ce8Line",gameEndL:"\u6e38 \u620f \u7ed3 \u675f",gameEndL1:"\u7a0d \u5019 \u67e5 \u770b \u5206 \u6570"},language_2:{game_name:"\u300cBead Synthesis\u300d",game_name1:"Bead Synthesis",game_info:"Tap the screen to string beads, and two beads of the same level will synthesize more advanced beads.",txtStart:"Start",txtMore:"More Game",txtAgain:"Play Again",txtShare1:"In Game ",txtShare2:" Let's play together!",bgRgb:"#3698C5",gameT1:"Follow Us",gameT2:"Thousand Flower",gameT3:"Eliminate Star",gameUrl1:"http://g.fromgame.com/game/53",gameUrl2:"http://g.fromgame.com/game/13",gameT11:"Focus WeChat",gameT12:"Focus Kakao",gameT13:"Focus Line",gameEndL:"Game OVer",gameEndL1:"View the score later"}},cc._RF.pop()},{}],LoadSceneJs:[function(e,t,c){"use strict";cc._RF.push(t,"3ef908fwfNIwJsOjET8tCh2","LoadSceneJs");var o={goToCover:function(e,t,c,o,i){var a=e;a=null==a||void 0==a||e,console.log("LoadBoolBeforeLoadS",a),this.needShow=!1,a&&a?(this.needShow=!0,showMyAds()):this.needShow=!1,this.needShow?(void 0==preloader&&this.startGoToGame(c,o,i),resCompleteFlag=!0,adCompleteFlag&&resCompleteFlag&&this.startGoToGame(c,o,i)):this.startGoToGame(c,o,i)},startGoToGame:function(e,t,c){console.log("goToScene"),noAdGoToScene()}};t.exports=o,cc._RF.pop()},{}],MainGameJS:[function(e,t,c){"use strict";cc._RF.push(t,"0e7a8SkMLxEY7nCB1Bqi8WZ","MainGameJS");var o=e("GameConfig"),i=e("GameUiTools"),a=e("MainManage"),n=e("mTool_WHQ");cc.Class({extends:cc.Component,properties:{startBgNode:cc.Node,sceneScore:cc.Label,gameOverT1:cc.Label,gameOverT2:cc.Label,ObjectPre:[cc.Prefab],parBgPre:[cc.SpriteFrame],rectangle:cc.Prefab,test:cc.Node,blackLayerPre:cc.Node,parNode:cc.Node,selectBg:cc.Node,boomBg:cc.Node,moveScore:cc.Node,block:cc.Prefab,gameOverPre:cc.Prefab,boomRect:cc.Prefab,oval:cc.Prefab,boom:cc.Prefab,popUIArr0:[cc.SpriteFrame],popUIArr1:[cc.SpriteFrame],popUIArr2:[cc.SpriteFrame],popUIArr3:[cc.SpriteFrame],popUIArr4:[cc.SpriteFrame],popUIArr5:[cc.SpriteFrame],popUIArr6:[cc.SpriteFrame],popUIArr7:[cc.SpriteFrame],moveScoreAddPic:[cc.SpriteFrame],leadInitial:[cc.Prefab],leadPic:[cc.SpriteFrame],numFont:[cc.LabelAtlas],once:{default:null,type:cc.AudioClip},change:{default:null,type:cc.AudioClip},boomMusic:{default:null,type:cc.AudioClip},hechengMusic:{default:null,type:cc.AudioClip},gameOver:{default:null,type:cc.AudioClip},selectMusic:{default:null,type:cc.AudioClip},leadTouch:cc.Boolean},judgeCurPlatform:function(){console.log(navigator.userAgent);var e=function(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),c=/(?:SymbianOS)/.test(e)||t,o=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),a=(/(?:Chrome|CriOS)/.test(e),/(?:iPad|PlayBook)/.test(e)||o&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e)),n=/(?:iPhone)/.test(e)&&!a;return{isTablet:a,isPhone:n,isAndroid:o,isPc:!n&&!o&&!c}}();e.isAndroid||e.isPhone?this.platFromNum=1:e.isTablet?this.platFromNum=2:e.isPc&&(this.platFromNum=3)},adapterScreen:function(){var e=cc.find("Canvas").getComponent(cc.Canvas);2==this.platFromNum||3==this.platFromNum?(e.fitWidth=!0,e.fitHeight=!0):(e.fitWidth=!0,e.fitHeight=!1)},onLoad:function(){this.boom8Arr=[],this.boom8Pos=cc.v2(-100,-100),this.sceneScore.enabled=!0,this.leadTouchTimes=0,this.boomRectNum=0,this.boomRectArr=[],this.lead=cc.instantiate(this.leadInitial[0]),this.lead.parent=this.node,this.lead.zIndex=100,this.lead.opacity=0,this.platFromNum=1,this.judgeCurPlatform(),this.adapterScreen(),this.gameOveEndBool=!1,this.gameOverNum=0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,o.curType=this.returnCurrentLanType(),this.sideDisW=this.gameWidth/8,this.sideDisH=this.gameHeight/2,this.waitTime=0,this.blockArr=null,this.allObj=[],this.rowNum=5,this.column=5,this.blockWeight=120,this.clickStep=0,this.popArr=[],this.popArr2=[],this.firstClick=null,this.secondClick=null,this.firstClickBool=!0,this.hecheng=!1,this.firstCheck=!1,this.isSecond=!1,this.syntheticPos=cc.v2,this.syntheticPos1=cc.v2,this.checkPos=cc.v2,this.select=cc.instantiate(this.rectangle),this.select.parent=this.node,this.select.zIndex=100,this.select.opacity=0,this.selectBg.zIndex=2,this.boomBg.opacity=0,this.boomBg.zIndex=2,this.selectBgPic=this.selectBg.getComponent(cc.Sprite),this.boomBgPic=this.boomBg.getComponent(cc.Sprite);var e=cc.repeatForever(cc.sequence(cc.scaleTo(.2,.9),cc.scaleTo(.2,1),cc.scaleTo(.2,.9),cc.scaleTo(.2,1)));this.canTouchNow=!0,this.action1=cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),this.select.runAction(e),this.drawBlocks(),this.boomBgAction=cc.sequence(cc.spawn(cc.scaleTo(.1,.6),cc.fadeTo(.1,220)),cc.spawn(cc.scaleTo(.1,1.2),cc.fadeTo(.1,150)),cc.callFunc(function(e){e.destroy()})),this.boomBgAction12=cc.sequence(cc.scaleTo(.05,.6),cc.scaleTo(.05,1.2),cc.delayTime(.05),cc.callFunc(function(e){e.destroy()})),this.boomBgAction123=cc.sequence(cc.scaleTo(.1,.2),cc.scaleTo(.1,.3),cc.scaleTo(.05,.4),cc.scaleTo(.05,.5),cc.scaleTo(.1,.75),cc.scaleTo(.1,1),cc.delayTime(.2),cc.callFunc(function(e){e.destroy()})),this.targetMove,this.upArr=[],this.downArr=[],this.leftArr=[],this.rightArr=[],o.playNum>=1&&(this.startBgNode.active=!1),this.addTouchEvents(),i.loadingLayer("panel/LinkIconSpr"),this.touchBeginFlags=!0,this.isEnd=0,o.publicGameBool||this.play(),this.colourId=["#28bd06","#ff9e04","#8c35b8","#fe92dd","#6df0ff","#ff4d4d","#ffee03"];var t=cc.instantiate(this.boomBg);t.parent=this.node,t.x=0,t.y=350,this.hechengxiaoguo=!1,this.objectMoveNow=null,this.objectMoveNowNum=-1},start:function(){var e=cc.sys.localStorage.getItem("HigScore_MasterOrganizersWS");cc.log("232,leadTest",e),this.leadTouch&&!e?(this.lead.x=-130,this.lead.y=-130,this.lead.opacity=255,this.lead.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.4),cc.callFunc(function(e){e.getComponent(cc.Sprite).spriteFrame=this.leadPic[1]},this),cc.delayTime(.4),cc.callFunc(function(e){e.getComponent(cc.Sprite).spriteFrame=this.leadPic[0]},this))))):this.leadTouch=!1},play:function(){console.log(1);var e=this;adBreak({type:"next",name:"restart-game",beforeBreak:function(){e.enableButtons()},afterBreak:function(){e.enableButtons()}})},enableButtons:function(){},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:"zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("\u7e41\u4f53"),e=2):(cc.log("\u7b80\u4f53"),e=1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},addTouchEvents:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var c=t.getLocation(),i=e.node.convertToNodeSpaceAR(c);if(this.leadTouch&&1==this.leadTouchTimes){if(i.x<-65||i.x>65||i.y>65||i.y<-65)return void cc.log("302 \u70b9\u51fb\u65e0\u6548");this.lead.destroy(),this.leadTouchTimes+=1,this.leadTouch=!1}if(this.leadTouch&&0==this.leadTouchTimes){if(i.x<-195||i.x>-65||i.y>-65||i.y<-195)return void cc.log("\u70b9\u51fb\u65e0\u6548");this.lead.runAction(cc.sequence(cc.delayTime(.3),cc.jumpTo(.15,cc.v2(0,0),30,1))),this.leadTouchTimes+=1}if(this.canTouchNow&&o.GAME_OVER_BOOL&&o.noTouchBool&&e.touchBeginFlags){e.touchBeginFlags=!1;var a=this.posToBlock(i);this.next(a)}},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.on_touch_move,this),this.node.on(cc.Node.EventType.TOUCH_END,this.on_touch_end,this)},on_touch_move:function(e){},on_touch_end:function(e){this.touchBeginFlags=!0;var t=e.getLocation();this.node.convertToNodeSpaceAR(t)},update:function(e){this.hechengxiaoguo&&this.moveParTest(cc.v2(this.objectMoveNow.x,this.objectMoveNow.y),this.objectMoveNowNum),25==this.isEnd&&(this.isEnd=0,this.gameEndPar(),this.gameEnd()),this.gameOverGoToOVer(),this.gameEndFlags},drawBlocks:function(){this.blockArr={};for(var e=0;e<this.rowNum;e++)for(var t=0;t<this.column;t++){this.blockArr[e]||(this.blockArr[e]={}),this.allObj[e]||(this.allObj[e]={});var c=cc.instantiate(this.block);c.parent=this.node,c.zIndex=1,c.x=130*e+100-this.gameWidth/2,c.y=130*t-325+65;var o={haveObj:!1,Object:null,objNum:-1,blockX:e,blockY:t,realX:c.x,realY:c.y,haveCheck:!1,oval:null,boom:null};if(t<3&&t>0){if(1==t){var i=cc.instantiate(this.ObjectPre[0]);i.parent=this.node,i.zIndex=3,i.getChildByName("01").getChildByName("New Node").zIndex=-1,i.x=c.x,i.y=c.y,i.blockX=e,i.blockY=t,o.objNum=0,o.haveObj=!0,o.Object=i}if(e<2&&2==t){var a=cc.instantiate(this.ObjectPre[0]);a.parent=this.node,a.zIndex=3,a.getChildByName("01").getChildByName("New Node").zIndex=-1,a.x=c.x,a.y=c.y,a.blockX=e,a.blockY=t,o.objNum=0,o.haveObj=!0,o.Object=a}else if(e>=3&&2==t){var n=cc.instantiate(this.ObjectPre[1]);n.parent=this.node,n.zIndex=3,n.getChildByName("01").getChildByName("New Node").zIndex=-1,n.x=c.x,n.y=c.y,n.blockX=e,n.blockY=t,o.objNum=1,o.haveObj=!0,o.Object=n}}else if(3==t){var r=cc.instantiate(this.ObjectPre[1]);r.parent=this.node,r.zIndex=3,r.getChildByName("01").getChildByName("New Node").zIndex=-1,r.x=c.x,r.y=c.y,r.blockX=e,r.blockY=t,o.objNum=1,o.haveObj=!0,o.Object=r}this.blockArr[e][t]=o,this.allObj[e][t]=c}},posToBlock:function(e){if(Math.abs(e.x)>320||Math.abs(e.y)>325)return 1;var t,c,o,i;return o=e.x+this.gameWidth/2-35,i=e.y+320,t=Math.floor(o/130),c=Math.floor(i/130),cc.v2(t,c)},blockToPos:function(e){var t,c;return t=130*e.x-260,c=130*e.y-260,cc.v2(t,c)},randObjId:function(){return o.gameScore<80?cc.v2(2,.6):o.gameScore<=100?cc.v2(3,.6):o.gameScore<=200?cc.v2(4,.6):o.gameScore<=300?cc.v2(5,.55):o.gameScore<=400?cc.v2(6,.52):o.gameScore<500?cc.v2(4,.49):o.gameScore<600?cc.v2(7,.45):o.gameScore>=600?cc.v2(7,.2):void 0},next:function(e){if(1!=e)if(this.firstClick){if(!this.secondClick){if(this.blockArr[this.firstClick.x][this.firstClick.y].blockX==e.x&&this.blockArr[this.firstClick.x][this.firstClick.y].blockY==e.y)return this.blockArr[e.x][e.y].Object.stopAction(this.action1),this.blockArr[e.x][e.y].Object.runAction(cc.scaleTo(.05,1)),this.firstClick=null,void(this.selectBg.opacity=0);if(this.blockArr[this.firstClick.x][this.firstClick.y].objNum==this.blockArr[e.x][e.y].objNum)return this.blockArr[this.firstClick.x][this.firstClick.y].Object.stopAction(this.action1),this.selectPar(e),this.blockArr[this.firstClick.x][this.firstClick.y].Object.runAction(cc.scaleTo(.05,1)),void(this.firstClick=e);this.secondClick=e,this.syntheticPos1=this.secondClick,this.select.opacity=0,this.selectBg.opacity=0,this.canTouchNow=!1,this.changeObj(this.firstClick,this.secondClick)}}else{if(!this.blockArr[e.x][e.y].haveObj)return void cc.audioEngine.play(this.once,!1,1);this.musicPlay(4),this.firstClick=e,this.syntheticPos=this.firstClick,this.selectPar(e)}},changeObj:function(e,t){var c=this.blockArr[e.x][e.y],o=this.blockArr[t.x][t.y];if(c.objNum==o.objNum)return cc.log("484 \u70b9\u51fb\u76f8\u540c",this.firstClick,this.secondClick),c.haveObj&&this.blockArr[e.x][e.y].Object.runAction(cc.sequence(cc.spawn(cc.scaleTo(.05,1),cc.moveTo(.05,cc.v2(this.blockArr[e.x][e.y].realX,this.blockArr[e.x][e.y].realY))),cc.callFunc(function(){this.blockArr[e.x][e.y].Object.zIndex=3},this))),this.firstClick=null,this.secondClick=null,void(this.canTouchNow=!0);if(c.haveObj&&o.haveObj)return c.Object.stopAction(this.action1),c.Object.runAction(cc.scaleTo(.1,1)),this.firstClick=null,this.secondClick=null,void(this.canTouchNow=!0);if(c.haveObj){this.allObj[t.x][t.y].getChildByName("changebg").runAction(cc.fadeTo(.08,100)),this.clickStep+=1;var i=c.objNum,a=c.Object;return this.blockArr[t.x][t.y].objNum=i,this.blockArr[t.x][t.y].Object=a,this.blockArr[t.x][t.y].Object.blockX=t.x,this.blockArr[t.x][t.y].Object.blockY=t.y,this.objectChangeMove(c,o,1),this.blockArr[e.x][e.y].Object=null,this.blockArr[e.x][e.y].objNum=-1,this.blockArr[e.x][e.y].haveObj=!1,this.blockArr[t.x][t.y].haveObj=!0,this.firstClick=null,void(this.secondClick=null)}},objectChangeMove:function(e,t,c){var o=Math.abs(e.blockX-t.blockX),i=Math.abs(e.blockY-t.blockY),a=Math.sqrt(o*o+i*i);a>=1.3&&(a=1.3);var n=cc.v2(e.realX,e.realY);if(e.haveObj){e.Object.stopAction(this.action1);e.objNum}1==c&&(this.hechengxiaoguo=!0,this.objectMoveNow=e.Object,this.objectMoveNowNum=e.objNum,e.Object.runAction(cc.sequence(cc.spawn(cc.callFunc(function(e){e.getChildByName("01").runAction(cc.sequence(cc.moveBy(.12*a/8*2,cc.v2(0,0)),cc.moveBy(.12*a/8*1,cc.v2(2.5,15)),cc.moveBy(.12*a/8*1,cc.v2(2.5,15)),cc.moveBy(.12*a/8*1,cc.v2(0,0)),cc.moveBy(.12*a/8*1,cc.v2(-2.5,-15)),cc.moveBy(.12*a/8*1,cc.v2(-2.5,-15)),cc.moveBy(.12*a/8*1,cc.v2(0,0))))},this),cc.scaleTo(.12*a,1.3),cc.moveTo(.12*a,t.realX,t.realY)),cc.scaleTo(.1,1,1),cc.delayTime(.05),cc.callFunc(function(c){this.allObj[t.blockX][t.blockY].getChildByName("changebg").runAction(cc.fadeTo(.08,0)),c.zIndex=3,this.musicPlay(4),this.hechengxiaoguo=!1,this.objectMoveNowNum=null,this.objectMoveNowNum=-1,this.checkPop(cc.v2(e.blockX,e.blockY))},this)))),2==c&&(cc.log("testtesttesttesttesttest"),t.Object.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.callFunc(function(e){e.getChildByName("01").runAction(cc.sequence(cc.moveBy(.12*a/5*1.5,cc.v2(5,40)),cc.moveBy(.12*a/5*2,cc.v2(0,0)),cc.moveBy(.12*a/5*1.5,cc.v2(-5,-40))))},this),cc.scaleTo(.15*a,1.3),cc.moveTo(.15*a,n.x,n.y)),cc.scaleTo(.1,1,1),cc.delayTime(.05),cc.callFunc(function(t){t.zIndex=3,this.checkPop(cc.v2(e.blockX,e.blockY))},this))))},checkPop:function(e){this.checkSameObj(e),this.checkPos=e,this.waitTime=.12*(this.popArr.length-1)+.12,this.removeSameObj(e)},checkSameObj:function(e){var t=this.blockArr[e.x][e.y].objNum;if(-1!=t){var c=e.x,o=e.y;if(this.blockArr[c][o].haveCheck=!0,this.blockArr[c]){if(this.blockArr[c][o-1]&&!this.blockArr[c][o-1].haveCheck&&t==this.blockArr[c][o-1].objNum){var i=cc.v2(c,o-1),a=this.blockArr[c][o-1].Object;this.blockArr[c][o-1].targetObj=cc.v2(this.blockArr[c][o].realX,this.blockArr[c][o].realY),this.popArr.push(a),this.checkSameObj(i)}if(this.blockArr[c][o+1]&&!this.blockArr[c][o+1].haveCheck&&t==this.blockArr[c][o+1].objNum){var n=cc.v2(c,o+1),r=this.blockArr[c][o+1].Object;this.blockArr[c][o+1].targetObj=cc.v2(this.blockArr[c][o].realX,this.blockArr[c][o].realY),this.popArr.push(r),this.checkSameObj(n)}}if(this.blockArr[c-1]&&!this.blockArr[c-1][o].haveCheck&&t==this.blockArr[c-1][o].objNum){var s=cc.v2(c-1,o),h=this.blockArr[c-1][o].Object;this.blockArr[c-1][o].targetObj=cc.v2(this.blockArr[c][o].realX,this.blockArr[c][o].realY),this.popArr.push(h),this.checkSameObj(s)}if(this.blockArr[c+1]&&!this.blockArr[c+1][o].haveCheck&&t==this.blockArr[c+1][o].objNum){var l=cc.v2(c+1,o),u=this.blockArr[c+1][o].Object;this.blockArr[c+1][o].targetObj=cc.v2(this.blockArr[c][o].realX,this.blockArr[c][o].realY),this.popArr.push(u),this.checkSameObj(l)}}},NewObj:function(e,t){if(t<6){this.boomPar(e,t,2);var c=cc.instantiate(this.ObjectPre[t+1]),o=(this.blockToPos(e),cc.instantiate(this.boomBg));o.parent=this.node,o.zIndex=4,o.opacity=180,o.x=this.blockArr[e.x][e.y].realX,o.y=this.blockArr[e.x][e.y].realY,o.getComponent(cc.Sprite).spriteFrame=this.parBgPre[t+1],o.runAction(cc.sequence(cc.scaleTo(.08,1),cc.scaleTo(.08,1.2),cc.scaleTo(.08,1.4),cc.scaleTo(.08,1.6),cc.scaleTo(.08,1.8),cc.callFunc(function(e){e.destroy()},this)));var i=cc.instantiate(this.oval);i.parent=this.node,i.zIndex=4,i.opacity=180,i.scale=.4,i.x=this.blockArr[e.x][e.y].realX,i.y=this.blockArr[e.x][e.y].realY,i.color=cc.color(this.colourId[t+1]),i.runAction(cc.sequence(cc.fadeTo(.05,80),cc.scaleTo(.05,.5),cc.scaleTo(.05,.6),cc.scaleTo(.05,.7),cc.scaleTo(.05,.8),cc.callFunc(function(e){e.destroy()},this))),c.parent=this.node,c.zIndex=3,c.getChildByName("01").getChildByName("New Node").zIndex=-1,c.blockX=e.x,c.blockY=e.y,c.x=this.blockArr[e.x][e.y].realX,c.y=this.blockArr[e.x][e.y].realY,this.blockArr[e.x][e.y].Object=c,this.blockArr[e.x][e.y].haveObj=!0,this.blockArr[e.x][e.y].objNum=t+1,this.blockArr[e.x][e.y].Object.runAction(cc.sequence(cc.scaleTo(.12,1.5),cc.scaleTo(.12,.7,1.3),cc.scaleTo(.12,1.3,.7),cc.scaleTo(.12,1,1),cc.delayTime(.05),cc.callFunc(function(){this.againCheck(e)},this)))}else this.blockArr[e.x][e.y].objNum=t+1,this.heightestBoom(e)},againCheck:function(e){this.checkPop(e)},removeSameObj:function(e){this.blockArr[this.syntheticPos1.x][this.syntheticPos1.y].haveCheck=!1,this.blockArr[this.syntheticPos.x][this.syntheticPos.y].haveCheck=!1;var t=this.popArr.length-1,c=.12*this.lastTime;if(this.popArr.length>=2){var i=this.popArr[t].blockX,a=this.popArr[t].blockY,n=this.popArr[0].blockX,r=this.popArr[0].blockY;this.blockArr[n][r].Object.zIndex=4,this.lastTime=t+1,this.hecheng=!0,this.checkPos.x==this.syntheticPos.x&&this.checkPos.y==this.syntheticPos.y&&(this.firstCheck=!1);var s=this.blockArr[i][a].objNum,h=this.blockArr[i][a].objNum;this.targetMove=this.blockArr[i][a].targetObj;var l=this.posToBlock(this.targetMove),u=this.popArr[t-1];this.hechengxiaoguo=!0,this.objectMoveNow=this.blockArr[i][a].Object,this.objectMoveNowNum=s,this.blockArr[i][a].Object.runAction(cc.sequence(cc.spawn(cc.moveTo(.1,this.targetMove),cc.scaleTo(.1,.7,1.15)),cc.callFunc(function(){l.x==e.x&&l.y==e.y&&this.blockArr[e.x][e.y].Object.runAction(cc.sequence(cc.scaleTo(.08,1.3,1),cc.scaleTo(.08,1,1.3),cc.scaleTo(.02,1))),this.addScore(h+1,cc.v2(this.blockArr[i][a].realX,this.blockArr[i][a].realY)),cc.audioEngine.play(this.change,!1,1),this.hechengxiaoguo=!1,this.blockArr[i][a].Object.destroy(),this.blockArr[i][a].Object=null,this.blockArr[i][a].objNum=-1,this.blockArr[i][a].haveObj=!1,this.runLast(u,t-1,e)},this)))}else{this.firstCheck=!0;for(var m=0;m<this.popArr.length;m++){var d=this.popArr[m].blockX,g=this.popArr[m].blockY;this.blockArr[d][g].haveCheck=!1}this.popArr.length=0,e.x!=this.syntheticPos1.x||e.y!=this.syntheticPos1.y?this.checkPop(this.syntheticPos1):(this.isSecond=!0,o.gameScore<=21&&this.isEnd<18&&this.addNewObj(),this.clickStep<2?this.canTouchNow=!0:this.twoStep(c))}},twoStep:function(e){this.clickStep>=2&&this.isSecond&&(this.isSecond=!1,this.clickStep=0,this.scheduleOnce(function(){this.addNewObj()},.1))},runLast:function(e,t,c){if(!e){var o=this.popArr[0].blockX,i=this.popArr[0].blockY,a=this.posToBlock(this.blockArr[o][i].targetObj),n=this.blockArr[a.x][a.y].objNum;return this.blockArr[a.x][a.y].Object.destroy(),this.blockArr[a.x][a.y].Object=null,this.blockArr[a.x][a.y].haveObj=!1,this.popArr.length=0,void this.NewObj(a,n)}this.hechengxiaoguo=!0,this.objectMoveNow=e;var r=void 0,s=void 0,h=e.blockX,l=e.blockY,u=.1,m=this.blockArr[h][l].objNum;this.objectMoveNowNum=m;var d=this.blockArr[h][l].targetObj,g=this.posToBlock(d);g.x!=h?(r=.8,s=1.15):(r=1.3,s=.8),g.x==c.x&&g.y==c.y&&0==t&&(u=Math.E/12),t-=1;var p=this.blockArr[h][l].objNum;this.blockArr[h][l].Object.runAction(cc.sequence(cc.spawn(cc.moveTo(u,d),cc.scaleTo(u,r,s)),cc.callFunc(function(e){g.x==c.x&&g.y==c.y&&-1!=t&&this.blockArr[c.x][c.y].Object.runAction(cc.sequence(cc.scaleTo(.08,1.3,1),cc.scaleTo(.08,1,1.3),cc.scaleTo(.02,1))),this.addScore(p+1,cc.v2(this.blockArr[h][l].realX,this.blockArr[h][l].realY)),-1==t?this.musicPlay(1):this.musicPlay(2),this.hechengxiaoguo=!1,e.destroy(),this.blockArr[h][l].Object=null,this.blockArr[h][l].objNum=-1,this.blockArr[h][l].haveObj=!1,this.runLast(this.popArr[t],t,c)},this)))},movePar:function(e,t){for(var c=this.blockToPos(e),o=0;o<10;o++){var i=Math.floor(3*Math.random()),a=this.getParArr(t),n=cc.instantiate(this.parNode);n.parent=this.node,n.opacity=100*Math.random()+100,n.zIndex=3,n.getComponent(cc.Sprite).spriteFrame=a[i],n.x=c.x+80*(Math.random()-.5),n.y=c.y-40+80*Math.random(),n.runAction(cc.sequence(cc.delayTime(.05),cc.moveBy(.3,cc.v2(80*(Math.random()-.5),2*(Math.random()-.5)*50)),cc.callFunc(function(e){e.destroy()},this)))}},moveParTest:function(e,t){this.blockToPos(e);for(var c=0;c<2;c++){var o=Math.floor(3*Math.random()),i=this.getParArr(t),a=cc.instantiate(this.parNode);a.parent=this.node,a.opacity=100*Math.random()+100,a.scale=1+2.8*Math.random(),a.zIndex=4,a.getComponent(cc.Sprite).spriteFrame=i[o],a.x=e.x+70*(Math.random()-.5),a.y=e.y-35+70*Math.random(),a.runAction(cc.sequence(cc.delayTime(.05),cc.spawn(cc.moveBy(.3,cc.v2(40*(Math.random()-.5),2*(Math.random()-.5)*40)),cc.rotateBy(.3,40),cc.scaleTo(.3,0)),cc.callFunc(function(e){e.destroy()},this)))}},addNewObj:function(){this.isEnd=0;for(var e=0;e<5;e++)for(var t=0;t<5;t++){var c=this.randObjId(),o=c.y;if(!this.blockArr[e][t].haveObj&&Math.random()>o){var i=Math.floor(Math.random()*c.x),a=cc.instantiate(this.ObjectPre[i]);a.parent=this.node,a.zIndex=3,a.getChildByName("01").getChildByName("New Node").zIndex=-1,this.blockArr[e][t].objNum=i,this.blockArr[e][t].Object=a,this.blockArr[e][t].haveCheck=!1,this.blockArr[e][t].haveObj=!0,this.blockArr[e][t].Object.blockX=e,this.blockArr[e][t].Object.blockY=t;var n=this.blockToPos(cc.v2(e,t));a.setPosition(n),a.scale=.01,a.runAction(cc.sequence(cc.scaleTo(.15,1),cc.delayTime(.1),cc.callFunc(function(){},this)))}this.blockArr[e][t].haveObj&&(this.isEnd+=1)}this.isEnd<13?this.addNewObj():this.scheduleOnce(function(){this.canTouchNow=!0},.05)},addNewObjHei:function(e){this.isEnd=0;for(var t=0;t<5;t++)for(var c=0;c<5;c++){var o=this.randObjId(),i=o.y,a=Math.abs(t-e.x),n=Math.abs(c-e.y);if(a<=1||n<=1);else if(!this.blockArr[t][c].haveObj&&Math.random()>i){var r=Math.floor(Math.random()*o.x),s=cc.instantiate(this.ObjectPre[r]);s.parent=this.node,s.zIndex=3,s.getChildByName("01").getChildByName("New Node").zIndex=-1,this.blockArr[t][c].objNum=r,this.blockArr[t][c].Object=s,this.blockArr[t][c].haveCheck=!1,this.blockArr[t][c].haveObj=!0,this.blockArr[t][c].Object.blockX=t,this.blockArr[t][c].Object.blockY=c;var h=this.blockToPos(cc.v2(t,c));s.setPosition(h),s.scale=.01,s.runAction(cc.sequence(cc.scaleTo(.15,1),cc.delayTime(.1),cc.callFunc(function(){},this)))}this.blockArr[t][c].haveObj&&(this.isEnd+=1)}this.scheduleOnce(function(){this.canTouchNow=!0},.1)},gameEndPar:function(){for(var e=0;e<5;e++)for(var t=0;t<5;t++)this.blockArr[e][t].Object.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.05,-5),cc.rotateTo(.05,0),cc.rotateTo(.05,5),cc.rotateTo(.05,0))));this.musicPlay(3)},heightestBoom:function(e){this.boom8Pos=e,this.isSecond=!1,this.clickStep=1;var t=cc.instantiate(this.boomBg);t.getComponent(cc.Sprite).spriteFrame=this.parBgPre[7],t.parent=this.node,t.x=this.blockArr[e.x][e.y].realX+30,t.y=this.blockArr[e.x][e.y].realY,t.zIndex=2,t.opacity=255,t.runAction(cc.sequence(cc.scaleTo(.1,2),cc.scaleTo(.1,1.8),cc.scaleTo(.05,2),cc.scaleTo(.05,1.8),cc.fadeOut(.1,200),cc.callFunc(function(){},this)));var c=cc.instantiate(this.ObjectPre[7]);c.parent=this.node,c.zIndex=4,c.blockX=e.x,c.blockY=e.y,this.blockArr[e.x][e.y].Object=c,c.x=this.blockArr[e.x][e.y].realX,c.y=this.blockArr[e.x][e.y].realY,c.scale=.01,c.runAction(cc.sequence(cc.scaleTo(.1,1),cc.scaleTo(.1,.8),cc.scaleTo(.1,1.4),cc.scaleTo(.1,1.8),cc.rotateTo(.075,10),cc.rotateTo(.075,-10),cc.rotateTo(.075,10),cc.rotateTo(.075,-10),cc.rotateTo(.1,0),cc.spawn(cc.fadeTo(.65,150),cc.callFunc(function(){this.waveBoom(e)},this)),cc.callFunc(function(){cc.audioEngine.play(this.boomMusic,!1,1),this.roudBoom(e),this.boomPar(e,7,3)},this)))},clear:function(e){cc.log("\u7206\u70b8\u5b8c\u4e86"),this.blockArr[e.x][e.y].Object.destroy(),this.blockArr[e.x][e.y].Object=null,this.blockArr[e.x][e.y].objNum=-1,this.blockArr[e.x][e.y].haveObj=!1,this.blockArr[e.x][e.y].haveCheck=!1,this.addNewObjHei(e),this.boom8Pos=cc.v2(-100,-100)},selectPar:function(e){var t=this.blockArr[e.x][e.y].objNum;-1!=t&&(this.selectBg.opacity=255,this.selectBgPic.spriteFrame=this.parBgPre[t],this.selectBg.x=this.blockArr[e.x][e.y].realX,this.selectBg.y=this.blockArr[e.x][e.y].realY,this.selectBg.runAction(cc.repeatForever(cc.rotateBy(Math.E,360))),this.blockArr[e.x][e.y].Object.zIndex=4,this.blockArr[e.x][e.y].Object.runAction(this.action1))},roudBoom:function(e){if(cc.log("11406",this.boom8Arr),this.blockArr[e.x-1]){if(this.blockArr[e.x-1][e.y+1]){this.blockArr[e.x-1][e.y+1].objNum;this.boom8Arr.push(cc.v2(e.x-1,e.y+1))}if(this.blockArr[e.x-1][e.y]){this.blockArr[e.x-1][e.y].objNum;this.boom8Arr.push(cc.v2(e.x-1,e.y))}if(this.blockArr[e.x-1][e.y-1]){this.blockArr[e.x-1][e.y-1].objNum;this.boom8Arr.push(cc.v2(e.x-1,e.y-1))}}if(this.blockArr[e.x][e.y-1]){this.blockArr[e.x][e.y-1].objNum;this.boom8Arr.push(cc.v2(e.x,e.y-1))}if(this.blockArr[e.x+1]){if(this.blockArr[e.x+1][e.y-1]){this.blockArr[e.x+1][e.y-1].objNum;this.boom8Arr.push(cc.v2(e.x+1,e.y-1))}if(this.blockArr[e.x+1][e.y]){this.blockArr[e.x+1][e.y].objNum;this.boom8Arr.push(cc.v2(e.x+1,e.y))}if(this.blockArr[e.x+1][e.y+1]){this.blockArr[e.x+1][e.y+1].objNum;this.boom8Arr.push(cc.v2(e.x+1,e.y+1))}}if(this.blockArr[e.x][e.y+1]){this.blockArr[e.x][e.y+1].objNum;this.boom8Arr.push(cc.v2(e.x,e.y+1))}this.roudBoomAction(0)},roudBoomAction:function(e){var t=this.boom8Arr[e].x,c=this.boom8Arr[e].y;if(this.blockArr[t][c].haveObj){var o=this.blockArr[t][c].objNum,i=this.blockArr[t][c].realX,a=this.blockArr[t][c].realY,n=cc.instantiate(this.oval);n.parent=this.node,n.zIndex=2,n.x=i,n.y=a,n.opacity=180,n.color=cc.color(this.colourId[o]),n.scale=.001,n.runAction(cc.sequence(cc.scaleTo(.3,.4),cc.callFunc(function(e){e.destroy()}))),this.blockArr[t][c].Object.runAction(cc.sequence(cc.spawn(cc.scaleTo(.1,1.5),cc.fadeTo(.1,200)),cc.callFunc(function(i){this.boomPar(cc.v2(t,c),o-1,1),this.boom8Arr[e+1]?this.roudBoomAction(e+1):(this.boom8Arr.length=0,this.clear(this.boom8Pos)),i.destroy(),this.blockArr[t][c].Object=null,this.blockArr[t][c].haveObj=!1,this.blockArr[t][c].objNum=-1},this)))}else this.boom8Arr[e+1]?this.roudBoomAction(e+1):(this.boom8Arr.length=0,this.clear(this.boom8Pos))},waveBoom:function(e){var t=this.blockToPos(e);this.heighjtBoomRect(t)},heighjtBoomRect:function(e){if(this.boomRectNum<=7){var t=cc.instantiate(this.boomRect);t.parent=this.node,t.zIndex=3,t.setPosition(e),t.opacity=235,t.color=cc.color(this.colourId[this.boomRectNum]),t.scale=.01,t.angle=45*this.boomRectNum,this.boomRectArr[this.boomRectNum]=t,t.runAction(cc.sequence(cc.scaleTo(.04,1.2),cc.callFunc(function(){this.boomRectNum+=1,this.heighjtBoomRect(e),8==this.boomRectNum&&(this.boomRectNum=0,this.cricleHeiBoom(e),this.boomRectDestroy())},this)))}},cricleHeiBoom:function(e){var t=cc.instantiate(this.oval);t.parent=this.node,t.zIndex=2,t.setPosition(e),t.opacity=255,t.color=cc.color("#ebf502"),t.scale=.01,t.runAction(this.boomBgAction)},boomRectDestroy:function(){for(var e=0;e<this.boomRectArr.length;e++)this.boomRectArr[e].destroy()},judgeRoud:function(e,t){if(-1!=t&&6!=this.blockArr[e.x][e.y].objNum){this.boomPar(cc.v2(e.x,e.y),t,1);var c=cc.instantiate(this.boomBg);c.opacity=200,c.parent=this.node,c.zIndex=2,c.x=this.blockArr[e.x][e.y].realX,c.y=this.blockArr[e.x][e.y].realY,c.getComponent(cc.Sprite).spriteFrame=this.parBgPre[t],c.opacity=188,c.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.callFunc(function(t){this.blockArr[e.x][e.y].objNum=-1,this.blockArr[e.x][e.y].haveObj=!1,this.blockArr[e.x][e.y].Object.destroy(),t.destroy()},this)))}},boomPar:function(e,t,c){var o=Math.floor(2*Math.random())+3,i=c,a=3,r=this.blockArr[e.x][e.y].realX,s=this.blockArr[e.x][e.y].realY;3==c?(o+=7,i=3):2==c?(i=3.5,a=5,t+=1,o+=7):1==c&&(i=2,a=5,t+=1,o+=10);for(var h=0;h<o;h++){var l=cc.instantiate(this.parNode);l.parent=this.node,l.zIndex=a,2!=c?(l.scale=Math.random()*i+.5,l.x=r,l.y=s,3!=c&&(l.scale=Math.random()*i+.7)):(l.scale=2.3*Math.random()+.6,l.x=r+n.getRandomNum(-10,10,!0),l.y=s+n.getRandomNum(-10,10,!0));var u=this.getParArr(t),m=Math.floor(Math.random()*(u.length-1e-4));l.getComponent(cc.Sprite).spriteFrame=u[m],this.boomAction(l,c)}},getParArr:function(e){switch(e){case 0:return this.popUIArr0;case 1:return this.popUIArr1;case 2:return this.popUIArr2;case 3:return this.popUIArr3;case 4:return this.popUIArr4;case 5:return this.popUIArr5;case 6:return this.popUIArr6;case 7:return this.popUIArr7}},boomAction:function(e,t){var c=void 0,o=void 0,i=void 0;3==t?(i=1,o=.65,c=this.getParticleTargetP1(e)):2==t?(i=2,o=.55,e.opacity=200,c=this.getParticleTargetP2(e)):(i=1,o=.65,c=this.getParticleTargetP2(e));var a=360*Math.random(),n=80+60*Math.random();cc.jumpTo(o,c.x,c.y,n,1);e.runAction(cc.rotateBy(o,a));var r=cc.sequence(cc.spawn(cc.jumpTo(o,c.x,c.y,0,1),cc.callFunc(function(){},this)),cc.callFunc(function(e){e.destroy()},this,this)),s=cc.sequence(cc.spawn(cc.fadeTo(.55,180),cc.jumpTo(o,c.x,c.y,0,1)),cc.callFunc(function(e){e.destroy()},this)),h=cc.sequence(cc.spawn(cc.fadeTo(.45,180),cc.jumpTo(.45,c.x,c.y,0,1)),cc.callFunc(function(e){e.destroy()},this));2==i?e.runAction(s):1==i?e.runAction(h):3==i&&e.runAction(r)},getParticleTargetP:function(e){var t=180+.1*e.y,c=180+.1*e.y,o=e.x+Math.random()*t-t/2,i=e.y-Math.random()*(c/2);return cc.v2(o,i)},getParticleTargetP1:function(e,t){var c=360+.1*e.y,o=360+.1*e.y,i=e.x+Math.random()*c-c/2,a=e.y+Math.random()*o-o/2;return cc.v2(i,a)},getParticleTargetP2:function(e){var t=180+.1*e.y,c=180+.1*e.y,o=e.x+Math.random()*t-t/2,i=e.y+Math.random()*c-c/2;return cc.v2(o,i)},addScore:function(e,t){this.addScoreAction(e,t),o.gameScore+=e,this.sceneScore.string=o.gameScore},addScoreAction:function(e,t){var c=cc.instantiate(this.moveScore);c.getComponent(cc.Label).font=this.numFont[e-1],c.getComponent(cc.Label).string=e,c.getChildByName("New Sprite").getComponent(cc.Sprite).spriteFrame=this.moveScoreAddPic[e-1],c.parent=this.node,c.zIndex=4,c.setPosition(t),c.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(0,this.gameHeight/2-40)),cc.scaleTo(.5,.6).easing(cc.easeSineOut()),cc.fadeOut(.5,100)),cc.callFunc(function(e){e.destroy()},this)))},musicPlay:function(e){1==e&&cc.audioEngine.play(this.hechengMusic,!1,1),2==e&&cc.audioEngine.play(this.change,!1,1),3==e&&cc.audioEngine.play(this.gameOver,!1,1),4==e&&cc.audioEngine.play(this.selectMusic,!1,.8)},gameEnd:function(){o.GAME_OVER_BOOL=!1,a.gameOverShowText(o.gameScore,1),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(this.gameEnd1.bind(this))))},gameEnd1:function(){this.sceneScore.enabled=!1;var e=cc.instantiate(this.blackLayerPre);this.node.addChild(e,2600),e.x=0,e.y=0,e.opacity=0,e.active=!0,e.runAction(cc.fadeTo(.3,140)),this.gameOveEndBool=!0,1==o.curType?(this.gameOverT1.string="\u6e38 \u620f \u7ed3 \u675f",this.gameOverT2.string="\u70b9 \u51fb \u67e5 \u770b \u5206 \u6570"):2==o.curType?(this.gameOverT1.string="\u904a \u6232 \u7d50 \u675f",this.gameOverT2.string="\u9ede \u64ca \u67e5 \u770b \u5206 \u6578"):3==o.curType?(this.gameOverT1.string="Game Over",this.gameOverT2.string="Click to view the score"):4==o.curType&&(this.gameOverT1.string="\uac8c\uc784 \uc885\ub8cc",this.gameOverT2.string="\ud074\ub9ad \ud558\uc5ec \uc810\uc218 \ubcf4\uae30"),this.gameOverT1.node.zIndex=2999,this.gameOverT2.node.zIndex=2999,this.gameOverT1.node.opacity=0,this.gameOverT1.node.x=0,this.gameOverT1.node.y=100,this.gameOverT1.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(.5),cc.moveBy(.5,0,-50)),cc.callFunc(function(){},this),cc.callFunc(function(){e.canTouch=!0},this))),this.gameOverT2.node.opacity=0,this.gameOverT2.node.x=0,this.gameOverT2.node.y=this.gameOverT1.node.y-100,this.gameOverT2.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(.5),cc.moveBy(.5,0,-50)),cc.callFunc(function(e){e.runAction(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))).repeatForever()},this)))},initEndLayer:function(){var e=cc.instantiate(this.gameOverPre);this.node.addChild(e,2600)},gameOverGoToOVer:function(){this.gameOveEndBool&&(this.gameOverNum++,this.gameOverNum>=900&&(this.gameOverNum=0,this.gameOveEndBool=!1))}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage",mTool_WHQ:"mTool_WHQ"}],MainManage:[function(e,t,c){"use strict";cc._RF.push(t,"946adGkxvdBmZXnlD952XtK","MainManage");var o=e("HttpManagerJs"),i=e("LanguageSetJs"),a=e("GameConfig"),n=e("LoadSceneJs"),r=e("GameUiTools"),s={gameHttpId:0,subScoreHttp:null,gameNameText:null,gameInfoText:null,txtStartText:null,txtMoreText:null,txtAgainText:null,gameEndLText:null,gameEndL1Text:null,bgLayRgb:null,gameEndName1:null,gameEndName2:null,gameEndUrl1:null,gameEndUrl2:null,langugeType:1,ranLinkData:null,adShowBefore:!1,adShowAfter:!0,endLayCol:null,moreBtnBgCol:null,moreBtnTextCol:null,recGameData:null,recGameUrl:null,recGameDelPau:null,recGameDelPer:null,recGameimg1:null,recGameimg2:null,recGamePos:null,InfoData:null,endShow0:null,endShow1:null,endShow2:null,endShow3:null,infoGameName:null,showText:null,startText:null,moreGameText:null,playAgainText:null,endHttpShowInfo:null,moreGameUrl:null,init:function(e,t,c){if(!a.publicGameBool){if(a.playNum>=1)return;a.playNum++}a.launchScene=e,a.Bros=t,a.caS=c,this.curType=1,this.getHttpGameId(),this.gamePV_load(),console.log("thisg",this.gameHttpId),o.httpInitUrl(this.gameHttpId);var i=this.initLanguage();this.gameNameText=i.game_name,this.gameInfoText=i.game_info,this.txtStartText=i.txtStart,this.txtMoreText=i.txtMore,this.txtAgainText=i.txtAgain,this.gameEndLText=i.gameEndL,this.gameEndL1Text=i.gameEndL1,this.bgLayRgb=i.bgRgb,this.gameEndName1=i.gameT2,this.gameEndName2=i.gameT3,this.gameEndUrl1=i.gameUrl1,this.gameEndUrl2=i.gameUrl2,this.langugeType=this.curType,a.publicGameBool||n.goToCover(this.adShowBefore,this.adShowAfter,e,t,c)},getHttpGameId1:function(){var e=window.location.href,t=e.substring(0,e.lastIndexOf("//")+2),c=window.location.host,o=t+c+"/Service/Share/index";this.gameAllHttp=o,cc.log("gameAll",this.gameAllHttp),this.subScoreHttp=t+c+"/Service/Score/index",this.gamePvHttp=t+c+"/Service/GamePv/index";var i=document.URL,a=0,n=i.substring(i.lastIndexOf("/game/")+1,i.length).split("/");n.length>=2&&(a=n[1]),this.gameHttpId=a,cc.log("gameId",a);e.substring(e.lastIndexOf("//")+4,e.lastIndexOf("com")+3);this.moreGameUrl=this.httpHead+this.endHttp},getHttpGameId:function(){var e=window.location.href,t=e.substring(0,e.lastIndexOf("//")+2),c=window.location.host,o=t+c+"/Service/Share/index";this.gameAllHttp=o,this.subScoreHttp=t+c+"/Service/Score/index",this.gamePvHttp=t+c+"/Service/GamePv/index";var i=document.URL,a=i.lastIndexOf("/"),n=i.substring(0,a),r=(a=n.lastIndexOf("/"),n.substring(a+1,n.length));this.gameHttpId=r,console.log("gameIdNew",r);var s=e.substring(e.lastIndexOf("//")+4,e.lastIndexOf("com")+3);-1==e.search("/game/")?this.moreGameUrl=t+c:this.moreGameUrl=t+s,console.log("moreGame",this.moreGameUrl)},gameOverShowText:function(e,t){this.ajaxLoad(this.subScoreHttp,"gameScore="+e+"&gameId="+this.gameHttpId+"&gameType="+t,this.scoreResult)},gamePV_load:function(){this.ajaxLoad(this.gamePvHttp,"gameId="+this.gameHttpId,this.ajaxOnLogoResult)},ajaxOnLogoResult:function(){},ajaxLoad:function(e,t,c){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=c,o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(t)},scoreResult:function(e){if(null!=e.currentTarget.response&&""!=e.currentTarget.response){var t=JSON.parse(e.currentTarget.response);cc.log("endshow",t.content),s.endHttpShowInfo=t.content}},initLanguage:function(){var e=null;return cc.sys.language==cc.sys.LANGUAGE_CHINESE?(this.curType=1,e=i.language_1):(cc.log("\u82f1\u6587"),this.curType=2,e=i.language_2),e},getLinkGameReturn:function(e,t,c,o){if(console.log("err0",e),console.log("err1",t),console.log("err2",c),console.log("err3",o),0==e){this.ranLinkData=t,this.adShowBefore=this.ranLinkData.gameSet.adShowBefore,this.adShowAfter=this.ranLinkData.gameSet.adShowAfter,this.endLayCol=this.ranLinkData.gameSet.endLayerColor,this.moreBtnBgCol=this.ranLinkData.gameSet.moreBtnBgCol,this.moreBtnTextCol=this.ranLinkData.gameSet.moreBtnTextCol,this.moreGameUrl=this.ranLinkData.gameSet.moreBtnUrl,this.recGameData=c,this.ranRecGameData(),this.InfoData=o,this.endShow0=this.InfoData.endShow0,this.endShow1=this.InfoData.endShow1,this.endShow2=this.InfoData.endShow2,this.endShow3=this.InfoData.endShow3,this.infoGameName=this.InfoData.gameName,this.showText=this.InfoData.showText,this.startText=this.InfoData.startText,this.moreGameText=this.InfoData.moreGame,this.playAgainText=this.InfoData.rePlay,this.gameInfoText=this.InfoData.showText,this.txtStartText=this.InfoData.startText,this.txtMoreText=this.InfoData.moreGame,this.txtAgainText=this.InfoData.rePlay,console.log("LoadMainGameScnee");var i=a.launchScene,r=a.Bros,s=a.caS;n.goToCover(this.adShowBefore,this.adShowAfter,i,r,s)}},ranRecGameData:function(){if(null!=this.recGameData&&""!=this.recGameData){this.returnBool=!1;var e=this.recGameData.length,t=a.returnRanNum(1,e)-1;cc.log("ranNNN",t),this.recGameUrl=this.recGameData[t].data_link,this.recGameDelPer=this.recGameData[t].delay_per,this.recGameDelPau=this.recGameData[t].delay_pau,this.recGameimg1=this.recGameData[t].img_1,this.recGameimg2=this.recGameData[t].img_2,this.recGamePos=this.recGameData[t].poistion}},ranLinkUrl:function(){if(null!=this.ranLinkData&&this.ranLinkData.gameList&&null!=this.ranLinkData.gameList){var e=this.ranLinkData.gameList.length,t=a.returnRanNum(1,e)-1;return cc.log("templ",t,this.ranLinkData.gameList),cc.log("url",this.ranLinkData.gameList[0].gameName,this.ranLinkData.gameList[0].gameUrl),t}return null},gotoEndLayer:function(){this.showGameEndLayer()},showGameEndLayer:function(){console.log("Gottttttgameend"),r.loadingLayer("panel/GameOverLayer")}};t.exports=s,cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LanguageSetJs:"LanguageSetJs",LoadSceneJs:"LoadSceneJs"}],ToolsJs:[function(e,t,c){"use strict";cc._RF.push(t,"52099aBJmhHOr8TMrSsl3z4","ToolsJs");var o={SpriteFrameJs:null,AudioArrJs:null,setStorage:function(e,t,c){CC_WECHATGAME?wx.setStorage({key:e,data:t}):(c&&(t=JSON.stringify(t)),cc.sys.localStorage.setItem(e,t))},getStorage:function(e,t){if(CC_WECHATGAME)return wx.getStorageSync(e);var c=cc.sys.localStorage.getItem(e);return isNaN(c)||(c=parseInt(c)),"NaN"==c.toString()&&(c=null),t&&null!=c&&(c=JSON.parse(c)),c},logJsonObject:function(e){console.log(JSON.stringify(e))},loadJson:function(e,t){},writeJson:function(e,t){if(cc.sys.isBrowser){console.log("\u6d4f\u89c8\u5668");var c=new Blob([e],{type:"application/json"}),o=document.createElement("a");o.download=t,o.innerHTML="Download File",null!=window.webkitURL?o.href=window.webkitURL.createObjectURL(c):(o.href=window.URL.createObjectURL(c),o.onclick=destroyClickedElement,o.style.display="none",document.body.appendChild(o)),o.click()}},addNoArr:function(e,t){return e.indexOf(t)<0&&(e.push(t),!0)},newSprite:function(e){if(null!=this.SpriteFrameJs.getSpriteFrame(e)){var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(e),t}return null},setTexture:function(e,t){e.getComponent(cc.Sprite).spriteFrame=this.SpriteFrameJs.getSpriteFrame(t)},clonePrefabs:function(e,t,c){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.PrefabArrJs.getPrefabs(e);if(null!=i){var a=cc.instantiate(i);return null!=t&&t.addChild(a,o),null!=c&&(a.position=c),a}return console.log("\u514b\u9686\u9884\u5236\u4f53\u5931\u8d25:"+e),null},newLabel:function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=new cc.Node;n.anchorX=o,n.anchorY=i;var r=n.addComponent(cc.Label);return r.string=e,r.fontSize=c,t.addChild(n,a),n},playAudio:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.AudioArrJs?this.AudioArrJs.playAudio(e,t,c):cc.audioEngine.play(cc.url.raw("resources/music/"+e+".mp3"),c,t)},stopAudio:function(e){null!=e&&cc.audioEngine.stop(e)},newAduioSource:function(e){var t=void 0;if(null!=this.AudioArrJs)t=this.AudioArrJs.getAudioClip(e);else{if(null==e)return console.log("clip\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;t=e}var c=new cc.Node;return c.addComponent(cc.AudioSource).clip=t,c.getComponent(cc.AudioSource)},delayTimeCall:function(e,t,c,o){e.runAction(cc.sequence(cc.delayTime(c),cc.callFunc(t,o)))},getDistance:function(e,t){return e.sub(t).mag()},getToNodePos:function(e,t){var c=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(c)},getToWorldPosAR:function(e){return e.parent.convertToWorldSpaceAR(e.position)},getToWorldPos:function(e){return e.parent.convertToWorldSpace(e.position)},isBoxContainPos:function(e,t){return e.getBoundingBox().contains(t)},isBoxContainWorldPos:function(e,t){return e.getBoundingBoxToWorld().contains(t)},isRectInterRect:function(e,t){return e.getBoundingBoxToWorld().intersects(t.getBoundingBoxToWorld())},returnRandom:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}};window.ToolsJs=o,cc._RF.pop()},{}],endBlackJS:[function(e,t,c){"use strict";cc._RF.push(t,"10c1aPfzmNB9qwshKRmLq1A","endBlackJS");var o=e("GameConfig");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.mainSelf=cc.find("Canvas").getComponent("MainGameJS")},clickEnterOverLayer:function(){this.node.canTouch&&(this.node.canTouch=!1,o.publicGameBool||adBreak({type:"next",name:"restart-game"}),this.mainSelf.initEndLayer(),this.mainSelf.gameOverT1.node.destroy(),this.mainSelf.gameOverT2.node.destroy())},start:function(){},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig"}],gameOverJs:[function(e,t,c){"use strict";cc._RF.push(t,"3621brbM61BsYFG7fM/74TL","gameOverJs");var o=e("GameUiTools"),i=e("GameConfig"),a=e("MainManage");cc.Class({extends:cc.Component,properties:{bgLayer:cc.Node,overScoreT:cc.Label,overInfoT:cc.Label,moreBtn:cc.Button,leftBtn:cc.Button,maxScoreText:cc.Label,mainNode:cc.Node,replayBtn:cc.Node},onLoad:function(){this.bgLayer.opacity=160,this.bgLayer.height=2e3,this.canTouchReplay=!1,this.standardScore=i.standScore,this.game_max_score=2*this.standardScore,this.endPercent=this.getPercent(i.gameScore),this.rigthBtnGameName=null,this.rightBtnGameUrl=null,this.UIPosChange(),this.addClickBtns();var e=this.returnCurrentLanType();var t=i.gameScore,c=this.getHighScore();c?c<i.gameScore&&(this.setHisSocre(i.gameScore),c=i.gameScore):(this.setHisSocre(i.gameScore),c=t),this.maxScoreText.string=c,this.maxScoreText._forceUpdateRenderData();var o;o=this.maxScoreText.node.width;var a=this.maxScoreText.node.children[0],n=o+a.width*a.scale*this.maxScoreText.node.scale+8;this.maxScoreText.node.x=n/2-o,this.node.opacity=0,this.node.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){this.canTouchReplay=!0,this.replayBtn.runAction(cc.sequence(cc.delayTime(2),cc.scaleTo(.3,1.2).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut()))).repeatForever()},this))),this.moreBtn.node.y=cc.winSize.height/2-80},returnCurrentLanType:function(){var e=1;switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:"zh-TW"==window.navigator.language||"zh-tw"==window.navigator.language||"zh-HK"==window.navigator.language||"zh-hk"==window.navigator.language?(cc.log("\u7e41\u4f53"),e=2):(cc.log("\u7b80\u4f53"),e=1);break;case cc.sys.LANGUAGE_KOREAN:e=4;break;default:e=3}return e},setHisSocre:function(e){cc.sys.localStorage.setItem("HigScore_MasterOrganizersWS",e)},getHighScore:function(){return cc.sys.localStorage.getItem("HigScore_MasterOrganizersWS")},UIPosChange:function(){this.overScoreT.string=i.gameScore,console.log("lang",a.langugeType);var e=null,t=null;1==i.curType?(e=this.getContentByScore(i.gameScore,a.gameNameText),t=this.getContentByScore1(i.gameScore,a.gameNameText)):2==i.curType?(e=this.getContentByScore2_1(i.gameScore,a.gameNameText),t=this.getContentByScore2(i.gameScore,a.gameNameText)):3==i.curType?(e=this.getContentByScore3_1(i.gameScore,a.gameNameText),t=this.getContentByScore3(i.gameScore,a.gameNameText)):4==i.curType&&(e=this.getContentByScore4_1(i.gameScore,a.gameNameText),t=this.getContentByScore4(i.gameScore,a.gameNameText)),console.log("nihao",a.endHttpShowInfo),this.overInfoT.string=t,document.title=e},addClickBtns:function(){var e=this;e.moreBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.moreBtn.node.on(cc.Node.EventType.TOUCH_END,function(e){console.log("MoreGame"),window.location.href=a.moreGameUrl}),e.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(e){}),e.leftBtn.node.on(cc.Node.EventType.TOUCH_END,function(t){e.canTouchReplay&&(cc.eventManager.removeAllListeners(),i.GAME_OVER_BOOL=!0,i.gameScore=1,i.publicGameBool||adBreak({type:"next",name:"restart-game"}),console.log("loadScene"),o.loadingScene("MainGameScene"))})},getPercent:function(e){return e<=0?0:e<=100?1+Math.floor(3*Math.random()):e<=200?5+Math.floor(10*Math.random()):e<=300?10+Math.floor(10*Math.random()):e<=350?20+Math.floor(15*Math.random()):e<=400?30+Math.floor(15*Math.random()):e<=450?40+Math.floor(20*Math.random()):e<=500?50+Math.floor(30*Math.random()):e<=600?60+Math.floor(30*Math.random()):e<=700?70+Math.floor(25*Math.random()):e<=800?80+Math.floor(19*Math.random()):e<=1e3?91+Math.floor(9*Math.random()):100},getContentByScore:function(e,t){var c="\u6211\u771f\u662f\u592a\u5389\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u4e2a\u4eba\u5f970\u5206\uff01",o=parseInt(.3*this.standardScore),i=parseInt(.5*this.standardScore),a=parseInt(.7*this.standardScore),n=parseInt(.9*this.standardScore),r=this.endPercent;return e>0&&e<=o?c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":e>o&&e<=this.standardScore?c="\u6211\u5728"+t+"\u4e2d\u5f97\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":e>this.standardScore&&e<=i?c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u4fe1\u624b\u62c8\u6765\u7684\u5883\u754c\uff01":e>i&&e<=a?c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u8fdb\u5165\u4e86\u8fd0\u7528\u81ea\u5982\u7684\u5883\u754c\uff01":e>a&&e<=n?c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u8fbe\u5230\u4e86\u884c\u4e91\u6d41\u6c34\u7684\u5883\u754c\uff01":e>n&&e<this.game_max_score?c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u72ec\u5b64\u6c42\u8d25\uff01":e>=this.game_max_score&&(c="\u6211\u5728"+t+"\u4e2d\u51fb\u8d25\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u8d85\u8d8a\u4e86\u72ec\u5b64\u6c42\u8d25\uff0c\u5fc3\u6709\u7075\u7280\uff01"),c},getContentByScore2_1:function(e,t){var c="\u6211\u771f\u662f\u592a\u53b2\u5bb3\uff0c\u5728"+t+"\u4e2d\u7adf\u7136\u5f97\u4e860\u5206\uff0c\u5168\u7403\u53ea\u67091\u500b\u4eba\u5f970\u5206\uff01",o=parseInt(.3*this.standardScore),i=parseInt(.5*this.standardScore),a=parseInt(.7*this.standardScore),n=parseInt(.9*this.standardScore),r=this.endPercent;return e>0&&e<=o?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7df4\u7df4\u5c31\u80fd\u9054\u5230\u904a\u5203\u6709\u9918\u7684\u5883\u754c\uff01":e>o&&e<=this.standardScore?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u771f\u662f\u592a\u68d2\u4e86\uff0c\u518d\u7ec3\u7ec3\u5c31\u80fd\u8fbe\u5230\u6e38\u5203\u6709\u4f59\u7684\u5883\u754c\uff01":e>this.standardScore&&e<=i?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u9032\u5165\u4e86\u4fe1\u624b\u62c8\u4f86\u7684\u5883\u754c\uff01":e>i&&e<=a?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u9032\u5165\u4e86\u904b\u7528\u81ea\u5982\u7684\u5883\u754c\uff01":e>a&&e<=n?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u9054\u5230\u4e86\u884c\u96f2\u6d41\u6c34\u7684\u5883\u754c\uff01":e>n&&e<this.game_max_score?c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u7368\u5b64\u6c42\u6557\uff01":e>=this.game_max_score&&(c="\u6211\u5728"+t+"\u4e2d\u64ca\u6557\u4e86\u5168\u7403"+r+"%\u7684\u73a9\u5bb6\uff0c\u8d85\u8d8a\u4e86\u7368\u5b64\u6c42\u6557\uff0c\u5fc3\u6709\u9748\u7280\uff01"),c},getContentByScore3_1:function(e,t){var c="I'm awesome\uff0cin"+t+"get 0 score\uff0conly one person in the world has a 0\uff01",o=parseInt(.3*this.standardScore),i=parseInt(.5*this.standardScore),a=parseInt(.7*this.standardScore),n=parseInt(.9*this.standardScore),r=this.endPercent;if(e>=this.game_max_score)c="I got "+e+" points in the game, defeating all players worldwide, waiting for you to fight!";else if(e>0&&e<=o)c="I got "+e+" points in the game, really great\uff01";else if(e>o&&e<=this.standardScore)c="I got "+e+" points in the game, really great\uff01";else if(e>this.standardScore&&e<=i)c="I got "+e+" points in the game , beating out "+r+"% of global players\uff01";else if(e>i&&e<=a)c="I got "+e+" points in the game , beating out "+r+"% of global players\uff01";else if(e>a&&e<=n)c="I got "+e+" points in the game , beating out 99% of global players\uff01";else if(e>n&&e<this.game_max_score){c="I got "+e+" points in the game, it said to be the world's only 10 people to reach this level! Have you?"}return c},getContentByScore4_1:function(e,t){var c="\ub09c \uc815\ub9d0 \ub300\ub2e8 \ud574, \uac8c\uc784 \uc5d0\uc11c \ubb34\ub824 0 \uc810 \uc744 \ubc1b \uc558 \uc2b5 \ub2c8 \ub2e4. \uc804 \uc138\uacc4 \uc5d0\uc11c 1 \uba85 \ub9cc 0 \uc810 \uc744 \ubc1b \uc558 \uc2b5 \ub2c8 \ub2e4!",o=parseInt(.3*this.standardScore),i=parseInt(.5*this.standardScore),a=parseInt(.7*this.standardScore),n=parseInt(.9*this.standardScore),r=this.endPercent;return e>0&&e<=o?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>o&&e<=this.standardScore?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>this.standardScore&&e<=i?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>i&&e<=a?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>a&&e<=n?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>n&&e<this.game_max_score?c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!":e>=this.game_max_score&&(c="\uc800 \ub294 \uac8c\uc784 \uc5d0\uc11c "+e+" \uc810 \uc744 \ud68d\ub4dd \ud558\uc5ec \uc804 \uc138\uacc4 "+r+"% \uc720 \uc800 \ub97c \uaca9\ud30c \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!"),c},getContentByScore1:function(e,t){return cc.log("dasedaww"),"\u51fb\u8d25\u4e86\u5168\u7403"+this.endPercent+"%\u7684\u73a9\u5bb6\uff01"},getContentByScore2:function(e,t){return"\u64ca\u6557\u4e86\u5168\u7403"+this.endPercent+"%\u7684\u73a9\u5bb6\uff01"},getContentByScore3:function(e,t){return"Beat "+this.endPercent+"% of the world's players!"},getContentByScore4:function(e,t){return"\uc804 \uc138\uacc4"+this.endPercent+"%\uc720 \uc800 \ub97c \ucc98\uce58 \ud558 \uc600 \uc2b5 \ub2c8 \ub2e4!"},start:function(){},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",MainManage:"MainManage"}],linkHttpIconJs:[function(e,t,c){"use strict";cc._RF.push(t,"95474fr0oNDP7SAidILF03q","linkHttpIconJs");var o=e("MainManage"),i=e("GameConfig");cc.Class({extends:cc.Component,properties:{iconSpr:cc.Node,iconSpr1:cc.Node},onLoad:function(){if(this._imageArr=[],this.stopUpdateBool=!0,this.gameWidth=cc.winSize.width,this.gameHeight=cc.winSize.height,null!=o.recGameData&&""!=o.recGameData&&null!=o.recGameimg1&&""!=o.recGameimg1){var e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2;null!=o.recGamePos&&""!=o.recGamePos&&(1==o.recGamePos?(e=50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):2==o.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=this.gameHeight-50-this.gameHeight/2):3==o.recGamePos?(e=this.gameWidth-50-this.gameWidth/2,t=50-this.gameHeight/2):4==o.recGamePos&&(e=50-this.gameWidth/2,t=50-this.gameHeight/2));var c=o.recGameimg1,i=o.recGameimg2,a=this.iconSpr,n=this.iconSpr1,r=this;cc.loader.load(c,function(c,o){a.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o),r.iconSpr.opacity=0,r.iconSpr.x=e,r.iconSpr.y=t,r._imageArr.push(r.iconSpr)}),cc.loader.load(i,function(c,o){n.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o),r.iconSpr1.opacity=0,r.iconSpr1.x=e,r.iconSpr1.y=t,r._imageArr.push(r.iconSpr1)})}this.addTouchEvents()},showLinkPic:function(){var e=0,t=0;e=null!=o.recGameDelPau?o.recGameDelPau:6,cc.log("dMainManager.recGameDelPer",o.recGameDelPer),t=null!=o.recGameDelPer?o.recGameDelPer:.7,this._imageArr[0].opacity=255,this._imageArr[0].runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.rotateBy(t,0,180),cc.callFunc(function(){this._imageArr[0].setRotation(0),this._imageArr[0].opacity=0,this._imageArr[1].opacity=255},this),cc.delayTime(e),cc.callFunc(function(){this.flowerAction(this._imageArr[1],t)},this),cc.delayTime(t),cc.callFunc(function(){this._imageArr[1].opacity=0,this._imageArr[0].opacity=255},this))))},flowerAction:function(e,t){e.runAction(cc.sequence(cc.rotateBy(t,0,180),cc.callFunc(function(){e.setRotation(0)})))},start:function(){},addTouchEvents:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,c){var a=t.getLocation();if(e._imageArr.length>=2){var n=Math.abs(a.x-e.gameWidth/2-e._imageArr[0].x),r=Math.abs(a.y-e.gameHeight/2-e._imageArr[0].y);n<=30&&r<=30&&(i.noTouchBool=!1,null!=o.recGameUrl&&""!=o.recGameUrl&&(e._imageArr[0].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){window.location.href=o.recGameUrl}))),e._imageArr[1].runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1)))),console.log("touchLinkHttp"))}return!0},onTouchMoved:function(e,t){},onTouchEnded:function(e,t){}};cc.eventManager.addListener(t,e.node)},update:function(e){this.stopUpdateBool&&this._imageArr.length>=2&&(this.stopUpdateBool=!1,this.showLinkPic())}}),cc._RF.pop()},{GameConfig:"GameConfig",MainManage:"MainManage"}],mTool_WHQ:[function(e,t,c){"use strict";cc._RF.push(t,"fe57af2WNxE+67eFxNClrcq","mTool_WHQ");var o={getRandomNum:function(e,t,c){return c?Math.floor(Math.random()*(t-e+1)+e):Math.random()*(t-e)+e},cbPosToWorldPos:function(e,t,c,o,i,a,n){var r=c+(e.x-t/2+.5)*i,s=o+(e.y+.5)*a;return cc.v2(r,s)},worldPosToCbPos:function(e,t,c,o,i,a){var n=(e.x-c)/i-.5+t/2,r=(e.y-o)/a-.5;return n%1==0&&r%1==0||(n=Math.round(n),r=Math.round(r)),cc.v2(n,r)},judgeInArr:function(e,t){for(var c=0;c<t.length;c++)if(t[c]===e)return!0;return!1},getAngleByPos:function(e,t){var c=t.x-e.x,o=t.y-e.y;return 360*Math.atan(o/c)/(2*Math.PI)},judgeIntersect:function(e,t,c,o,i,a,n,r){return Math.min(e,c)<=Math.max(i,n)&&Math.min(a,r)<=Math.max(t,o)&&Math.min(i,n)<=Math.max(e,c)&&Math.min(t,o)<=Math.max(a,r)&&(((i-e)*(o-t)-(c-e)*(a-t))*((n-e)*(o-t)-(c-e)*(r-t))<=1e-8&&((e-i)*(r-a)-(n-i)*(t-a))*((c-i)*(r-a)-(n-i)*(o-a))<=1e-8)},getNormalizeVector:function(e,t){return t.sub(e).normalize()},judgeItemOverlapping:function(e,t,c,o,i,a,n,r){return!(e+c<i||i+n<e||t+o<a||a+r<t)},getCircumferencePos:function(e,t,c){var o=cc.v2(0,0);return o.x=e.x+Math.sin(2*Math.PI/360*c)*t,o.y=e.y+Math.cos(2*Math.PI/360*c)*t,o},upsetArr:function(e){return e.sort(function(e,t){return Math.random()>.5?-1:1})},getAudio:function(e,t){return cc.sys.os===cc.sys.OS_IOS?e:t},setLocalData:function(e,t){cc.sys.localStorage.setItem(e,t)},getLocalData:function(e){return cc.sys.localStorage.getItem(e)},getNodePos:function(e,t,c){return c?e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(c)):e.convertToNodeSpaceAR(t.convertToWorldSpaceAR())},judgeArrSame:function(e,t){for(var c=0;c<e.length;c++)for(var o=0;o<t.length;o++)if(e[c]!==t[o])return!1;return!0},pDistance:function(e,t){return e.sub(t).mag()},getAngleByVector:function(e){return e.y<0?360-cc.v2(1,0).angle(e)/Math.PI*180:cc.v2(1,0).angle(e)/Math.PI*180},getBoundingBoxToNode:function(e,t){var c=t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(-e.anchorX*e.width*(e.scaleX/Math.abs(e.scaleX)),-e.anchorY*e.height*(e.scaleY/Math.abs(e.scaleY)))));return cc.rect(c.x,c.y,e.width*Math.abs(e.scaleX),e.height*Math.abs(e.scaleY))},degreesToVectors:function(e){var t=cc.misc.degreesToRadians(e);return cc.v2(1,0).rotate(-t)},vectorsToDegrees:function(e){if(Math.abs(e.x)+Math.abs(e.y)!==0){var t=cc.v2(1,0),c=e.signAngle(t);return cc.misc.radiansToDegrees(c)}return 0}};t.exports=o,cc._RF.pop()},{}],resArr:[function(e,t,c){"use strict";cc._RF.push(t,"2b8canHWrhHIa2lNTCdP+q1","resArr"),cc.Class({extends:cc.Component,properties:{SpriteFrameArr:[cc.SpriteFrame],PrefabArr:[cc.Prefab],audiosArr:{type:cc.AudioClip,default:[]}},onLoad:function(){void 0!=ToolsJs&&(ToolsJs.PrefabArrJs=this,ToolsJs.SpriteFrameJs=this,ToolsJs.AudioArrJs=this),this.addPrefabs(),this.addSpriteFrame(),this.audioClipDic={};for(var e=0;e<this.audiosArr.length;e++){var t=this.audiosArr[e];this.audioClipDic[t.name]=t}},playAudio:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return null!=this.audioClipDic[e]?cc.audioEngine.play(this.audioClipDic[e],c,t):(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+e),null)},getAudioClip:function(e){return null!=this.audioClipDic[e]?this.audioClipDic[e]:(console.log("\u6ca1\u6709\u627e\u5230\u97f3\u9891\uff1a"+e),null)},addSpriteFrame:function(){this.spriteArr={};for(var e=0;e<this.SpriteFrameArr.length;e++){var t=this.SpriteFrameArr[e];null!=t&&(this.spriteArr[t.name]=t)}},getSpriteFrame:function(e){return null!=this.spriteArr[e]?this.spriteArr[e]:(console.log("\u6ca1\u6709\u6dfb\u52a0\u56fe\u7247\uff1a"+e),null)},addPrefabs:function(){this.prefabsArr={};for(var e=0;e<this.PrefabArr.length;e++){var t=this.PrefabArr[e];this.prefabsArr[t.name]=t}},getPrefabs:function(e){return null!=this.prefabsArr[e]?this.prefabsArr[e]:(console.log("\u6ca1\u6709\u9884\u5236\u4f53\uff1a"+e),null)}}),cc._RF.pop()},{}],startGameJs:[function(e,t,c){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","startGameJs");e("GameUiTools"),e("HttpManagerJs");var o=e("MainManage"),i=(e("LoadSceneJs"),e("GameConfig"));cc.Class({extends:cc.Component,properties:{showInfoT:cc.Label,startT:cc.Label},onLoad:function(){i.publicGameBool&&o.init(),this.showInfoT.string=o.gameInfoText,this.startT.string=o.txtStartText,this.node.zIndex=100,this.node.on("touchend",function(e){this.node.x=-2e3},this)},update:function(e){}}),cc._RF.pop()},{GameConfig:"GameConfig",GameUiTools:"GameUiTools",HttpManagerJs:"HttpManagerJs",LoadSceneJs:"LoadSceneJs",MainManage:"MainManage"}]},{},["HttpManagerJs","LanguageSetJs","LoadSceneJs","AniTools","MainGameJS","ToolsJs","resArr","MainManage","GameConfig","GameUiTools","mTool_WHQ","gameOverJs","linkHttpIconJs","endBlackJS","startGameJs"]);